module.exports=[874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},32829,(a,b,c)=>{"use strict";b.exports=function(a,b){return function(c,d){var e=2*d,f=2*b;c[e]=a[f],c[e+1]=a[f+1]}}},93223,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d,e=(d=a.r(32829))&&d.__esModule?d:{default:d};c.default=function(a){for(var b=a.A,c=a.C,d=0;d<25;d+=5){for(var f=0;f<5;f++)(0,e.default)(b,d+f)(c,f);for(var g=0;g<5;g++){var h=(d+g)*2,i=(g+1)%5*2,j=(g+2)%5*2;b[h]^=~c[i]&c[j],b[h+1]^=~c[i+1]&c[j+1]}}}},94017,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=new Uint32Array([0,1,0,32898,0x80000000,32906,0x80000000,0x80008000,0,32907,0,0x80000001,0x80000000,0x80008081,0x80000000,32777,0,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0x80000000,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0,32778,0x80000000,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0,0x80000001,0x80000000,0x80008008])},67683,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d,e=(d=a.r(94017))&&d.__esModule?d:{default:d};c.default=function(a){var b=a.A,c=2*a.roundIndex;b[0]^=e.default[c],b[1]^=e.default[c+1]}},80397,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1]},45712,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44]},69006,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=g(a.r(80397)),e=g(a.r(45712)),f=g(a.r(32829));function g(a){return a&&a.__esModule?a:{default:a}}c.default=function(a){var b=a.A,c=a.C,g=a.W;(0,f.default)(b,1)(g,0);for(var h=0,i=0,j=0,k=32,l=0;l<24;l++){var m=d.default[l],n=e.default[l];(0,f.default)(b,m)(c,0),h=g[0],i=g[1],k=32-n,g[j=n<32?0:1]=h<<n|i>>>k,g[(j+1)%2]=i<<n|h>>>k,(0,f.default)(g,0)(b,m),(0,f.default)(c,0)(g,0)}}},44987,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d,e=(d=a.r(32829))&&d.__esModule?d:{default:d};c.default=function(a){for(var b=a.A,c=a.C,d=a.D,f=a.W,g=0,h=0,i=0;i<5;i++){var j=2*i,k=(i+5)*2,l=(i+10)*2,m=(i+15)*2,n=(i+20)*2;c[j]=b[j]^b[k]^b[l]^b[m]^b[n],c[j+1]=b[j+1]^b[k+1]^b[l+1]^b[m+1]^b[n+1]}for(var o=0;o<5;o++){(0,e.default)(c,(o+1)%5)(f,0),g=f[0],h=f[1],f[0]=g<<1|h>>>31,f[1]=h<<1|g>>>31,d[2*o]=c[(o+4)%5*2]^f[0],d[2*o+1]=c[(o+4)%5*2+1]^f[1];for(var p=0;p<25;p+=5)b[(p+o)*2]^=d[2*o],b[(p+o)*2+1]^=d[2*o+1]}}},62082,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=h(a.r(93223)),e=h(a.r(67683)),f=h(a.r(69006)),g=h(a.r(44987));function h(a){return a&&a.__esModule?a:{default:a}}c.default=function(){var a=new Uint32Array(10),b=new Uint32Array(10),c=new Uint32Array(2);return function(h){for(var i=0;i<24;i++)(0,g.default)({A:h,C:a,D:b,W:c}),(0,f.default)({A:h,C:a,W:c}),(0,d.default)({A:h,C:a}),(0,e.default)({A:h,roundIndex:i});a.fill(0),b.fill(0),c.fill(0)}}},60386,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d,e=a.r(874),f=(d=a.r(62082))&&d.__esModule?d:{default:d},g=function(a,b){for(var c=0;c<a.length;c+=8){var d=c/4;b[d]^=a[c+7]<<24|a[c+6]<<16|a[c+5]<<8|a[c+4],b[d+1]^=a[c+3]<<24|a[c+2]<<16|a[c+1]<<8|a[c]}return b},h=function(a,b){for(var c=0;c<b.length;c+=8){var d=c/4;b[c]=a[d+1],b[c+1]=a[d+1]>>>8,b[c+2]=a[d+1]>>>16,b[c+3]=a[d+1]>>>24,b[c+4]=a[d],b[c+5]=a[d]>>>8,b[c+6]=a[d]>>>16,b[c+7]=a[d]>>>24}return b};c.default=function(a){var b=this,c=a.capacity,d=a.padding,i=(0,f.default)(),j=c/8,k=200-c/4,l=0,m=new Uint32Array(50),n=e.Buffer.allocUnsafe(k);return this.absorb=function(a){for(var c=0;c<a.length;c++)n[l]=a[c],(l+=1)>=k&&(g(n,m),i(m),l=0);return b},this.squeeze=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b={buffer:a.buffer||e.Buffer.allocUnsafe(j),padding:a.padding||d,queue:e.Buffer.allocUnsafe(n.length),state:new Uint32Array(m.length)};n.copy(b.queue);for(var c=0;c<m.length;c++)b.state[c]=m[c];b.queue.fill(0,l),b.queue[l]|=b.padding,b.queue[k-1]|=128,g(b.queue,b.state);for(var f=0;f<b.buffer.length;f+=k)i(b.state),h(b.state,b.buffer.slice(f,f+k));return b.buffer},this.reset=function(){return n.fill(0),m.fill(0),l=0,b},this}},72433,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.SHAKE=c.SHA3Hash=c.SHA3=c.Keccak=void 0;var d,e=a.r(874),f=(d=a.r(60386))&&d.__esModule?d:{default:d},g=function(a){var b=a.allowedSizes,c=a.defaultSize,d=a.padding;return function a(){var g=this,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;if(!this||this.constructor!==a)return new a(h);if(b&&!b.includes(h))throw Error("Unsupported hash length");var i=new f.default({capacity:h});return this.update=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(e.Buffer.isBuffer(a))return i.absorb(a),g;if("string"==typeof a)return g.update(e.Buffer.from(a,b));throw TypeError("Not a string or buffer")},this.digest=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",b="string"==typeof a?{format:a}:a,c=i.squeeze({buffer:b.buffer,padding:b.padding||d});return b.format&&"binary"!==b.format?c.toString(b.format):c},this.reset=function(){return i.reset(),g},this}},h=g({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});c.Keccak=h;var i=g({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});c.SHA3=i,c.SHAKE=g({allowedSizes:[128,256],defaultSize:256,padding:31}),c.SHA3Hash=h,i.SHA3Hash=h,c.default=i},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},21201,(a,b,c)=>{!function(b,c){"use strict";function d(a,b){if(!a)throw Error(b||"Assertion failed")}function e(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}function f(a,b,c){if(f.isBN(a))return a;this.negative=0,this.words=null,this.length=0,this.red=null,null!==a&&(("le"===b||"be"===b)&&(c=b,b=10),this._init(a||0,b||10,c||"be"))}b.exports=f,f.BN=f,f.wordSize=26;try{j=a.r(874).Buffer}catch(a){}function g(a,b){var c=a.charCodeAt(b);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function h(a,b,c){var d=g(a,c);return c-1>=b&&(d|=g(a,c-1)<<4),d}function i(a,b,c,d){for(var e=0,f=Math.min(a.length,c),g=b;g<f;g++){var h=a.charCodeAt(g)-48;e*=d,h>=49?e+=h-49+10:h>=17?e+=h-17+10:e+=h}return e}f.isBN=function(a){return a instanceof f||null!==a&&"object"==typeof a&&a.constructor.wordSize===f.wordSize&&Array.isArray(a.words)},f.max=function(a,b){return a.cmp(b)>0?a:b},f.min=function(a,b){return 0>a.cmp(b)?a:b},f.prototype._init=function(a,b,c){if("number"==typeof a)return this._initNumber(a,b,c);if("object"==typeof a)return this._initArray(a,b,c);"hex"===b&&(b=16),d(b===(0|b)&&b>=2&&b<=36);var e=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(e++,this.negative=1),e<a.length&&(16===b?this._parseHex(a,e,c):(this._parseBase(a,b,e),"le"===c&&this._initArray(this.toArray(),b,c)))},f.prototype._initNumber=function(a,b,c){a<0&&(this.negative=1,a=-a),a<0x4000000?(this.words=[0x3ffffff&a],this.length=1):a<0x10000000000000?(this.words=[0x3ffffff&a,a/0x4000000&0x3ffffff],this.length=2):(d(a<0x20000000000000),this.words=[0x3ffffff&a,a/0x4000000&0x3ffffff,1],this.length=3),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initArray=function(a,b,c){if(d("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=Array(this.length);for(var e,f,g=0;g<this.length;g++)this.words[g]=0;var h=0;if("be"===c)for(g=a.length-1,e=0;g>=0;g-=3)f=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[e]|=f<<h&0x3ffffff,this.words[e+1]=f>>>26-h&0x3ffffff,(h+=24)>=26&&(h-=26,e++);else if("le"===c)for(g=0,e=0;g<a.length;g+=3)f=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[e]|=f<<h&0x3ffffff,this.words[e+1]=f>>>26-h&0x3ffffff,(h+=24)>=26&&(h-=26,e++);return this.strip()},f.prototype._parseHex=function(a,b,c){this.length=Math.ceil((a.length-b)/6),this.words=Array(this.length);for(var d,e=0;e<this.length;e++)this.words[e]=0;var f=0,g=0;if("be"===c)for(e=a.length-1;e>=b;e-=2)d=h(a,b,e)<<f,this.words[g]|=0x3ffffff&d,f>=18?(f-=18,g+=1,this.words[g]|=d>>>26):f+=8;else for(e=(a.length-b)%2==0?b+1:b;e<a.length;e+=2)d=h(a,b,e)<<f,this.words[g]|=0x3ffffff&d,f>=18?(f-=18,g+=1,this.words[g]|=d>>>26):f+=8;this.strip()},f.prototype._parseBase=function(a,b,c){this.words=[0],this.length=1;for(var d=0,e=1;e<=0x3ffffff;e*=b)d++;d--,e=e/b|0;for(var f=a.length-c,g=f%d,h=Math.min(f,f-g)+c,j=0,k=c;k<h;k+=d)j=i(a,k,k+d,b),this.imuln(e),this.words[0]+j<0x4000000?this.words[0]+=j:this._iaddn(j);if(0!==g){var l=1;for(j=i(a,k,a.length,b),k=0;k<g;k++)l*=b;this.imuln(l),this.words[0]+j<0x4000000?this.words[0]+=j:this._iaddn(j)}this.strip()},f.prototype.copy=function(a){a.words=Array(this.length);for(var b=0;b<this.length;b++)a.words[b]=this.words[b];a.length=this.length,a.negative=this.negative,a.red=this.red},f.prototype.clone=function(){var a=new f(null);return this.copy(a),a},f.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var j,k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function n(a,b,c){c.negative=b.negative^a.negative;var d=a.length+b.length|0;c.length=d,d=d-1|0;var e=0|a.words[0],f=0|b.words[0],g=e*f,h=0x3ffffff&g,i=g/0x4000000|0;c.words[0]=h;for(var j=1;j<d;j++){for(var k=i>>>26,l=0x3ffffff&i,m=Math.min(j,b.length-1),n=Math.max(0,j-a.length+1);n<=m;n++){var o=j-n|0;k+=(g=(e=0|a.words[o])*(f=0|b.words[n])+l)/0x4000000|0,l=0x3ffffff&g}c.words[j]=0|l,i=0|k}return 0!==i?c.words[j]=0|i:c.length--,c.strip()}f.prototype.toString=function(a,b){if(b=0|b||1,16===(a=a||10)||"hex"===a){for(var c="",e=0,f=0,g=0;g<this.length;g++){var h=this.words[g],i=((h<<e|f)&0xffffff).toString(16);f=h>>>24-e&0xffffff,(e+=2)>=26&&(e-=26,g--),c=0!==f||g!==this.length-1?k[6-i.length]+i+c:i+c}for(0!==f&&(c=f.toString(16)+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}if(a===(0|a)&&a>=2&&a<=36){var j=l[a],n=m[a];c="";var o=this.clone();for(o.negative=0;!o.isZero();){var p=o.modn(n).toString(a);c=(o=o.idivn(n)).isZero()?p+c:k[j-p.length]+p+c}for(this.isZero()&&(c="0"+c);c.length%b!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}d(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?a+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(a,b){return d(void 0!==j),this.toArrayLike(j,a,b)},f.prototype.toArray=function(a,b){return this.toArrayLike(Array,a,b)},f.prototype.toArrayLike=function(a,b,c){var e,f,g=this.byteLength(),h=c||Math.max(1,g);d(g<=h,"byte array longer than desired length"),d(h>0,"Requested array length <= 0"),this.strip();var i=new a(h),j=this.clone();if("le"===b){for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[f]=e;for(;f<h;f++)i[f]=0}else{for(f=0;f<h-g;f++)i[f]=0;for(f=0;!j.isZero();f++)e=j.andln(255),j.iushrn(8),i[h-f-1]=e}return i},Math.clz32?f.prototype._countBits=function(a){return 32-Math.clz32(a)}:f.prototype._countBits=function(a){var b=a,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},f.prototype._zeroBits=function(a){if(0===a)return 26;var b=a,c=0;return(8191&b)==0&&(c+=13,b>>>=13),(127&b)==0&&(c+=7,b>>>=7),(15&b)==0&&(c+=4,b>>>=4),(3&b)==0&&(c+=2,b>>>=2),(1&b)==0&&c++,c},f.prototype.bitLength=function(){var a=this.words[this.length-1],b=this._countBits(a);return(this.length-1)*26+b},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(a+=c,26!==c)break}return a},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},f.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var b=0;b<a.length;b++)this.words[b]=this.words[b]|a.words[b];return this.strip()},f.prototype.ior=function(a){return d((this.negative|a.negative)==0),this.iuor(a)},f.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},f.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},f.prototype.iuand=function(a){var b;b=this.length>a.length?a:this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&a.words[c];return this.length=b.length,this.strip()},f.prototype.iand=function(a){return d((this.negative|a.negative)==0),this.iuand(a)},f.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},f.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},f.prototype.iuxor=function(a){this.length>a.length?(b=this,c=a):(b=a,c=this);for(var b,c,d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},f.prototype.ixor=function(a){return d((this.negative|a.negative)==0),this.iuxor(a)},f.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},f.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},f.prototype.inotn=function(a){d("number"==typeof a&&a>=0);var b=0|Math.ceil(a/26),c=a%26;this._expand(b),c>0&&b--;for(var e=0;e<b;e++)this.words[e]=0x3ffffff&~this.words[e];return c>0&&(this.words[e]=~this.words[e]&0x3ffffff>>26-c),this.strip()},f.prototype.notn=function(a){return this.clone().inotn(a)},f.prototype.setn=function(a,b){d("number"==typeof a&&a>=0);var c=a/26|0,e=a%26;return this._expand(c+1),b?this.words[c]=this.words[c]|1<<e:this.words[c]=this.words[c]&~(1<<e),this.strip()},f.prototype.iadd=function(a){if(0!==this.negative&&0===a.negative)return this.negative=0,b=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,b=this.isub(a),a.negative=1,b._normSign();this.length>a.length?(c=this,d=a):(c=a,d=this);for(var b,c,d,e=0,f=0;f<d.length;f++)b=(0|c.words[f])+(0|d.words[f])+e,this.words[f]=0x3ffffff&b,e=b>>>26;for(;0!==e&&f<c.length;f++)b=(0|c.words[f])+e,this.words[f]=0x3ffffff&b,e=b>>>26;if(this.length=c.length,0!==e)this.words[this.length]=e,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},f.prototype.add=function(a){var b;return 0!==a.negative&&0===this.negative?(a.negative=0,b=this.sub(a),a.negative^=1,b):0===a.negative&&0!==this.negative?(this.negative=0,b=a.sub(this),this.negative=1,b):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},f.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var b,c,d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var e=this.cmp(a);if(0===e)return this.negative=0,this.length=1,this.words[0]=0,this;e>0?(b=this,c=a):(b=a,c=this);for(var f=0,g=0;g<c.length;g++)f=(d=(0|b.words[g])-(0|c.words[g])+f)>>26,this.words[g]=0x3ffffff&d;for(;0!==f&&g<b.length;g++)f=(d=(0|b.words[g])+f)>>26,this.words[g]=0x3ffffff&d;if(0===f&&g<b.length&&b!==this)for(;g<b.length;g++)this.words[g]=b.words[g];return this.length=Math.max(this.length,g),b!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(a){return this.clone().isub(a)};var o=function(a,b,c){var d,e,f,g=a.words,h=b.words,i=c.words,j=0,k=0|g[0],l=8191&k,m=k>>>13,n=0|g[1],o=8191&n,p=n>>>13,q=0|g[2],r=8191&q,s=q>>>13,t=0|g[3],u=8191&t,v=t>>>13,w=0|g[4],x=8191&w,y=w>>>13,z=0|g[5],A=8191&z,B=z>>>13,C=0|g[6],D=8191&C,E=C>>>13,F=0|g[7],G=8191&F,H=F>>>13,I=0|g[8],J=8191&I,K=I>>>13,L=0|g[9],M=8191&L,N=L>>>13,O=0|h[0],P=8191&O,Q=O>>>13,R=0|h[1],S=8191&R,T=R>>>13,U=0|h[2],V=8191&U,W=U>>>13,X=0|h[3],Y=8191&X,Z=X>>>13,$=0|h[4],_=8191&$,aa=$>>>13,ab=0|h[5],ac=8191&ab,ad=ab>>>13,ae=0|h[6],af=8191&ae,ag=ae>>>13,ah=0|h[7],ai=8191&ah,aj=ah>>>13,ak=0|h[8],al=8191&ak,am=ak>>>13,an=0|h[9],ao=8191&an,ap=an>>>13;c.negative=a.negative^b.negative,c.length=19,d=Math.imul(l,P);var aq=(j+d|0)+((8191&(e=(e=Math.imul(l,Q))+Math.imul(m,P)|0))<<13)|0;j=((f=Math.imul(m,Q))+(e>>>13)|0)+(aq>>>26)|0,aq&=0x3ffffff,d=Math.imul(o,P),e=(e=Math.imul(o,Q))+Math.imul(p,P)|0,f=Math.imul(p,Q),d=d+Math.imul(l,S)|0;var ar=(j+d|0)+((8191&(e=(e=e+Math.imul(l,T)|0)+Math.imul(m,S)|0))<<13)|0;j=((f=f+Math.imul(m,T)|0)+(e>>>13)|0)+(ar>>>26)|0,ar&=0x3ffffff,d=Math.imul(r,P),e=(e=Math.imul(r,Q))+Math.imul(s,P)|0,f=Math.imul(s,Q),d=d+Math.imul(o,S)|0,e=(e=e+Math.imul(o,T)|0)+Math.imul(p,S)|0,f=f+Math.imul(p,T)|0,d=d+Math.imul(l,V)|0;var as=(j+d|0)+((8191&(e=(e=e+Math.imul(l,W)|0)+Math.imul(m,V)|0))<<13)|0;j=((f=f+Math.imul(m,W)|0)+(e>>>13)|0)+(as>>>26)|0,as&=0x3ffffff,d=Math.imul(u,P),e=(e=Math.imul(u,Q))+Math.imul(v,P)|0,f=Math.imul(v,Q),d=d+Math.imul(r,S)|0,e=(e=e+Math.imul(r,T)|0)+Math.imul(s,S)|0,f=f+Math.imul(s,T)|0,d=d+Math.imul(o,V)|0,e=(e=e+Math.imul(o,W)|0)+Math.imul(p,V)|0,f=f+Math.imul(p,W)|0,d=d+Math.imul(l,Y)|0;var at=(j+d|0)+((8191&(e=(e=e+Math.imul(l,Z)|0)+Math.imul(m,Y)|0))<<13)|0;j=((f=f+Math.imul(m,Z)|0)+(e>>>13)|0)+(at>>>26)|0,at&=0x3ffffff,d=Math.imul(x,P),e=(e=Math.imul(x,Q))+Math.imul(y,P)|0,f=Math.imul(y,Q),d=d+Math.imul(u,S)|0,e=(e=e+Math.imul(u,T)|0)+Math.imul(v,S)|0,f=f+Math.imul(v,T)|0,d=d+Math.imul(r,V)|0,e=(e=e+Math.imul(r,W)|0)+Math.imul(s,V)|0,f=f+Math.imul(s,W)|0,d=d+Math.imul(o,Y)|0,e=(e=e+Math.imul(o,Z)|0)+Math.imul(p,Y)|0,f=f+Math.imul(p,Z)|0,d=d+Math.imul(l,_)|0;var au=(j+d|0)+((8191&(e=(e=e+Math.imul(l,aa)|0)+Math.imul(m,_)|0))<<13)|0;j=((f=f+Math.imul(m,aa)|0)+(e>>>13)|0)+(au>>>26)|0,au&=0x3ffffff,d=Math.imul(A,P),e=(e=Math.imul(A,Q))+Math.imul(B,P)|0,f=Math.imul(B,Q),d=d+Math.imul(x,S)|0,e=(e=e+Math.imul(x,T)|0)+Math.imul(y,S)|0,f=f+Math.imul(y,T)|0,d=d+Math.imul(u,V)|0,e=(e=e+Math.imul(u,W)|0)+Math.imul(v,V)|0,f=f+Math.imul(v,W)|0,d=d+Math.imul(r,Y)|0,e=(e=e+Math.imul(r,Z)|0)+Math.imul(s,Y)|0,f=f+Math.imul(s,Z)|0,d=d+Math.imul(o,_)|0,e=(e=e+Math.imul(o,aa)|0)+Math.imul(p,_)|0,f=f+Math.imul(p,aa)|0,d=d+Math.imul(l,ac)|0;var av=(j+d|0)+((8191&(e=(e=e+Math.imul(l,ad)|0)+Math.imul(m,ac)|0))<<13)|0;j=((f=f+Math.imul(m,ad)|0)+(e>>>13)|0)+(av>>>26)|0,av&=0x3ffffff,d=Math.imul(D,P),e=(e=Math.imul(D,Q))+Math.imul(E,P)|0,f=Math.imul(E,Q),d=d+Math.imul(A,S)|0,e=(e=e+Math.imul(A,T)|0)+Math.imul(B,S)|0,f=f+Math.imul(B,T)|0,d=d+Math.imul(x,V)|0,e=(e=e+Math.imul(x,W)|0)+Math.imul(y,V)|0,f=f+Math.imul(y,W)|0,d=d+Math.imul(u,Y)|0,e=(e=e+Math.imul(u,Z)|0)+Math.imul(v,Y)|0,f=f+Math.imul(v,Z)|0,d=d+Math.imul(r,_)|0,e=(e=e+Math.imul(r,aa)|0)+Math.imul(s,_)|0,f=f+Math.imul(s,aa)|0,d=d+Math.imul(o,ac)|0,e=(e=e+Math.imul(o,ad)|0)+Math.imul(p,ac)|0,f=f+Math.imul(p,ad)|0,d=d+Math.imul(l,af)|0;var aw=(j+d|0)+((8191&(e=(e=e+Math.imul(l,ag)|0)+Math.imul(m,af)|0))<<13)|0;j=((f=f+Math.imul(m,ag)|0)+(e>>>13)|0)+(aw>>>26)|0,aw&=0x3ffffff,d=Math.imul(G,P),e=(e=Math.imul(G,Q))+Math.imul(H,P)|0,f=Math.imul(H,Q),d=d+Math.imul(D,S)|0,e=(e=e+Math.imul(D,T)|0)+Math.imul(E,S)|0,f=f+Math.imul(E,T)|0,d=d+Math.imul(A,V)|0,e=(e=e+Math.imul(A,W)|0)+Math.imul(B,V)|0,f=f+Math.imul(B,W)|0,d=d+Math.imul(x,Y)|0,e=(e=e+Math.imul(x,Z)|0)+Math.imul(y,Y)|0,f=f+Math.imul(y,Z)|0,d=d+Math.imul(u,_)|0,e=(e=e+Math.imul(u,aa)|0)+Math.imul(v,_)|0,f=f+Math.imul(v,aa)|0,d=d+Math.imul(r,ac)|0,e=(e=e+Math.imul(r,ad)|0)+Math.imul(s,ac)|0,f=f+Math.imul(s,ad)|0,d=d+Math.imul(o,af)|0,e=(e=e+Math.imul(o,ag)|0)+Math.imul(p,af)|0,f=f+Math.imul(p,ag)|0,d=d+Math.imul(l,ai)|0;var ax=(j+d|0)+((8191&(e=(e=e+Math.imul(l,aj)|0)+Math.imul(m,ai)|0))<<13)|0;j=((f=f+Math.imul(m,aj)|0)+(e>>>13)|0)+(ax>>>26)|0,ax&=0x3ffffff,d=Math.imul(J,P),e=(e=Math.imul(J,Q))+Math.imul(K,P)|0,f=Math.imul(K,Q),d=d+Math.imul(G,S)|0,e=(e=e+Math.imul(G,T)|0)+Math.imul(H,S)|0,f=f+Math.imul(H,T)|0,d=d+Math.imul(D,V)|0,e=(e=e+Math.imul(D,W)|0)+Math.imul(E,V)|0,f=f+Math.imul(E,W)|0,d=d+Math.imul(A,Y)|0,e=(e=e+Math.imul(A,Z)|0)+Math.imul(B,Y)|0,f=f+Math.imul(B,Z)|0,d=d+Math.imul(x,_)|0,e=(e=e+Math.imul(x,aa)|0)+Math.imul(y,_)|0,f=f+Math.imul(y,aa)|0,d=d+Math.imul(u,ac)|0,e=(e=e+Math.imul(u,ad)|0)+Math.imul(v,ac)|0,f=f+Math.imul(v,ad)|0,d=d+Math.imul(r,af)|0,e=(e=e+Math.imul(r,ag)|0)+Math.imul(s,af)|0,f=f+Math.imul(s,ag)|0,d=d+Math.imul(o,ai)|0,e=(e=e+Math.imul(o,aj)|0)+Math.imul(p,ai)|0,f=f+Math.imul(p,aj)|0,d=d+Math.imul(l,al)|0;var ay=(j+d|0)+((8191&(e=(e=e+Math.imul(l,am)|0)+Math.imul(m,al)|0))<<13)|0;j=((f=f+Math.imul(m,am)|0)+(e>>>13)|0)+(ay>>>26)|0,ay&=0x3ffffff,d=Math.imul(M,P),e=(e=Math.imul(M,Q))+Math.imul(N,P)|0,f=Math.imul(N,Q),d=d+Math.imul(J,S)|0,e=(e=e+Math.imul(J,T)|0)+Math.imul(K,S)|0,f=f+Math.imul(K,T)|0,d=d+Math.imul(G,V)|0,e=(e=e+Math.imul(G,W)|0)+Math.imul(H,V)|0,f=f+Math.imul(H,W)|0,d=d+Math.imul(D,Y)|0,e=(e=e+Math.imul(D,Z)|0)+Math.imul(E,Y)|0,f=f+Math.imul(E,Z)|0,d=d+Math.imul(A,_)|0,e=(e=e+Math.imul(A,aa)|0)+Math.imul(B,_)|0,f=f+Math.imul(B,aa)|0,d=d+Math.imul(x,ac)|0,e=(e=e+Math.imul(x,ad)|0)+Math.imul(y,ac)|0,f=f+Math.imul(y,ad)|0,d=d+Math.imul(u,af)|0,e=(e=e+Math.imul(u,ag)|0)+Math.imul(v,af)|0,f=f+Math.imul(v,ag)|0,d=d+Math.imul(r,ai)|0,e=(e=e+Math.imul(r,aj)|0)+Math.imul(s,ai)|0,f=f+Math.imul(s,aj)|0,d=d+Math.imul(o,al)|0,e=(e=e+Math.imul(o,am)|0)+Math.imul(p,al)|0,f=f+Math.imul(p,am)|0,d=d+Math.imul(l,ao)|0;var az=(j+d|0)+((8191&(e=(e=e+Math.imul(l,ap)|0)+Math.imul(m,ao)|0))<<13)|0;j=((f=f+Math.imul(m,ap)|0)+(e>>>13)|0)+(az>>>26)|0,az&=0x3ffffff,d=Math.imul(M,S),e=(e=Math.imul(M,T))+Math.imul(N,S)|0,f=Math.imul(N,T),d=d+Math.imul(J,V)|0,e=(e=e+Math.imul(J,W)|0)+Math.imul(K,V)|0,f=f+Math.imul(K,W)|0,d=d+Math.imul(G,Y)|0,e=(e=e+Math.imul(G,Z)|0)+Math.imul(H,Y)|0,f=f+Math.imul(H,Z)|0,d=d+Math.imul(D,_)|0,e=(e=e+Math.imul(D,aa)|0)+Math.imul(E,_)|0,f=f+Math.imul(E,aa)|0,d=d+Math.imul(A,ac)|0,e=(e=e+Math.imul(A,ad)|0)+Math.imul(B,ac)|0,f=f+Math.imul(B,ad)|0,d=d+Math.imul(x,af)|0,e=(e=e+Math.imul(x,ag)|0)+Math.imul(y,af)|0,f=f+Math.imul(y,ag)|0,d=d+Math.imul(u,ai)|0,e=(e=e+Math.imul(u,aj)|0)+Math.imul(v,ai)|0,f=f+Math.imul(v,aj)|0,d=d+Math.imul(r,al)|0,e=(e=e+Math.imul(r,am)|0)+Math.imul(s,al)|0,f=f+Math.imul(s,am)|0,d=d+Math.imul(o,ao)|0;var aA=(j+d|0)+((8191&(e=(e=e+Math.imul(o,ap)|0)+Math.imul(p,ao)|0))<<13)|0;j=((f=f+Math.imul(p,ap)|0)+(e>>>13)|0)+(aA>>>26)|0,aA&=0x3ffffff,d=Math.imul(M,V),e=(e=Math.imul(M,W))+Math.imul(N,V)|0,f=Math.imul(N,W),d=d+Math.imul(J,Y)|0,e=(e=e+Math.imul(J,Z)|0)+Math.imul(K,Y)|0,f=f+Math.imul(K,Z)|0,d=d+Math.imul(G,_)|0,e=(e=e+Math.imul(G,aa)|0)+Math.imul(H,_)|0,f=f+Math.imul(H,aa)|0,d=d+Math.imul(D,ac)|0,e=(e=e+Math.imul(D,ad)|0)+Math.imul(E,ac)|0,f=f+Math.imul(E,ad)|0,d=d+Math.imul(A,af)|0,e=(e=e+Math.imul(A,ag)|0)+Math.imul(B,af)|0,f=f+Math.imul(B,ag)|0,d=d+Math.imul(x,ai)|0,e=(e=e+Math.imul(x,aj)|0)+Math.imul(y,ai)|0,f=f+Math.imul(y,aj)|0,d=d+Math.imul(u,al)|0,e=(e=e+Math.imul(u,am)|0)+Math.imul(v,al)|0,f=f+Math.imul(v,am)|0,d=d+Math.imul(r,ao)|0;var aB=(j+d|0)+((8191&(e=(e=e+Math.imul(r,ap)|0)+Math.imul(s,ao)|0))<<13)|0;j=((f=f+Math.imul(s,ap)|0)+(e>>>13)|0)+(aB>>>26)|0,aB&=0x3ffffff,d=Math.imul(M,Y),e=(e=Math.imul(M,Z))+Math.imul(N,Y)|0,f=Math.imul(N,Z),d=d+Math.imul(J,_)|0,e=(e=e+Math.imul(J,aa)|0)+Math.imul(K,_)|0,f=f+Math.imul(K,aa)|0,d=d+Math.imul(G,ac)|0,e=(e=e+Math.imul(G,ad)|0)+Math.imul(H,ac)|0,f=f+Math.imul(H,ad)|0,d=d+Math.imul(D,af)|0,e=(e=e+Math.imul(D,ag)|0)+Math.imul(E,af)|0,f=f+Math.imul(E,ag)|0,d=d+Math.imul(A,ai)|0,e=(e=e+Math.imul(A,aj)|0)+Math.imul(B,ai)|0,f=f+Math.imul(B,aj)|0,d=d+Math.imul(x,al)|0,e=(e=e+Math.imul(x,am)|0)+Math.imul(y,al)|0,f=f+Math.imul(y,am)|0,d=d+Math.imul(u,ao)|0;var aC=(j+d|0)+((8191&(e=(e=e+Math.imul(u,ap)|0)+Math.imul(v,ao)|0))<<13)|0;j=((f=f+Math.imul(v,ap)|0)+(e>>>13)|0)+(aC>>>26)|0,aC&=0x3ffffff,d=Math.imul(M,_),e=(e=Math.imul(M,aa))+Math.imul(N,_)|0,f=Math.imul(N,aa),d=d+Math.imul(J,ac)|0,e=(e=e+Math.imul(J,ad)|0)+Math.imul(K,ac)|0,f=f+Math.imul(K,ad)|0,d=d+Math.imul(G,af)|0,e=(e=e+Math.imul(G,ag)|0)+Math.imul(H,af)|0,f=f+Math.imul(H,ag)|0,d=d+Math.imul(D,ai)|0,e=(e=e+Math.imul(D,aj)|0)+Math.imul(E,ai)|0,f=f+Math.imul(E,aj)|0,d=d+Math.imul(A,al)|0,e=(e=e+Math.imul(A,am)|0)+Math.imul(B,al)|0,f=f+Math.imul(B,am)|0,d=d+Math.imul(x,ao)|0;var aD=(j+d|0)+((8191&(e=(e=e+Math.imul(x,ap)|0)+Math.imul(y,ao)|0))<<13)|0;j=((f=f+Math.imul(y,ap)|0)+(e>>>13)|0)+(aD>>>26)|0,aD&=0x3ffffff,d=Math.imul(M,ac),e=(e=Math.imul(M,ad))+Math.imul(N,ac)|0,f=Math.imul(N,ad),d=d+Math.imul(J,af)|0,e=(e=e+Math.imul(J,ag)|0)+Math.imul(K,af)|0,f=f+Math.imul(K,ag)|0,d=d+Math.imul(G,ai)|0,e=(e=e+Math.imul(G,aj)|0)+Math.imul(H,ai)|0,f=f+Math.imul(H,aj)|0,d=d+Math.imul(D,al)|0,e=(e=e+Math.imul(D,am)|0)+Math.imul(E,al)|0,f=f+Math.imul(E,am)|0,d=d+Math.imul(A,ao)|0;var aE=(j+d|0)+((8191&(e=(e=e+Math.imul(A,ap)|0)+Math.imul(B,ao)|0))<<13)|0;j=((f=f+Math.imul(B,ap)|0)+(e>>>13)|0)+(aE>>>26)|0,aE&=0x3ffffff,d=Math.imul(M,af),e=(e=Math.imul(M,ag))+Math.imul(N,af)|0,f=Math.imul(N,ag),d=d+Math.imul(J,ai)|0,e=(e=e+Math.imul(J,aj)|0)+Math.imul(K,ai)|0,f=f+Math.imul(K,aj)|0,d=d+Math.imul(G,al)|0,e=(e=e+Math.imul(G,am)|0)+Math.imul(H,al)|0,f=f+Math.imul(H,am)|0,d=d+Math.imul(D,ao)|0;var aF=(j+d|0)+((8191&(e=(e=e+Math.imul(D,ap)|0)+Math.imul(E,ao)|0))<<13)|0;j=((f=f+Math.imul(E,ap)|0)+(e>>>13)|0)+(aF>>>26)|0,aF&=0x3ffffff,d=Math.imul(M,ai),e=(e=Math.imul(M,aj))+Math.imul(N,ai)|0,f=Math.imul(N,aj),d=d+Math.imul(J,al)|0,e=(e=e+Math.imul(J,am)|0)+Math.imul(K,al)|0,f=f+Math.imul(K,am)|0,d=d+Math.imul(G,ao)|0;var aG=(j+d|0)+((8191&(e=(e=e+Math.imul(G,ap)|0)+Math.imul(H,ao)|0))<<13)|0;j=((f=f+Math.imul(H,ap)|0)+(e>>>13)|0)+(aG>>>26)|0,aG&=0x3ffffff,d=Math.imul(M,al),e=(e=Math.imul(M,am))+Math.imul(N,al)|0,f=Math.imul(N,am),d=d+Math.imul(J,ao)|0;var aH=(j+d|0)+((8191&(e=(e=e+Math.imul(J,ap)|0)+Math.imul(K,ao)|0))<<13)|0;j=((f=f+Math.imul(K,ap)|0)+(e>>>13)|0)+(aH>>>26)|0,aH&=0x3ffffff,d=Math.imul(M,ao);var aI=(j+d|0)+((8191&(e=(e=Math.imul(M,ap))+Math.imul(N,ao)|0))<<13)|0;return j=((f=Math.imul(N,ap))+(e>>>13)|0)+(aI>>>26)|0,aI&=0x3ffffff,i[0]=aq,i[1]=ar,i[2]=as,i[3]=at,i[4]=au,i[5]=av,i[6]=aw,i[7]=ax,i[8]=ay,i[9]=az,i[10]=aA,i[11]=aB,i[12]=aC,i[13]=aD,i[14]=aE,i[15]=aF,i[16]=aG,i[17]=aH,i[18]=aI,0!==j&&(i[19]=j,c.length++),c};function p(a,b,c){return new q().mulp(a,b,c)}function q(a,b){this.x=a,this.y=b}Math.imul||(o=n),f.prototype.mulTo=function(a,b){var c=this.length+a.length;return 10===this.length&&10===a.length?o(this,a,b):c<63?n(this,a,b):c<1024?function(a,b,c){c.negative=b.negative^a.negative,c.length=a.length+b.length;for(var d=0,e=0,f=0;f<c.length-1;f++){var g=e;e=0;for(var h=0x3ffffff&d,i=Math.min(f,b.length-1),j=Math.max(0,f-a.length+1);j<=i;j++){var k=f-j,l=(0|a.words[k])*(0|b.words[j]),m=0x3ffffff&l;g=g+(l/0x4000000|0)|0,h=0x3ffffff&(m=m+h|0),e+=(g=g+(m>>>26)|0)>>>26,g&=0x3ffffff}c.words[f]=h,d=g,g=e}return 0!==d?c.words[f]=d:c.length--,c.strip()}(this,a,b):p(this,a,b)},q.prototype.makeRBT=function(a){for(var b=Array(a),c=f.prototype._countBits(a)-1,d=0;d<a;d++)b[d]=this.revBin(d,c,a);return b},q.prototype.revBin=function(a,b,c){if(0===a||a===c-1)return a;for(var d=0,e=0;e<b;e++)d|=(1&a)<<b-e-1,a>>=1;return d},q.prototype.permute=function(a,b,c,d,e,f){for(var g=0;g<f;g++)d[g]=b[a[g]],e[g]=c[a[g]]},q.prototype.transform=function(a,b,c,d,e,f){this.permute(f,a,b,c,d,e);for(var g=1;g<e;g<<=1)for(var h=g<<1,i=Math.cos(2*Math.PI/h),j=Math.sin(2*Math.PI/h),k=0;k<e;k+=h)for(var l=i,m=j,n=0;n<g;n++){var o=c[k+n],p=d[k+n],q=c[k+n+g],r=d[k+n+g],s=l*q-m*r;r=l*r+m*q,q=s,c[k+n]=o+q,d[k+n]=p+r,c[k+n+g]=o-q,d[k+n+g]=p-r,n!==h&&(s=i*l-j*m,m=i*m+j*l,l=s)}},q.prototype.guessLen13b=function(a,b){var c=1|Math.max(b,a),d=1&c,e=0;for(c=c/2|0;c;c>>>=1)e++;return 1<<e+1+d},q.prototype.conjugate=function(a,b,c){if(!(c<=1))for(var d=0;d<c/2;d++){var e=a[d];a[d]=a[c-d-1],a[c-d-1]=e,e=b[d],b[d]=-b[c-d-1],b[c-d-1]=-e}},q.prototype.normalize13b=function(a,b){for(var c=0,d=0;d<b/2;d++){var e=8192*Math.round(a[2*d+1]/b)+Math.round(a[2*d]/b)+c;a[d]=0x3ffffff&e,c=e<0x4000000?0:e/0x4000000|0}return a},q.prototype.convert13b=function(a,b,c,e){for(var f=0,g=0;g<b;g++)f+=0|a[g],c[2*g]=8191&f,f>>>=13,c[2*g+1]=8191&f,f>>>=13;for(g=2*b;g<e;++g)c[g]=0;d(0===f),d((-8192&f)==0)},q.prototype.stub=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=0;return b},q.prototype.mulp=function(a,b,c){var d=2*this.guessLen13b(a.length,b.length),e=this.makeRBT(d),f=this.stub(d),g=Array(d),h=Array(d),i=Array(d),j=Array(d),k=Array(d),l=Array(d),m=c.words;m.length=d,this.convert13b(a.words,a.length,g,d),this.convert13b(b.words,b.length,j,d),this.transform(g,f,h,i,d,e),this.transform(j,f,k,l,d,e);for(var n=0;n<d;n++){var o=h[n]*k[n]-i[n]*l[n];i[n]=h[n]*l[n]+i[n]*k[n],h[n]=o}return this.conjugate(h,i,d),this.transform(h,i,m,f,d,e),this.conjugate(m,f,d),this.normalize13b(m,d),c.negative=a.negative^b.negative,c.length=a.length+b.length,c.strip()},f.prototype.mul=function(a){var b=new f(null);return b.words=Array(this.length+a.length),this.mulTo(a,b)},f.prototype.mulf=function(a){var b=new f(null);return b.words=Array(this.length+a.length),p(this,a,b)},f.prototype.imul=function(a){return this.clone().mulTo(a,this)},f.prototype.imuln=function(a){d("number"==typeof a),d(a<0x4000000);for(var b=0,c=0;c<this.length;c++){var e=(0|this.words[c])*a,f=(0x3ffffff&e)+(0x3ffffff&b);b>>=26,b+=(e/0x4000000|0)+(f>>>26),this.words[c]=0x3ffffff&f}return 0!==b&&(this.words[c]=b,this.length++),this.length=0===a?1:this.length,this},f.prototype.muln=function(a){return this.clone().imuln(a)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(a){var b=function(a){for(var b=Array(a.bitLength()),c=0;c<b.length;c++){var d=c/26|0,e=c%26;b[c]=(a.words[d]&1<<e)>>>e}return b}(a);if(0===b.length)return new f(1);for(var c=this,d=0;d<b.length&&0===b[d];d++,c=c.sqr());if(++d<b.length)for(var e=c.sqr();d<b.length;d++,e=e.sqr())0!==b[d]&&(c=c.mul(e));return c},f.prototype.iushln=function(a){d("number"==typeof a&&a>=0);var b,c=a%26,e=(a-c)/26,f=0x3ffffff>>>26-c<<26-c;if(0!==c){var g=0;for(b=0;b<this.length;b++){var h=this.words[b]&f,i=(0|this.words[b])-h<<c;this.words[b]=i|g,g=h>>>26-c}g&&(this.words[b]=g,this.length++)}if(0!==e){for(b=this.length-1;b>=0;b--)this.words[b+e]=this.words[b];for(b=0;b<e;b++)this.words[b]=0;this.length+=e}return this.strip()},f.prototype.ishln=function(a){return d(0===this.negative),this.iushln(a)},f.prototype.iushrn=function(a,b,c){d("number"==typeof a&&a>=0);var e=b?(b-b%26)/26:0,f=a%26,g=Math.min((a-f)/26,this.length),h=0x3ffffff^0x3ffffff>>>f<<f;if(e-=g,e=Math.max(0,e),c){for(var i=0;i<g;i++)c.words[i]=this.words[i];c.length=g}if(0===g);else if(this.length>g)for(this.length-=g,i=0;i<this.length;i++)this.words[i]=this.words[i+g];else this.words[0]=0,this.length=1;var j=0;for(i=this.length-1;i>=0&&(0!==j||i>=e);i--){var k=0|this.words[i];this.words[i]=j<<26-f|k>>>f,j=k&h}return c&&0!==j&&(c.words[c.length++]=j),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(a,b,c){return d(0===this.negative),this.iushrn(a,b,c)},f.prototype.shln=function(a){return this.clone().ishln(a)},f.prototype.ushln=function(a){return this.clone().iushln(a)},f.prototype.shrn=function(a){return this.clone().ishrn(a)},f.prototype.ushrn=function(a){return this.clone().iushrn(a)},f.prototype.testn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;return!(this.length<=c)&&!!(this.words[c]&1<<b)},f.prototype.imaskn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;return(d(0===this.negative,"imaskn works only with positive numbers"),this.length<=c)?this:(0!==b&&c++,this.length=Math.min(c,this.length),0!==b&&(this.words[this.length-1]&=0x3ffffff^0x3ffffff>>>b<<b),this.strip())},f.prototype.maskn=function(a){return this.clone().imaskn(a)},f.prototype.iaddn=function(a){return(d("number"==typeof a),d(a<0x4000000),a<0)?this.isubn(-a):0!==this.negative?(1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(a),this.negative=1),this):this._iaddn(a)},f.prototype._iaddn=function(a){this.words[0]+=a;for(var b=0;b<this.length&&this.words[b]>=0x4000000;b++)this.words[b]-=0x4000000,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},f.prototype.isubn=function(a){if(d("number"==typeof a),d(a<0x4000000),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=0x4000000,this.words[b+1]-=1;return this.strip()},f.prototype.addn=function(a){return this.clone().iaddn(a)},f.prototype.subn=function(a){return this.clone().isubn(a)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(a,b,c){var e,f,g=a.length+c;this._expand(g);var h=0;for(e=0;e<a.length;e++){f=(0|this.words[e+c])+h;var i=(0|a.words[e])*b;f-=0x3ffffff&i,h=(f>>26)-(i/0x4000000|0),this.words[e+c]=0x3ffffff&f}for(;e<this.length-c;e++)h=(f=(0|this.words[e+c])+h)>>26,this.words[e+c]=0x3ffffff&f;if(0===h)return this.strip();for(d(-1===h),h=0,e=0;e<this.length;e++)h=(f=-(0|this.words[e])+h)>>26,this.words[e]=0x3ffffff&f;return this.negative=1,this.strip()},f.prototype._wordDiv=function(a,b){var c,d=this.length-a.length,e=this.clone(),g=a,h=0|g.words[g.length-1];0!=(d=26-this._countBits(h))&&(g=g.ushln(d),e.iushln(d),h=0|g.words[g.length-1]);var i=e.length-g.length;if("mod"!==b){(c=new f(null)).length=i+1,c.words=Array(c.length);for(var j=0;j<c.length;j++)c.words[j]=0}var k=e.clone()._ishlnsubmul(g,1,i);0===k.negative&&(e=k,c&&(c.words[i]=1));for(var l=i-1;l>=0;l--){var m=(0|e.words[g.length+l])*0x4000000+(0|e.words[g.length+l-1]);for(m=Math.min(m/h|0,0x3ffffff),e._ishlnsubmul(g,m,l);0!==e.negative;)m--,e.negative=0,e._ishlnsubmul(g,1,l),e.isZero()||(e.negative^=1);c&&(c.words[l]=m)}return c&&c.strip(),e.strip(),"div"!==b&&0!==d&&e.iushrn(d),{div:c||null,mod:e}},f.prototype.divmod=function(a,b,c){var e,g,h;return(d(!a.isZero()),this.isZero())?{div:new f(0),mod:new f(0)}:0!==this.negative&&0===a.negative?(h=this.neg().divmod(a,b),"mod"!==b&&(e=h.div.neg()),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.iadd(a)),{div:e,mod:g}):0===this.negative&&0!==a.negative?(h=this.divmod(a.neg(),b),"mod"!==b&&(e=h.div.neg()),{div:e,mod:h.mod}):(this.negative&a.negative)!=0?(h=this.neg().divmod(a.neg(),b),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.isub(a)),{div:h.div,mod:g}):a.length>this.length||0>this.cmp(a)?{div:new f(0),mod:this}:1===a.length?"div"===b?{div:this.divn(a.words[0]),mod:null}:"mod"===b?{div:null,mod:new f(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new f(this.modn(a.words[0]))}:this._wordDiv(a,b)},f.prototype.div=function(a){return this.divmod(a,"div",!1).div},f.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},f.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},f.prototype.divRound=function(a){var b=this.divmod(a);if(b.mod.isZero())return b.div;var c=0!==b.div.negative?b.mod.isub(a):b.mod,d=a.ushrn(1),e=a.andln(1),f=c.cmp(d);return f<0||1===e&&0===f?b.div:0!==b.div.negative?b.div.isubn(1):b.div.iaddn(1)},f.prototype.modn=function(a){d(a<=0x3ffffff);for(var b=0x4000000%a,c=0,e=this.length-1;e>=0;e--)c=(b*c+(0|this.words[e]))%a;return c},f.prototype.idivn=function(a){d(a<=0x3ffffff);for(var b=0,c=this.length-1;c>=0;c--){var e=(0|this.words[c])+0x4000000*b;this.words[c]=e/a|0,b=e%a}return this.strip()},f.prototype.divn=function(a){return this.clone().idivn(a)},f.prototype.egcd=function(a){d(0===a.negative),d(!a.isZero());var b=this,c=a.clone();b=0!==b.negative?b.umod(a):b.clone();for(var e=new f(1),g=new f(0),h=new f(0),i=new f(1),j=0;b.isEven()&&c.isEven();)b.iushrn(1),c.iushrn(1),++j;for(var k=c.clone(),l=b.clone();!b.isZero();){for(var m=0,n=1;(b.words[0]&n)==0&&m<26;++m,n<<=1);if(m>0)for(b.iushrn(m);m-- >0;)(e.isOdd()||g.isOdd())&&(e.iadd(k),g.isub(l)),e.iushrn(1),g.iushrn(1);for(var o=0,p=1;(c.words[0]&p)==0&&o<26;++o,p<<=1);if(o>0)for(c.iushrn(o);o-- >0;)(h.isOdd()||i.isOdd())&&(h.iadd(k),i.isub(l)),h.iushrn(1),i.iushrn(1);b.cmp(c)>=0?(b.isub(c),e.isub(h),g.isub(i)):(c.isub(b),h.isub(e),i.isub(g))}return{a:h,b:i,gcd:c.iushln(j)}},f.prototype._invmp=function(a){d(0===a.negative),d(!a.isZero());var b,c=this,e=a.clone();c=0!==c.negative?c.umod(a):c.clone();for(var g=new f(1),h=new f(0),i=e.clone();c.cmpn(1)>0&&e.cmpn(1)>0;){for(var j=0,k=1;(c.words[0]&k)==0&&j<26;++j,k<<=1);if(j>0)for(c.iushrn(j);j-- >0;)g.isOdd()&&g.iadd(i),g.iushrn(1);for(var l=0,m=1;(e.words[0]&m)==0&&l<26;++l,m<<=1);if(l>0)for(e.iushrn(l);l-- >0;)h.isOdd()&&h.iadd(i),h.iushrn(1);c.cmp(e)>=0?(c.isub(e),g.isub(h)):(e.isub(c),h.isub(g))}return 0>(b=0===c.cmpn(1)?g:h).cmpn(0)&&b.iadd(a),b},f.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var b=this.clone(),c=a.clone();b.negative=0,c.negative=0;for(var d=0;b.isEven()&&c.isEven();d++)b.iushrn(1),c.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;c.isEven();)c.iushrn(1);var e=b.cmp(c);if(e<0){var f=b;b=c,c=f}else if(0===e||0===c.cmpn(1))break;b.isub(c)}return c.iushln(d)},f.prototype.invm=function(a){return this.egcd(a).a.umod(a)},f.prototype.isEven=function(){return(1&this.words[0])==0},f.prototype.isOdd=function(){return(1&this.words[0])==1},f.prototype.andln=function(a){return this.words[0]&a},f.prototype.bincn=function(a){d("number"==typeof a);var b=a%26,c=(a-b)/26,e=1<<b;if(this.length<=c)return this._expand(c+1),this.words[c]|=e,this;for(var f=e,g=c;0!==f&&g<this.length;g++){var h=0|this.words[g];h+=f,f=h>>>26,h&=0x3ffffff,this.words[g]=h}return 0!==f&&(this.words[g]=f,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(a){var b,c=a<0;if(0!==this.negative&&!c)return -1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)b=1;else{c&&(a=-a),d(a<=0x3ffffff,"Number is too big");var e=0|this.words[0];b=e===a?0:e<a?-1:1}return 0!==this.negative?0|-b:b},f.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return -1;if(0===this.negative&&0!==a.negative)return 1;var b=this.ucmp(a);return 0!==this.negative?0|-b:b},f.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return -1;for(var b=0,c=this.length-1;c>=0;c--){var d=0|this.words[c],e=0|a.words[c];if(d!==e){d<e?b=-1:d>e&&(b=1);break}}return b},f.prototype.gtn=function(a){return 1===this.cmpn(a)},f.prototype.gt=function(a){return 1===this.cmp(a)},f.prototype.gten=function(a){return this.cmpn(a)>=0},f.prototype.gte=function(a){return this.cmp(a)>=0},f.prototype.ltn=function(a){return -1===this.cmpn(a)},f.prototype.lt=function(a){return -1===this.cmp(a)},f.prototype.lten=function(a){return 0>=this.cmpn(a)},f.prototype.lte=function(a){return 0>=this.cmp(a)},f.prototype.eqn=function(a){return 0===this.cmpn(a)},f.prototype.eq=function(a){return 0===this.cmp(a)},f.red=function(a){return new x(a)},f.prototype.toRed=function(a){return d(!this.red,"Already a number in reduction context"),d(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},f.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(a){return this.red=a,this},f.prototype.forceRed=function(a){return d(!this.red,"Already a number in reduction context"),this._forceRed(a)},f.prototype.redAdd=function(a){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},f.prototype.redIAdd=function(a){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},f.prototype.redSub=function(a){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},f.prototype.redISub=function(a){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},f.prototype.redShl=function(a){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},f.prototype.redMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},f.prototype.redIMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},f.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(a){return d(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var r={k256:null,p224:null,p192:null,p25519:null};function s(a,b){this.name=a,this.p=new f(b,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function t(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(a){if("string"==typeof a){var b=f._prime(a);this.m=b.p,this.prime=b}else d(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}function y(a){x.call(this,a),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s.prototype._tmp=function(){var a=new f(null);return a.words=Array(Math.ceil(this.n/13)),a},s.prototype.ireduce=function(a){var b,c=a;do this.split(c,this.tmp),b=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength();while(b>this.n)var d=b<this.n?-1:c.ucmp(this.p);return 0===d?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):void 0!==c.strip?c.strip():c._strip(),c},s.prototype.split=function(a,b){a.iushrn(this.n,0,b)},s.prototype.imulK=function(a){return a.imul(this.k)},e(t,s),t.prototype.split=function(a,b){for(var c=Math.min(a.length,9),d=0;d<c;d++)b.words[d]=a.words[d];if(b.length=c,a.length<=9){a.words[0]=0,a.length=1;return}var e=a.words[9];for(d=10,b.words[b.length++]=4194303&e;d<a.length;d++){var f=0|a.words[d];a.words[d-10]=(4194303&f)<<4|e>>>22,e=f}e>>>=22,a.words[d-10]=e,0===e&&a.length>10?a.length-=10:a.length-=9},t.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var b=0,c=0;c<a.length;c++){var d=0|a.words[c];b+=977*d,a.words[c]=0x3ffffff&b,b=64*d+(b/0x4000000|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},e(u,s),e(v,s),e(w,s),w.prototype.imulK=function(a){for(var b=0,c=0;c<a.length;c++){var d=(0|a.words[c])*19+b,e=0x3ffffff&d;d>>>=26,a.words[c]=e,b=d}return 0!==b&&(a.words[a.length++]=b),a},f._prime=function(a){var b;if(r[a])return r[a];if("k256"===a)b=new t;else if("p224"===a)b=new u;else if("p192"===a)b=new v;else if("p25519"===a)b=new w;else throw Error("Unknown prime "+a);return r[a]=b,b},x.prototype._verify1=function(a){d(0===a.negative,"red works only with positives"),d(a.red,"red works only with red numbers")},x.prototype._verify2=function(a,b){d((a.negative|b.negative)==0,"red works only with positives"),d(a.red&&a.red===b.red,"red works only with red numbers")},x.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},x.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},x.prototype.add=function(a,b){this._verify2(a,b);var c=a.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},x.prototype.iadd=function(a,b){this._verify2(a,b);var c=a.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},x.prototype.sub=function(a,b){this._verify2(a,b);var c=a.sub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c._forceRed(this)},x.prototype.isub=function(a,b){this._verify2(a,b);var c=a.isub(b);return 0>c.cmpn(0)&&c.iadd(this.m),c},x.prototype.shl=function(a,b){return this._verify1(a),this.imod(a.ushln(b))},x.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},x.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},x.prototype.isqr=function(a){return this.imul(a,a.clone())},x.prototype.sqr=function(a){return this.mul(a,a)},x.prototype.sqrt=function(a){if(a.isZero())return a.clone();var b=this.m.andln(3);if(d(b%2==1),3===b){var c=this.m.add(new f(1)).iushrn(2);return this.pow(a,c)}for(var e=this.m.subn(1),g=0;!e.isZero()&&0===e.andln(1);)g++,e.iushrn(1);d(!e.isZero());var h=new f(1).toRed(this),i=h.redNeg(),j=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new f(2*k*k).toRed(this);0!==this.pow(k,j).cmp(i);)k.redIAdd(i);for(var l=this.pow(k,e),m=this.pow(a,e.addn(1).iushrn(1)),n=this.pow(a,e),o=g;0!==n.cmp(h);){for(var p=n,q=0;0!==p.cmp(h);q++)p=p.redSqr();d(q<o);var r=this.pow(l,new f(1).iushln(o-q-1));m=m.redMul(r),l=r.redSqr(),n=n.redMul(l),o=q}return m},x.prototype.invm=function(a){var b=a._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},x.prototype.pow=function(a,b){if(b.isZero())return new f(1).toRed(this);if(0===b.cmpn(1))return a.clone();var c=Array(16);c[0]=new f(1).toRed(this),c[1]=a;for(var d=2;d<c.length;d++)c[d]=this.mul(c[d-1],a);var e=c[0],g=0,h=0,i=b.bitLength()%26;for(0===i&&(i=26),d=b.length-1;d>=0;d--){for(var j=b.words[d],k=i-1;k>=0;k--){var l=j>>k&1;if(e!==c[0]&&(e=this.sqr(e)),0===l&&0===g){h=0;continue}g<<=1,g|=l,(4==++h||0===d&&0===k)&&(e=this.mul(e,c[g]),h=0,g=0)}i=26}return e},x.prototype.convertTo=function(a){var b=a.umod(this.m);return b===a?b.clone():b},x.prototype.convertFrom=function(a){var b=a.clone();return b.red=null,b},f.mont=function(a){return new y(a)},e(y,x),y.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},y.prototype.convertFrom=function(a){var b=this.imod(a.mul(this.rinv));return b.red=null,b},y.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):0>e.cmpn(0)&&(f=e.iadd(this.m)),f._forceRed(this)},y.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new f(0)._forceRed(this);var c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),g=e;return e.cmp(this.m)>=0?g=e.isub(this.m):0>e.cmpn(0)&&(g=e.iadd(this.m)),g._forceRed(this)},y.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(b,a.e)},36660,(a,b,c)=>{function d(a,b){if(!a)throw Error(b||"Assertion failed")}b.exports=d,d.equal=function(a,b,c){if(a!=b)throw Error(c||"Assertion failed: "+a+" != "+b)}},22049,(a,b,c)=>{"use strict";function d(a){return 1===a.length?"0"+a:a}function e(a){for(var b="",c=0;c<a.length;c++)b+=d(a[c].toString(16));return b}c.toArray=function(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"!=typeof a){for(var d=0;d<a.length;d++)c[d]=0|a[d];return c}if("hex"===b){(a=a.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(a="0"+a);for(var d=0;d<a.length;d+=2)c.push(parseInt(a[d]+a[d+1],16))}else for(var d=0;d<a.length;d++){var e=a.charCodeAt(d),f=e>>8,g=255&e;f?c.push(f,g):c.push(g)}return c},c.zero2=d,c.toHex=e,c.encode=function(a,b){return"hex"===b?e(a):a}},8408,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(36660),f=a.r(22049);c.assert=e,c.toArray=f.toArray,c.zero2=f.zero2,c.toHex=f.toHex,c.encode=f.encode,c.getNAF=function(a,b,c){var d=Array(Math.max(a.bitLength(),c)+1);for(g=0;g<d.length;g+=1)d[g]=0;var e=1<<b+1,f=a.clone();for(g=0;g<d.length;g++){var g,h,i=f.andln(e-1);f.isOdd()?(h=i>(e>>1)-1?(e>>1)-i:i,f.isubn(h)):h=0,d[g]=h,f.iushrn(1)}return d},c.getJSF=function(a,b){var c=[[],[]];a=a.clone(),b=b.clone();for(var d=0,e=0;a.cmpn(-d)>0||b.cmpn(-e)>0;){var f,g,h,i=a.andln(3)+d&3,j=b.andln(3)+e&3;3===i&&(i=-1),3===j&&(j=-1),g=(1&i)==0?0:(3==(f=a.andln(7)+d&7)||5===f)&&2===j?-i:i,c[0].push(g),h=(1&j)==0?0:(3==(f=b.andln(7)+e&7)||5===f)&&2===i?-j:j,c[1].push(h),2*d===g+1&&(d=1-d),2*e===h+1&&(e=1-e),a.iushrn(1),b.iushrn(1)}return c},c.cachedProperty=function(a,b,c){var d="_"+b;a.prototype[b]=function(){return void 0!==this[d]?this[d]:this[d]=c.call(this)}},c.parseBytes=function(a){return"string"==typeof a?c.toArray(a,"hex"):a},c.intFromLE=function(a){return new d(a,"hex","le")}},46358,(a,b,c)=>{var d;function e(a){this.rand=a}if(b.exports=function(a){return d||(d=new e(null)),d.generate(a)},b.exports.Rand=e,e.prototype.generate=function(a){return this._rand(a)},e.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var b=new Uint8Array(a),c=0;c<b.length;c++)b[c]=this.rand.getByte();return b},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(a){var b=new Uint8Array(a);return self.crypto.getRandomValues(b),b}:self.msCrypto&&self.msCrypto.getRandomValues&&(e.prototype._rand=function(a){var b=new Uint8Array(a);return self.msCrypto.getRandomValues(b),b});else try{var f=a.r(54799);if("function"!=typeof f.randomBytes)throw Error("Not supported");e.prototype._rand=function(a){return f.randomBytes(a)}}catch(a){}},93013,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(8408),f=e.getNAF,g=e.getJSF,h=e.assert;function i(a,b){this.type=a,this.p=new d(b.p,16),this.red=b.prime?d.red(b.prime):d.mont(this.p),this.zero=new d(0).toRed(this.red),this.one=new d(1).toRed(this.red),this.two=new d(2).toRed(this.red),this.n=b.n&&new d(b.n,16),this.g=b.g&&this.pointFromJSON(b.g,b.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function j(a,b){this.curve=a,this.type=b,this.precomputed=null}b.exports=i,i.prototype.point=function(){throw Error("Not implemented")},i.prototype.validate=function(){throw Error("Not implemented")},i.prototype._fixedNafMul=function(a,b){h(a.precomputed);var c,d,e=a._getDoubles(),g=f(b,1,this._bitLength),i=(1<<e.step+1)-(e.step%2==0?2:1);i/=3;var j=[];for(c=0;c<g.length;c+=e.step){d=0;for(var k=c+e.step-1;k>=c;k--)d=(d<<1)+g[k];j.push(d)}for(var l=this.jpoint(null,null,null),m=this.jpoint(null,null,null),n=i;n>0;n--){for(c=0;c<j.length;c++)(d=j[c])===n?m=m.mixedAdd(e.points[c]):d===-n&&(m=m.mixedAdd(e.points[c].neg()));l=l.add(m)}return l.toP()},i.prototype._wnafMul=function(a,b){var c=4,d=a._getNAFPoints(c);c=d.wnd;for(var e=d.points,g=f(b,c,this._bitLength),i=this.jpoint(null,null,null),j=g.length-1;j>=0;j--){for(var k=0;j>=0&&0===g[j];j--)k++;if(j>=0&&k++,i=i.dblp(k),j<0)break;var l=g[j];h(0!==l),i="affine"===a.type?l>0?i.mixedAdd(e[l-1>>1]):i.mixedAdd(e[-l-1>>1].neg()):l>0?i.add(e[l-1>>1]):i.add(e[-l-1>>1].neg())}return"affine"===a.type?i.toP():i},i.prototype._wnafMulAdd=function(a,b,c,d,e){var h,i,j,k=this._wnafT1,l=this._wnafT2,m=this._wnafT3,n=0;for(h=0;h<d;h++){var o=(j=b[h])._getNAFPoints(a);k[h]=o.wnd,l[h]=o.points}for(h=d-1;h>=1;h-=2){var p=h-1,q=h;if(1!==k[p]||1!==k[q]){m[p]=f(c[p],k[p],this._bitLength),m[q]=f(c[q],k[q],this._bitLength),n=Math.max(m[p].length,n),n=Math.max(m[q].length,n);continue}var r=[b[p],null,null,b[q]];0===b[p].y.cmp(b[q].y)?(r[1]=b[p].add(b[q]),r[2]=b[p].toJ().mixedAdd(b[q].neg())):0===b[p].y.cmp(b[q].y.redNeg())?(r[1]=b[p].toJ().mixedAdd(b[q]),r[2]=b[p].add(b[q].neg())):(r[1]=b[p].toJ().mixedAdd(b[q]),r[2]=b[p].toJ().mixedAdd(b[q].neg()));var s=[-3,-1,-5,-7,0,7,5,1,3],t=g(c[p],c[q]);for(i=0,n=Math.max(t[0].length,n),m[p]=Array(n),m[q]=Array(n);i<n;i++){var u=0|t[0][i],v=0|t[1][i];m[p][i]=s[(u+1)*3+(v+1)],m[q][i]=0,l[p]=r}}var w=this.jpoint(null,null,null),x=this._wnafT4;for(h=n;h>=0;h--){for(var y=0;h>=0;){var z=!0;for(i=0;i<d;i++)x[i]=0|m[i][h],0!==x[i]&&(z=!1);if(!z)break;y++,h--}if(h>=0&&y++,w=w.dblp(y),h<0)break;for(i=0;i<d;i++){var A=x[i];0!==A&&(A>0?j=l[i][A-1>>1]:A<0&&(j=l[i][-A-1>>1].neg()),w="affine"===j.type?w.mixedAdd(j):w.add(j))}}for(h=0;h<d;h++)l[h]=null;return e?w:w.toP()},i.BasePoint=j,j.prototype.eq=function(){throw Error("Not implemented")},j.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(a,b){a=e.toArray(a,b);var c=this.p.byteLength();if((4===a[0]||6===a[0]||7===a[0])&&a.length-1==2*c)return 6===a[0]?h(a[a.length-1]%2==0):7===a[0]&&h(a[a.length-1]%2==1),this.point(a.slice(1,1+c),a.slice(1+c,1+2*c));if((2===a[0]||3===a[0])&&a.length-1===c)return this.pointFromX(a.slice(1,1+c),3===a[0]);throw Error("Unknown point format")},j.prototype.encodeCompressed=function(a){return this.encode(a,!0)},j.prototype._encode=function(a){var b=this.curve.p.byteLength(),c=this.getX().toArray("be",b);return a?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",b))},j.prototype.encode=function(a,b){return e.encode(this._encode(b),a)},j.prototype.precompute=function(a){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,a),b.beta=this._getBeta(),this.precomputed=b,this},j.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return!!b&&b.points.length>=Math.ceil((a.bitLength()+1)/b.step)},j.prototype._getDoubles=function(a,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],d=this,e=0;e<b;e+=a){for(var f=0;f<a;f++)d=d.dbl();c.push(d)}return{step:a,points:c}},j.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],c=(1<<a)-1,d=1===c?null:this.dbl(),e=1;e<c;e++)b[e]=b[e-1].add(d);return{wnd:a,points:b}},j.prototype._getBeta=function(){return null},j.prototype.dblp=function(a){for(var b=this,c=0;c<a;c++)b=b.dbl();return b}},96169,(a,b,c)=>{"function"==typeof Object.create?b.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:b.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}},625,(a,b,c)=>{try{var d=a.r(24361);if("function"!=typeof d.inherits)throw"";b.exports=d.inherits}catch(c){b.exports=a.r(96169)}},60973,(a,b,c)=>{"use strict";var d=a.r(8408),e=a.r(21201),f=a.r(625),g=a.r(93013),h=d.assert;function i(a){g.call(this,"short",a),this.a=new e(a.a,16).toRed(this.red),this.b=new e(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(a),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function j(a,b,c,d){g.BasePoint.call(this,a,"affine"),null===b&&null===c?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(b,16),this.y=new e(c,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function k(a,b,c,d){g.BasePoint.call(this,a,"jacobian"),null===b&&null===c&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(b,16),this.y=new e(c,16),this.z=new e(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}f(i,g),b.exports=i,i.prototype._getEndomorphism=function(a){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(a.beta)b=new e(a.beta,16).toRed(this.red);else{var b,c,d,f=this._getEndoRoots(this.p);b=(b=0>f[0].cmp(f[1])?f[0]:f[1]).toRed(this.red)}if(a.lambda)c=new e(a.lambda,16);else{var g=this._getEndoRoots(this.n);0===this.g.mul(g[0]).x.cmp(this.g.x.redMul(b))?c=g[0]:(c=g[1],h(0===this.g.mul(c).x.cmp(this.g.x.redMul(b))))}return d=a.basis?a.basis.map(function(a){return{a:new e(a.a,16),b:new e(a.b,16)}}):this._getEndoBasis(c),{beta:b,lambda:c,basis:d}}},i.prototype._getEndoRoots=function(a){var b=a===this.p?this.red:e.mont(a),c=new e(2).toRed(b).redInvm(),d=c.redNeg(),f=new e(3).toRed(b).redNeg().redSqrt().redMul(c);return[d.redAdd(f).fromRed(),d.redSub(f).fromRed()]},i.prototype._getEndoBasis=function(a){for(var b,c,d,f,g,h,i,j,k,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),m=a,n=this.n.clone(),o=new e(1),p=new e(0),q=new e(0),r=new e(1),s=0;0!==m.cmpn(0);){var t=n.div(m);j=n.sub(t.mul(m)),k=q.sub(t.mul(o));var u=r.sub(t.mul(p));if(!d&&0>j.cmp(l))b=i.neg(),c=o,d=j.neg(),f=k;else if(d&&2==++s)break;i=j,n=m,m=j,q=o,o=k,r=p,p=u}g=j.neg(),h=k;var v=d.sqr().add(f.sqr());return g.sqr().add(h.sqr()).cmp(v)>=0&&(g=b,h=c),d.negative&&(d=d.neg(),f=f.neg()),g.negative&&(g=g.neg(),h=h.neg()),[{a:d,b:f},{a:g,b:h}]},i.prototype._endoSplit=function(a){var b=this.endo.basis,c=b[0],d=b[1],e=d.b.mul(a).divRound(this.n),f=c.b.neg().mul(a).divRound(this.n),g=e.mul(c.a),h=f.mul(d.a),i=e.mul(c.b),j=f.mul(d.b);return{k1:a.sub(g).sub(h),k2:i.add(j).neg()}},i.prototype.pointFromX=function(a,b){(a=new e(a,16)).red||(a=a.toRed(this.red));var c=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),d=c.redSqrt();if(0!==d.redSqr().redSub(c).cmp(this.zero))throw Error("invalid point");var f=d.fromRed().isOdd();return(b&&!f||!b&&f)&&(d=d.redNeg()),this.point(a,d)},i.prototype.validate=function(a){if(a.inf)return!0;var b=a.x,c=a.y,d=this.a.redMul(b),e=b.redSqr().redMul(b).redIAdd(d).redIAdd(this.b);return 0===c.redSqr().redISub(e).cmpn(0)},i.prototype._endoWnafMulAdd=function(a,b,c){for(var d=this._endoWnafT1,e=this._endoWnafT2,f=0;f<a.length;f++){var g=this._endoSplit(b[f]),h=a[f],i=h._getBeta();g.k1.negative&&(g.k1.ineg(),h=h.neg(!0)),g.k2.negative&&(g.k2.ineg(),i=i.neg(!0)),d[2*f]=h,d[2*f+1]=i,e[2*f]=g.k1,e[2*f+1]=g.k2}for(var j=this._wnafMulAdd(1,d,e,2*f,c),k=0;k<2*f;k++)d[k]=null,e[k]=null;return j},f(j,g.BasePoint),i.prototype.point=function(a,b,c){return new j(this,a,b,c)},i.prototype.pointFromJSON=function(a,b){return j.fromJSON(this,a,b)},j.prototype._getBeta=function(){if(this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var c=this.curve,d=function(a){return c.point(a.x.redMul(c.endo.beta),a.y)};a.beta=b,b.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map(d)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map(d)}}}return b}},j.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},j.fromJSON=function(a,b,c){"string"==typeof b&&(b=JSON.parse(b));var d=a.point(b[0],b[1],c);if(!b[2])return d;function e(b){return a.point(b[0],b[1],c)}var f=b[2];return d.precomputed={beta:null,doubles:f.doubles&&{step:f.doubles.step,points:[d].concat(f.doubles.points.map(e))},naf:f.naf&&{wnd:f.naf.wnd,points:[d].concat(f.naf.points.map(e))}},d},j.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},j.prototype.isInfinity=function(){return this.inf},j.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a)||0===this.x.cmp(a.x))return this.curve.point(null,null);var b=this.y.redSub(a.y);0!==b.cmpn(0)&&(b=b.redMul(this.x.redSub(a.x).redInvm()));var c=b.redSqr().redISub(this.x).redISub(a.x),d=b.redMul(this.x.redSub(c)).redISub(this.y);return this.curve.point(c,d)},j.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(0===a.cmpn(0))return this.curve.point(null,null);var b=this.curve.a,c=this.x.redSqr(),d=a.redInvm(),e=c.redAdd(c).redIAdd(c).redIAdd(b).redMul(d),f=e.redSqr().redISub(this.x.redAdd(this.x)),g=e.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,g)},j.prototype.getX=function(){return this.x.fromRed()},j.prototype.getY=function(){return this.y.fromRed()},j.prototype.mul=function(a){return(a=new e(a,16),this.isInfinity())?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)},j.prototype.mulAdd=function(a,b,c){var d=[this,b],e=[a,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,e):this.curve._wnafMulAdd(1,d,e,2)},j.prototype.jmulAdd=function(a,b,c){var d=[this,b],e=[a,c];return this.curve.endo?this.curve._endoWnafMulAdd(d,e,!0):this.curve._wnafMulAdd(1,d,e,2,!0)},j.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||0===this.x.cmp(a.x)&&0===this.y.cmp(a.y))},j.prototype.neg=function(a){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var c=this.precomputed,d=function(a){return a.neg()};b.precomputed={naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(d)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(d)}}}return b},j.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},f(k,g.BasePoint),i.prototype.jpoint=function(a,b,c){return new k(this,a,b,c)},k.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),b=a.redSqr(),c=this.x.redMul(b),d=this.y.redMul(b).redMul(a);return this.curve.point(c,d)},k.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},k.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var b=a.z.redSqr(),c=this.z.redSqr(),d=this.x.redMul(b),e=a.x.redMul(c),f=this.y.redMul(b.redMul(a.z)),g=a.y.redMul(c.redMul(this.z)),h=d.redSub(e),i=f.redSub(g);if(0===h.cmpn(0))if(0!==i.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var j=h.redSqr(),k=j.redMul(h),l=d.redMul(j),m=i.redSqr().redIAdd(k).redISub(l).redISub(l),n=i.redMul(l.redISub(m)).redISub(f.redMul(k)),o=this.z.redMul(a.z).redMul(h);return this.curve.jpoint(m,n,o)},k.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var b=this.z.redSqr(),c=this.x,d=a.x.redMul(b),e=this.y,f=a.y.redMul(b).redMul(this.z),g=c.redSub(d),h=e.redSub(f);if(0===g.cmpn(0))if(0!==h.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var i=g.redSqr(),j=i.redMul(g),k=c.redMul(i),l=h.redSqr().redIAdd(j).redISub(k).redISub(k),m=h.redMul(k.redISub(l)).redISub(e.redMul(j)),n=this.z.redMul(g);return this.curve.jpoint(l,m,n)},k.prototype.dblp=function(a){if(0===a||this.isInfinity())return this;if(!a)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var b,c=this;for(b=0;b<a;b++)c=c.dbl();return c}var d=this.curve.a,e=this.curve.tinv,f=this.x,g=this.y,h=this.z,i=h.redSqr().redSqr(),j=g.redAdd(g);for(b=0;b<a;b++){var k=f.redSqr(),l=j.redSqr(),m=l.redSqr(),n=k.redAdd(k).redIAdd(k).redIAdd(d.redMul(i)),o=f.redMul(l),p=n.redSqr().redISub(o.redAdd(o)),q=o.redISub(p),r=n.redMul(q);r=r.redIAdd(r).redISub(m);var s=j.redMul(h);b+1<a&&(i=i.redMul(m)),f=p,h=s,j=r}return this.curve.jpoint(f,j.redMul(e),h)},k.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},k.prototype._zeroDbl=function(){if(this.zOne){var a,b,c,d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var h=d.redAdd(d).redIAdd(d),i=h.redSqr().redISub(g).redISub(g),j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),a=i,b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{var k=this.x.redSqr(),l=this.y.redSqr(),m=l.redSqr(),n=this.x.redAdd(l).redSqr().redISub(k).redISub(m);n=n.redIAdd(n);var o=k.redAdd(k).redIAdd(k),p=o.redSqr(),q=m.redIAdd(m);q=(q=q.redIAdd(q)).redIAdd(q),a=p.redISub(n).redISub(n),b=o.redMul(n.redISub(a)).redISub(q),c=(c=this.y.redMul(this.z)).redIAdd(c)}return this.curve.jpoint(a,b,c)},k.prototype._threeDbl=function(){if(this.zOne){var a,b,c,d=this.x.redSqr(),e=this.y.redSqr(),f=e.redSqr(),g=this.x.redAdd(e).redSqr().redISub(d).redISub(f);g=g.redIAdd(g);var h=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),i=h.redSqr().redISub(g).redISub(g);a=i;var j=f.redIAdd(f);j=(j=j.redIAdd(j)).redIAdd(j),b=h.redMul(g.redISub(i)).redISub(j),c=this.y.redAdd(this.y)}else{var k=this.z.redSqr(),l=this.y.redSqr(),m=this.x.redMul(l),n=this.x.redSub(k).redMul(this.x.redAdd(k));n=n.redAdd(n).redIAdd(n);var o=m.redIAdd(m),p=(o=o.redIAdd(o)).redAdd(o);a=n.redSqr().redISub(p),c=this.y.redAdd(this.z).redSqr().redISub(l).redISub(k);var q=l.redSqr();q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q),b=n.redMul(o.redISub(a)).redISub(q)}return this.curve.jpoint(a,b,c)},k.prototype._dbl=function(){var a=this.curve.a,b=this.x,c=this.y,d=this.z,e=d.redSqr().redSqr(),f=b.redSqr(),g=c.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(a.redMul(e)),i=b.redAdd(b),j=(i=i.redIAdd(i)).redMul(g),k=h.redSqr().redISub(j.redAdd(j)),l=j.redISub(k),m=g.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m);var n=h.redMul(l).redISub(m),o=c.redAdd(c).redMul(d);return this.curve.jpoint(k,n,o)},k.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr(),d=b.redSqr(),e=a.redAdd(a).redIAdd(a),f=e.redSqr(),g=this.x.redAdd(b).redSqr().redISub(a).redISub(d),h=(g=(g=(g=g.redIAdd(g)).redAdd(g).redIAdd(g)).redISub(f)).redSqr(),i=d.redIAdd(d);i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i);var j=e.redIAdd(g).redSqr().redISub(f).redISub(h).redISub(i),k=b.redMul(j);k=(k=k.redIAdd(k)).redIAdd(k);var l=this.x.redMul(h).redISub(k);l=(l=l.redIAdd(l)).redIAdd(l);var m=this.y.redMul(j.redMul(i.redISub(j)).redISub(g.redMul(h)));m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m);var n=this.z.redAdd(g).redSqr().redISub(c).redISub(h);return this.curve.jpoint(l,m,n)},k.prototype.mul=function(a,b){return a=new e(a,b),this.curve._wnafMul(this,a)},k.prototype.eq=function(a){if("affine"===a.type)return this.eq(a.toJ());if(this===a)return!0;var b=this.z.redSqr(),c=a.z.redSqr();if(0!==this.x.redMul(c).redISub(a.x.redMul(b)).cmpn(0))return!1;var d=b.redMul(this.z),e=c.redMul(a.z);return 0===this.y.redMul(e).redISub(a.y.redMul(d)).cmpn(0)},k.prototype.eqXToP=function(a){var b=this.z.redSqr(),c=a.toRed(this.curve.red).redMul(b);if(0===this.x.cmp(c))return!0;for(var d=a.clone(),e=this.curve.redN.redMul(b);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(e),0===this.x.cmp(c))return!0}},k.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},k.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},19340,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(625),f=a.r(93013),g=a.r(8408);function h(a){f.call(this,"mont",a),this.a=new d(a.a,16).toRed(this.red),this.b=new d(a.b,16).toRed(this.red),this.i4=new d(4).toRed(this.red).redInvm(),this.two=new d(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(a,b,c){f.BasePoint.call(this,a,"projective"),null===b&&null===c?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new d(b,16),this.z=new d(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}e(h,f),b.exports=h,h.prototype.validate=function(a){var b=a.normalize().x,c=b.redSqr(),d=c.redMul(b).redAdd(c.redMul(this.a)).redAdd(b);return 0===d.redSqrt().redSqr().cmp(d)},e(i,f.BasePoint),h.prototype.decodePoint=function(a,b){return this.point(g.toArray(a,b),1)},h.prototype.point=function(a,b){return new i(this,a,b)},h.prototype.pointFromJSON=function(a){return i.fromJSON(this,a)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(a,b){return new i(a,b[0],b[1]||a.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var a=this.x.redAdd(this.z).redSqr(),b=this.x.redSub(this.z).redSqr(),c=a.redSub(b),d=a.redMul(b),e=c.redMul(b.redAdd(this.curve.a24.redMul(c)));return this.curve.point(d,e)},i.prototype.add=function(){throw Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(a,b){var c=this.x.redAdd(this.z),d=this.x.redSub(this.z),e=a.x.redAdd(a.z),f=a.x.redSub(a.z).redMul(c),g=e.redMul(d),h=b.z.redMul(f.redAdd(g).redSqr()),i=b.x.redMul(f.redISub(g).redSqr());return this.curve.point(h,i)},i.prototype.mul=function(a){for(var b=a.clone(),c=this,d=this.curve.point(null,null),e=[];0!==b.cmpn(0);b.iushrn(1))e.push(b.andln(1));for(var f=e.length-1;f>=0;f--)0===e[f]?(c=c.diffAdd(d,this),d=d.dbl()):(d=c.diffAdd(d,this),c=c.dbl());return d},i.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},i.prototype.eq=function(a){return 0===this.getX().cmp(a.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},59148,(a,b,c)=>{"use strict";var d=a.r(8408),e=a.r(21201),f=a.r(625),g=a.r(93013),h=d.assert;function i(a){this.twisted=(0|a.a)!=1,this.mOneA=this.twisted&&(0|a.a)==-1,this.extended=this.mOneA,g.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),h(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|a.c)==1}function j(a,b,c,d,f){g.BasePoint.call(this,a,"projective"),null===b&&null===c&&null===d?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(b,16),this.y=new e(c,16),this.z=d?new e(d,16):this.curve.one,this.t=f&&new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}f(i,g),b.exports=i,i.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)},i.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)},i.prototype.jpoint=function(a,b,c,d){return this.point(a,b,c,d)},i.prototype.pointFromX=function(a,b){(a=new e(a,16)).red||(a=a.toRed(this.red));var c=a.redSqr(),d=this.c2.redSub(this.a.redMul(c)),f=this.one.redSub(this.c2.redMul(this.d).redMul(c)),g=d.redMul(f.redInvm()),h=g.redSqrt();if(0!==h.redSqr().redSub(g).cmp(this.zero))throw Error("invalid point");var i=h.fromRed().isOdd();return(b&&!i||!b&&i)&&(h=h.redNeg()),this.point(a,h)},i.prototype.pointFromY=function(a,b){(a=new e(a,16)).red||(a=a.toRed(this.red));var c=a.redSqr(),d=c.redSub(this.c2),f=c.redMul(this.d).redMul(this.c2).redSub(this.a),g=d.redMul(f.redInvm());if(0===g.cmp(this.zero))if(!b)return this.point(this.zero,a);else throw Error("invalid point");var h=g.redSqrt();if(0!==h.redSqr().redSub(g).cmp(this.zero))throw Error("invalid point");return h.fromRed().isOdd()!==b&&(h=h.redNeg()),this.point(h,a)},i.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var b=a.x.redSqr(),c=a.y.redSqr(),d=b.redMul(this.a).redAdd(c),e=this.c2.redMul(this.one.redAdd(this.d.redMul(b).redMul(c)));return 0===d.cmp(e)},f(j,g.BasePoint),i.prototype.pointFromJSON=function(a){return j.fromJSON(this,a)},i.prototype.point=function(a,b,c,d){return new j(this,a,b,c,d)},j.fromJSON=function(a,b){return new j(a,b[0],b[1],b[2])},j.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},j.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},j.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),f=d.redAdd(b),g=f.redSub(c),h=d.redSub(b),i=e.redMul(g),j=f.redMul(h),k=e.redMul(h),l=g.redMul(f);return this.curve.point(i,j,l,k)},j.prototype._projDbl=function(){var a,b,c,d,e,f,g=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),i=this.y.redSqr();if(this.curve.twisted){var j=(d=this.curve._mulA(h)).redAdd(i);this.zOne?(a=g.redSub(h).redSub(i).redMul(j.redSub(this.curve.two)),b=j.redMul(d.redSub(i)),c=j.redSqr().redSub(j).redSub(j)):(e=this.z.redSqr(),f=j.redSub(e).redISub(e),a=g.redSub(h).redISub(i).redMul(f),b=j.redMul(d.redSub(i)),c=j.redMul(f))}else d=h.redAdd(i),e=this.curve._mulC(this.z).redSqr(),f=d.redSub(e).redSub(e),a=this.curve._mulC(g.redISub(d)).redMul(f),b=this.curve._mulC(d).redMul(h.redISub(i)),c=d.redMul(f);return this.curve.point(a,b,c)},j.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},j.prototype._extAdd=function(a){var b=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),c=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),d=this.t.redMul(this.curve.dd).redMul(a.t),e=this.z.redMul(a.z.redAdd(a.z)),f=c.redSub(b),g=e.redSub(d),h=e.redAdd(d),i=c.redAdd(b),j=f.redMul(g),k=h.redMul(i),l=f.redMul(i),m=g.redMul(h);return this.curve.point(j,k,m,l)},j.prototype._projAdd=function(a){var b,c,d=this.z.redMul(a.z),e=d.redSqr(),f=this.x.redMul(a.x),g=this.y.redMul(a.y),h=this.curve.d.redMul(f).redMul(g),i=e.redSub(h),j=e.redAdd(h),k=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(f).redISub(g),l=d.redMul(i).redMul(k);return this.curve.twisted?(b=d.redMul(j).redMul(g.redSub(this.curve._mulA(f))),c=i.redMul(j)):(b=d.redMul(j).redMul(g.redSub(f)),c=this.curve._mulC(i).redMul(j)),this.curve.point(l,b,c)},j.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)},j.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)},j.prototype.mulAdd=function(a,b,c){return this.curve._wnafMulAdd(1,[this,b],[a,c],2,!1)},j.prototype.jmulAdd=function(a,b,c){return this.curve._wnafMulAdd(1,[this,b],[a,c],2,!0)},j.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this},j.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},j.prototype.getX=function(){return this.normalize(),this.x.fromRed()},j.prototype.getY=function(){return this.normalize(),this.y.fromRed()},j.prototype.eq=function(a){return this===a||0===this.getX().cmp(a.getX())&&0===this.getY().cmp(a.getY())},j.prototype.eqXToP=function(a){var b=a.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(b))return!0;for(var c=a.clone(),d=this.curve.redN.redMul(this.z);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(d),0===this.x.cmp(b))return!0}},j.prototype.toP=j.prototype.normalize,j.prototype.mixedAdd=j.prototype.add},74885,(a,b,c)=>{"use strict";c.base=a.r(93013),c.short=a.r(60973),c.mont=a.r(19340),c.edwards=a.r(59148)},44260,(a,b,c)=>{b.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},12314,(a,b,c)=>{"use strict";var d=a.r(36660);function e(a){return(a>>>24|a>>>8&65280|a<<8&0xff0000|(255&a)<<24)>>>0}function f(a){return 1===a.length?"0"+a:a}function g(a){if(7===a.length)return"0"+a;if(6===a.length)return"00"+a;if(5===a.length)return"000"+a;if(4===a.length)return"0000"+a;if(3===a.length)return"00000"+a;else if(2===a.length)return"000000"+a;else if(1===a.length)return"0000000"+a;else return a}c.inherits=a.r(625),c.toArray=function(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"==typeof a)if(b){if("hex"===b)for((a=a.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(a="0"+a),e=0;e<a.length;e+=2)c.push(parseInt(a[e]+a[e+1],16))}else for(var d=0,e=0;e<a.length;e++){var f,g,h=a.charCodeAt(e);h<128?c[d++]=h:(h<2048?c[d++]=h>>6|192:((f=a,g=e,(64512&f.charCodeAt(g))!=55296||g<0||g+1>=f.length?1:(64512&f.charCodeAt(g+1))!=56320)?c[d++]=h>>12|224:(h=65536+((1023&h)<<10)+(1023&a.charCodeAt(++e)),c[d++]=h>>18|240,c[d++]=h>>12&63|128),c[d++]=h>>6&63|128),c[d++]=63&h|128)}else for(e=0;e<a.length;e++)c[e]=0|a[e];return c},c.toHex=function(a){for(var b="",c=0;c<a.length;c++)b+=f(a[c].toString(16));return b},c.htonl=e,c.toHex32=function(a,b){for(var c="",d=0;d<a.length;d++){var f=a[d];"little"===b&&(f=e(f)),c+=g(f.toString(16))}return c},c.zero2=f,c.zero8=g,c.join32=function(a,b,c,e){var f,g=c-b;d(g%4==0);for(var h=Array(g/4),i=0,j=b;i<h.length;i++,j+=4)f="big"===e?a[j]<<24|a[j+1]<<16|a[j+2]<<8|a[j+3]:a[j+3]<<24|a[j+2]<<16|a[j+1]<<8|a[j],h[i]=f>>>0;return h},c.split32=function(a,b){for(var c=Array(4*a.length),d=0,e=0;d<a.length;d++,e+=4){var f=a[d];"big"===b?(c[e]=f>>>24,c[e+1]=f>>>16&255,c[e+2]=f>>>8&255,c[e+3]=255&f):(c[e+3]=f>>>24,c[e+2]=f>>>16&255,c[e+1]=f>>>8&255,c[e]=255&f)}return c},c.rotr32=function(a,b){return a>>>b|a<<32-b},c.rotl32=function(a,b){return a<<b|a>>>32-b},c.sum32=function(a,b){return a+b>>>0},c.sum32_3=function(a,b,c){return a+b+c>>>0},c.sum32_4=function(a,b,c,d){return a+b+c+d>>>0},c.sum32_5=function(a,b,c,d,e){return a+b+c+d+e>>>0},c.sum64=function(a,b,c,d){var e=a[b],f=d+a[b+1]>>>0;a[b]=+(f<d)+c+e>>>0,a[b+1]=f},c.sum64_hi=function(a,b,c,d){return+(b+d>>>0<b)+a+c>>>0},c.sum64_lo=function(a,b,c,d){return b+d>>>0},c.sum64_4_hi=function(a,b,c,d,e,f,g,h){var i,j=b;return a+c+e+g+(i=0+ +((j=j+d>>>0)<b)+ +((j=j+f>>>0)<f)+ +((j=j+h>>>0)<h))>>>0},c.sum64_4_lo=function(a,b,c,d,e,f,g,h){return b+d+f+h>>>0},c.sum64_5_hi=function(a,b,c,d,e,f,g,h,i,j){var k,l=b;return a+c+e+g+i+(k=0+ +((l=l+d>>>0)<b)+ +((l=l+f>>>0)<f)+ +((l=l+h>>>0)<h)+ +((l=l+j>>>0)<j))>>>0},c.sum64_5_lo=function(a,b,c,d,e,f,g,h,i,j){return b+d+f+h+j>>>0},c.rotr64_hi=function(a,b,c){return(b<<32-c|a>>>c)>>>0},c.rotr64_lo=function(a,b,c){return(a<<32-c|b>>>c)>>>0},c.shr64_hi=function(a,b,c){return a>>>c},c.shr64_lo=function(a,b,c){return(a<<32-c|b>>>c)>>>0}},65237,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(36660);function f(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}c.BlockHash=f,f.prototype.update=function(a,b){if(a=d.toArray(a,b),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var c=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-c,a.length),0===this.pending.length&&(this.pending=null),a=d.join32(a,0,a.length-c,this.endian);for(var e=0;e<a.length;e+=this._delta32)this._update(a,e,e+this._delta32)}return this},f.prototype.digest=function(a){return this.update(this._pad()),e(null===this.pending),this._digest(a)},f.prototype._pad=function(){var a=this.pendingTotal,b=this._delta8,c=b-(a+this.padLength)%b,d=Array(c+this.padLength);d[0]=128;for(var e=1;e<c;e++)d[e]=0;if(a<<=3,"big"===this.endian){for(var f=8;f<this.padLength;f++)d[e++]=0;d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=a>>>24&255,d[e++]=a>>>16&255,d[e++]=a>>>8&255,d[e++]=255&a}else for(f=8,d[e++]=255&a,d[e++]=a>>>8&255,d[e++]=a>>>16&255,d[e++]=a>>>24&255,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0;f<this.padLength;f++)d[e++]=0;return d}},31710,(a,b,c)=>{"use strict";var d=a.r(12314).rotr32;function e(a,b,c){return a&b^a&c^b&c}c.ft_1=function(a,b,c,d){var f;return 0===a?(f=b)&c^~f&d:1===a||3===a?b^c^d:2===a?e(b,c,d):void 0},c.ch32=function(a,b,c){return a&b^~a&c},c.maj32=e,c.p32=function(a,b,c){return a^b^c},c.s0_256=function(a){return d(a,2)^d(a,13)^d(a,22)},c.s1_256=function(a){return d(a,6)^d(a,11)^d(a,25)},c.g0_256=function(a){return d(a,7)^d(a,18)^a>>>3},c.g1_256=function(a){return d(a,17)^d(a,19)^a>>>10}},23628,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(65237),f=a.r(31710),g=d.rotl32,h=d.sum32,i=d.sum32_5,j=f.ft_1,k=e.BlockHash,l=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function m(){if(!(this instanceof m))return new m;k.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}d.inherits(m,k),b.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=g(c[d-3]^c[d-8]^c[d-14]^c[d-16],1);var e=this.h[0],f=this.h[1],k=this.h[2],m=this.h[3],n=this.h[4];for(d=0;d<c.length;d++){var o=~~(d/20),p=i(g(e,5),j(o,f,k,m),n,c[d],l[o]);n=m,m=k,k=g(f,30),f=e,e=p}this.h[0]=h(this.h[0],e),this.h[1]=h(this.h[1],f),this.h[2]=h(this.h[2],k),this.h[3]=h(this.h[3],m),this.h[4]=h(this.h[4],n)},m.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},6061,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(65237),f=a.r(31710),g=a.r(36660),h=d.sum32,i=d.sum32_4,j=d.sum32_5,k=f.ch32,l=f.maj32,m=f.s0_256,n=f.s1_256,o=f.g0_256,p=f.g1_256,q=e.BlockHash,r=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function s(){if(!(this instanceof s))return new s;q.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=r,this.W=Array(64)}d.inherits(s,q),b.exports=s,s.blockSize=512,s.outSize=256,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=i(p(c[d-2]),c[d-7],o(c[d-15]),c[d-16]);var e=this.h[0],f=this.h[1],q=this.h[2],r=this.h[3],s=this.h[4],t=this.h[5],u=this.h[6],v=this.h[7];for(g(this.k.length===c.length),d=0;d<c.length;d++){var w=j(v,n(s),k(s,t,u),this.k[d],c[d]),x=h(m(e),l(e,f,q));v=u,u=t,t=s,s=h(r,w),r=q,q=f,f=e,e=h(w,x)}this.h[0]=h(this.h[0],e),this.h[1]=h(this.h[1],f),this.h[2]=h(this.h[2],q),this.h[3]=h(this.h[3],r),this.h[4]=h(this.h[4],s),this.h[5]=h(this.h[5],t),this.h[6]=h(this.h[6],u),this.h[7]=h(this.h[7],v)},s.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},32946,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(6061);function f(){if(!(this instanceof f))return new f;e.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}d.inherits(f,e),b.exports=f,f.blockSize=512,f.outSize=224,f.hmacStrength=192,f.padLength=64,f.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h.slice(0,7),"big"):d.split32(this.h.slice(0,7),"big")}},61568,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(65237),f=a.r(36660),g=d.rotr64_hi,h=d.rotr64_lo,i=d.shr64_hi,j=d.shr64_lo,k=d.sum64,l=d.sum64_hi,m=d.sum64_lo,n=d.sum64_4_hi,o=d.sum64_4_lo,p=d.sum64_5_hi,q=d.sum64_5_lo,r=e.BlockHash,s=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function t(){if(!(this instanceof t))return new t;r.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=s,this.W=Array(160)}d.inherits(t,r),b.exports=t,t.blockSize=1024,t.outSize=512,t.hmacStrength=192,t.padLength=128,t.prototype._prepareBlock=function(a,b){for(var c=this.W,d=0;d<32;d++)c[d]=a[b+d];for(;d<c.length;d+=2){var e=function(a,b){var c=g(a,b,19)^g(b,a,29)^i(a,b,6);return c<0&&(c+=0x100000000),c}(c[d-4],c[d-3]),f=function(a,b){var c=h(a,b,19)^h(b,a,29)^j(a,b,6);return c<0&&(c+=0x100000000),c}(c[d-4],c[d-3]),k=c[d-14],l=c[d-13],m=function(a,b){var c=g(a,b,1)^g(a,b,8)^i(a,b,7);return c<0&&(c+=0x100000000),c}(c[d-30],c[d-29]),p=function(a,b){var c=h(a,b,1)^h(a,b,8)^j(a,b,7);return c<0&&(c+=0x100000000),c}(c[d-30],c[d-29]),q=c[d-32],r=c[d-31];c[d]=n(e,f,k,l,m,p,q,r),c[d+1]=o(e,f,k,l,m,p,q,r)}},t.prototype._update=function(a,b){this._prepareBlock(a,b);var c=this.W,d=this.h[0],e=this.h[1],i=this.h[2],j=this.h[3],n=this.h[4],o=this.h[5],r=this.h[6],s=this.h[7],t=this.h[8],u=this.h[9],v=this.h[10],w=this.h[11],x=this.h[12],y=this.h[13],z=this.h[14],A=this.h[15];f(this.k.length===c.length);for(var B=0;B<c.length;B+=2){var C=z,D=A,E=function(a,b){var c=g(a,b,14)^g(a,b,18)^g(b,a,9);return c<0&&(c+=0x100000000),c}(t,u),F=function(a,b){var c=h(a,b,14)^h(a,b,18)^h(b,a,9);return c<0&&(c+=0x100000000),c}(t,u),G=function(a,b,c,d,e){var f=a&c^~a&e;return f<0&&(f+=0x100000000),f}(t,0,v,0,x,y),H=function(a,b,c,d,e,f){var g=b&d^~b&f;return g<0&&(g+=0x100000000),g}(0,u,0,w,0,y),I=this.k[B],J=this.k[B+1],K=c[B],L=c[B+1],M=p(C,D,E,F,G,H,I,J,K,L),N=q(C,D,E,F,G,H,I,J,K,L);C=function(a,b){var c=g(a,b,28)^g(b,a,2)^g(b,a,7);return c<0&&(c+=0x100000000),c}(d,e),D=function(a,b){var c=h(a,b,28)^h(b,a,2)^h(b,a,7);return c<0&&(c+=0x100000000),c}(d,e);var O=l(C,D,E=function(a,b,c,d,e){var f=a&c^a&e^c&e;return f<0&&(f+=0x100000000),f}(d,0,i,0,n,o),F=function(a,b,c,d,e,f){var g=b&d^b&f^d&f;return g<0&&(g+=0x100000000),g}(0,e,0,j,0,o)),P=m(C,D,E,F);z=x,A=y,x=v,y=w,v=t,w=u,t=l(r,s,M,N),u=m(s,s,M,N),r=n,s=o,n=i,o=j,i=d,j=e,d=l(M,N,O,P),e=m(M,N,O,P)}k(this.h,0,d,e),k(this.h,2,i,j),k(this.h,4,n,o),k(this.h,6,r,s),k(this.h,8,t,u),k(this.h,10,v,w),k(this.h,12,x,y),k(this.h,14,z,A)},t.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},36820,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(61568);function f(){if(!(this instanceof f))return new f;e.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}d.inherits(f,e),b.exports=f,f.blockSize=1024,f.outSize=384,f.hmacStrength=192,f.padLength=128,f.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h.slice(0,12),"big"):d.split32(this.h.slice(0,12),"big")}},70439,(a,b,c)=>{"use strict";c.sha1=a.r(23628),c.sha224=a.r(32946),c.sha256=a.r(6061),c.sha384=a.r(36820),c.sha512=a.r(61568)},76164,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(65237),f=d.rotl32,g=d.sum32,h=d.sum32_3,i=d.sum32_4,j=e.BlockHash;function k(){if(!(this instanceof k))return new k;j.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function l(a,b,c,d){return a<=15?b^c^d:a<=31?b&c|~b&d:a<=47?(b|~c)^d:a<=63?b&d|c&~d:b^(c|~d)}d.inherits(k,j),c.ripemd160=k,k.blockSize=512,k.outSize=160,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(a,b){for(var c=this.h[0],d=this.h[1],e=this.h[2],j=this.h[3],k=this.h[4],q=c,r=d,s=e,t=j,u=k,v=0;v<80;v++){var w,x,y=g(f(i(c,l(v,d,e,j),a[m[v]+b],(w=v)<=15?0:w<=31?0x5a827999:w<=47?0x6ed9eba1:w<=63?0x8f1bbcdc:0xa953fd4e),o[v]),k);c=k,k=j,j=f(e,10),e=d,d=y,y=g(f(i(q,l(79-v,r,s,t),a[n[v]+b],(x=v)<=15?0x50a28be6:x<=31?0x5c4dd124:x<=47?0x6d703ef3:0x7a6d76e9*!!(x<=63)),p[v]),u),q=u,u=t,t=f(s,10),s=r,r=y}y=h(this.h[1],e,t),this.h[1]=h(this.h[2],j,u),this.h[2]=h(this.h[3],k,q),this.h[3]=h(this.h[4],c,r),this.h[4]=h(this.h[0],d,s),this.h[0]=y},k.prototype._digest=function(a){return"hex"===a?d.toHex32(this.h,"little"):d.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},56979,(a,b,c)=>{"use strict";var d=a.r(12314),e=a.r(36660);function f(a,b,c){if(!(this instanceof f))return new f(a,b,c);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(d.toArray(b,c))}b.exports=f,f.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var b=a.length;b<this.blockSize;b++)a.push(0);for(b=0;b<a.length;b++)a[b]^=54;for(b=0,this.inner=new this.Hash().update(a);b<a.length;b++)a[b]^=106;this.outer=new this.Hash().update(a)},f.prototype.update=function(a,b){return this.inner.update(a,b),this},f.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},73955,(a,b,c)=>{c.utils=a.r(12314),c.common=a.r(65237),c.sha=a.r(70439),c.ripemd=a.r(76164),c.hmac=a.r(56979),c.sha1=c.sha.sha1,c.sha256=c.sha.sha256,c.sha224=c.sha.sha224,c.sha384=c.sha.sha384,c.sha512=c.sha.sha512,c.ripemd160=c.ripemd.ripemd160},93945,(a,b,c)=>{"use strict";var d,e=a.r(73955),f=a.r(74885),g=a.r(8408).assert;function h(a){"short"===a.type?this.curve=new f.short(a):"edwards"===a.type?this.curve=new f.edwards(a):this.curve=new f.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,g(this.g.validate(),"Invalid curve"),g(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(a,b){Object.defineProperty(c,a,{configurable:!0,enumerable:!0,get:function(){var d=new h(b);return Object.defineProperty(c,a,{configurable:!0,enumerable:!0,value:d}),d}})}c.PresetCurve=h,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:e.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:e.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:e.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:e.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:e.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{d=a.r(44260)}catch(a){d=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:e.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",d]})},44697,(a,b,c)=>{"use strict";var d=a.r(73955),e=a.r(22049),f=a.r(36660);function g(a){if(!(this instanceof g))return new g(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var b=e.toArray(a.entropy,a.entropyEnc||"hex"),c=e.toArray(a.nonce,a.nonceEnc||"hex"),d=e.toArray(a.pers,a.persEnc||"hex");f(b.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(b,c,d)}b.exports=g,g.prototype._init=function(a,b,c){var d=a.concat(b).concat(c);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var e=0;e<this.V.length;e++)this.K[e]=0,this.V[e]=1;this._update(d),this._reseed=1,this.reseedInterval=0x1000000000000},g.prototype._hmac=function(){return new d.hmac(this.hash,this.K)},g.prototype._update=function(a){var b=this._hmac().update(this.V).update([0]);a&&(b=b.update(a)),this.K=b.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},g.prototype.reseed=function(a,b,c,d){"string"!=typeof b&&(d=c,c=b,b=null),a=e.toArray(a,b),c=e.toArray(c,d),f(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},g.prototype.generate=function(a,b,c,d){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof b&&(d=c,c=b,b=null),c&&(c=e.toArray(c,d||"hex"),this._update(c));for(var f=[];f.length<a;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var g=f.slice(0,a);return this._update(c),this._reseed++,e.encode(g,b)}},43069,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(8408).assert;function f(a,b){this.ec=a,this.priv=null,this.pub=null,b.priv&&this._importPrivate(b.priv,b.privEnc),b.pub&&this._importPublic(b.pub,b.pubEnc)}b.exports=f,f.fromPublic=function(a,b,c){return b instanceof f?b:new f(a,{pub:b,pubEnc:c})},f.fromPrivate=function(a,b,c){return b instanceof f?b:new f(a,{priv:b,privEnc:c})},f.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},f.prototype.getPublic=function(a,b){return("string"==typeof a&&(b=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),b)?this.pub.encode(b,a):this.pub},f.prototype.getPrivate=function(a){return"hex"===a?this.priv.toString(16,2):this.priv},f.prototype._importPrivate=function(a,b){this.priv=new d(a,b||16),this.priv=this.priv.umod(this.ec.curve.n)},f.prototype._importPublic=function(a,b){if(a.x||a.y){"mont"===this.ec.curve.type?e(a.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&e(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,b)},f.prototype.derive=function(a){return a.validate()||e(a.validate(),"public point not validated"),a.mul(this.priv).getX()},f.prototype.sign=function(a,b,c){return this.ec.sign(a,this,b,c)},f.prototype.verify=function(a,b,c){return this.ec.verify(a,b,this,void 0,c)},f.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},81165,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(8408),f=e.assert;function g(a,b){if(a instanceof g)return a;this._importDER(a,b)||(f(a.r&&a.s,"Signature without r or s"),this.r=new d(a.r,16),this.s=new d(a.s,16),void 0===a.recoveryParam?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}function h(){this.place=0}function i(a,b){var c=a[b.place++];if(!(128&c))return c;var d=15&c;if(0===d||d>4||0===a[b.place])return!1;for(var e=0,f=0,g=b.place;f<d;f++,g++)e<<=8,e|=a[g],e>>>=0;return!(e<=127)&&(b.place=g,e)}function j(a){for(var b=0,c=a.length-1;!a[b]&&!(128&a[b+1])&&b<c;)b++;return 0===b?a:a.slice(b)}function k(a,b){if(b<128)return void a.push(b);var c=1+(Math.log(b)/Math.LN2>>>3);for(a.push(128|c);--c;)a.push(b>>>(c<<3)&255);a.push(b)}b.exports=g,g.prototype._importDER=function(a,b){a=e.toArray(a,b);var c=new h;if(48!==a[c.place++])return!1;var f=i(a,c);if(!1===f||f+c.place!==a.length||2!==a[c.place++])return!1;var g=i(a,c);if(!1===g||(128&a[c.place])!=0)return!1;var j=a.slice(c.place,g+c.place);if(c.place+=g,2!==a[c.place++])return!1;var k=i(a,c);if(!1===k||a.length!==k+c.place||(128&a[c.place])!=0)return!1;var l=a.slice(c.place,k+c.place);if(0===j[0])if(!(128&j[1]))return!1;else j=j.slice(1);if(0===l[0])if(!(128&l[1]))return!1;else l=l.slice(1);return this.r=new d(j),this.s=new d(l),this.recoveryParam=null,!0},g.prototype.toDER=function(a){var b=this.r.toArray(),c=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&c[0]&&(c=[0].concat(c)),b=j(b),c=j(c);!c[0]&&!(128&c[1]);)c=c.slice(1);var d=[2];k(d,b.length),(d=d.concat(b)).push(2),k(d,c.length);var f=d.concat(c),g=[48];return k(g,f.length),g=g.concat(f),e.encode(g,a)}},82979,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(44697),f=a.r(8408),g=a.r(93945),h=a.r(46358),i=f.assert,j=a.r(43069),k=a.r(81165);function l(a){if(!(this instanceof l))return new l(a);"string"==typeof a&&(i(Object.prototype.hasOwnProperty.call(g,a),"Unknown curve "+a),a=g[a]),a instanceof g.PresetCurve&&(a={curve:a}),this.curve=a.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=a.curve.g,this.g.precompute(a.curve.n.bitLength()+1),this.hash=a.hash||a.curve.hash}b.exports=l,l.prototype.keyPair=function(a){return new j(this,a)},l.prototype.keyFromPrivate=function(a,b){return j.fromPrivate(this,a,b)},l.prototype.keyFromPublic=function(a,b){return j.fromPublic(this,a,b)},l.prototype.genKeyPair=function(a){a||(a={});for(var b=new e({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||h(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),f=this.n.sub(new d(2));;){var g=new d(b.generate(c));if(!(g.cmp(f)>0))return g.iaddn(1),this.keyFromPrivate(g)}},l.prototype._truncateToN=function(a,b,c){if(d.isBN(a)||"number"==typeof a)e=(a=new d(a,16)).byteLength();else if("object"==typeof a)e=a.length,a=new d(a,16);else{var e,f=a.toString();e=f.length+1>>>1,a=new d(f,16)}"number"!=typeof c&&(c=8*e);var g=c-this.n.bitLength();return(g>0&&(a=a.ushrn(g)),!b&&a.cmp(this.n)>=0)?a.sub(this.n):a},l.prototype.sign=function(a,b,c,f){if("object"==typeof c&&(f=c,c=null),f||(f={}),"string"!=typeof a&&"number"!=typeof a&&!d.isBN(a)){i("object"==typeof a&&a&&"number"==typeof a.length,"Expected message to be an array-like, a hex string, or a BN instance"),i(a.length>>>0===a.length);for(var g=0;g<a.length;g++)i((255&a[g])===a[g])}b=this.keyFromPrivate(b,c),i(!(a=this._truncateToN(a,!1,f.msgBitLength)).isNeg(),"Can not sign a negative message");var h=this.n.byteLength(),j=b.getPrivate().toArray("be",h),l=a.toArray("be",h);i(new d(l).eq(a),"Can not sign message");for(var m=new e({hash:this.hash,entropy:j,nonce:l,pers:f.pers,persEnc:f.persEnc||"utf8"}),n=this.n.sub(new d(1)),o=0;;o++){var p=f.k?f.k(o):new d(m.generate(this.n.byteLength()));if(0>=(p=this._truncateToN(p,!0)).cmpn(1)||p.cmp(n)>=0)continue;var q=this.g.mul(p);if(!q.isInfinity()){var r=q.getX(),s=r.umod(this.n);if(0!==s.cmpn(0)){var t=p.invm(this.n).mul(s.mul(b.getPrivate()).iadd(a));if(0!==(t=t.umod(this.n)).cmpn(0)){var u=!!q.getY().isOdd()|2*(0!==r.cmp(s));return f.canonical&&t.cmp(this.nh)>0&&(t=this.n.sub(t),u^=1),new k({r:s,s:t,recoveryParam:u})}}}}},l.prototype.verify=function(a,b,c,d,e){e||(e={}),a=this._truncateToN(a,!1,e.msgBitLength),c=this.keyFromPublic(c,d);var f,g=(b=new k(b,"hex")).r,h=b.s;if(0>g.cmpn(1)||g.cmp(this.n)>=0||0>h.cmpn(1)||h.cmp(this.n)>=0)return!1;var i=h.invm(this.n),j=i.mul(a).umod(this.n),l=i.mul(g).umod(this.n);return this.curve._maxwellTrick?!(f=this.g.jmulAdd(j,c.getPublic(),l)).isInfinity()&&f.eqXToP(g):!(f=this.g.mulAdd(j,c.getPublic(),l)).isInfinity()&&0===f.getX().umod(this.n).cmp(g)},l.prototype.recoverPubKey=function(a,b,c,e){i((3&c)===c,"The recovery param is more than two bits"),b=new k(b,e);var f=this.n,g=new d(a),h=b.r,j=b.s,l=1&c,m=c>>1;if(h.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw Error("Unable to find sencond key candinate");h=m?this.curve.pointFromX(h.add(this.curve.n),l):this.curve.pointFromX(h,l);var n=b.r.invm(f),o=f.sub(g).mul(n).umod(f),p=j.mul(n).umod(f);return this.g.mulAdd(o,h,p)},l.prototype.getKeyRecoveryParam=function(a,b,c,d){if(null!==(b=new k(b,d)).recoveryParam)return b.recoveryParam;for(var e,f=0;f<4;f++){try{e=this.recoverPubKey(a,b,f)}catch(a){continue}if(e.eq(c))return f}throw Error("Unable to find valid recovery factor")}},83774,(a,b,c)=>{"use strict";var d=a.r(8408),e=d.assert,f=d.parseBytes,g=d.cachedProperty;function h(a,b){this.eddsa=a,this._secret=f(b.secret),a.isPoint(b.pub)?this._pub=b.pub:this._pubBytes=f(b.pub)}h.fromPublic=function(a,b){return b instanceof h?b:new h(a,{pub:b})},h.fromSecret=function(a,b){return b instanceof h?b:new h(a,{secret:b})},h.prototype.secret=function(){return this._secret},g(h,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),g(h,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),g(h,"privBytes",function(){var a=this.eddsa,b=this.hash(),c=a.encodingLength-1,d=b.slice(0,a.encodingLength);return d[0]&=248,d[c]&=127,d[c]|=64,d}),g(h,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),g(h,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),g(h,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),h.prototype.sign=function(a){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},h.prototype.verify=function(a,b){return this.eddsa.verify(a,b,this)},h.prototype.getSecret=function(a){return e(this._secret,"KeyPair is public only"),d.encode(this.secret(),a)},h.prototype.getPublic=function(a){return d.encode(this.pubBytes(),a)},b.exports=h},74619,(a,b,c)=>{"use strict";var d=a.r(21201),e=a.r(8408),f=e.assert,g=e.cachedProperty,h=e.parseBytes;function i(a,b){this.eddsa=a,"object"!=typeof b&&(b=h(b)),Array.isArray(b)&&(f(b.length===2*a.encodingLength,"Signature has invalid size"),b={R:b.slice(0,a.encodingLength),S:b.slice(a.encodingLength)}),f(b.R&&b.S,"Signature without R or S"),a.isPoint(b.R)&&(this._R=b.R),b.S instanceof d&&(this._S=b.S),this._Rencoded=Array.isArray(b.R)?b.R:b.Rencoded,this._Sencoded=Array.isArray(b.S)?b.S:b.Sencoded}g(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),g(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),g(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),g(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},b.exports=i},50021,(a,b,c)=>{"use strict";var d=a.r(73955),e=a.r(93945),f=a.r(8408),g=f.assert,h=f.parseBytes,i=a.r(83774),j=a.r(74619);function k(a){if(g("ed25519"===a,"only tested with ed25519 so far"),!(this instanceof k))return new k(a);a=e[a].curve,this.curve=a,this.g=a.g,this.g.precompute(a.n.bitLength()+1),this.pointClass=a.point().constructor,this.encodingLength=Math.ceil(a.n.bitLength()/8),this.hash=d.sha512}b.exports=k,k.prototype.sign=function(a,b){a=h(a);var c=this.keyFromSecret(b),d=this.hashInt(c.messagePrefix(),a),e=this.g.mul(d),f=this.encodePoint(e),g=this.hashInt(f,c.pubBytes(),a).mul(c.priv()),i=d.add(g).umod(this.curve.n);return this.makeSignature({R:e,S:i,Rencoded:f})},k.prototype.verify=function(a,b,c){if(a=h(a),(b=this.makeSignature(b)).S().gte(b.eddsa.curve.n)||b.S().isNeg())return!1;var d=this.keyFromPublic(c),e=this.hashInt(b.Rencoded(),d.pubBytes(),a),f=this.g.mul(b.S());return b.R().add(d.pub().mul(e)).eq(f)},k.prototype.hashInt=function(){for(var a=this.hash(),b=0;b<arguments.length;b++)a.update(arguments[b]);return f.intFromLE(a.digest()).umod(this.curve.n)},k.prototype.keyFromPublic=function(a){return i.fromPublic(this,a)},k.prototype.keyFromSecret=function(a){return i.fromSecret(this,a)},k.prototype.makeSignature=function(a){return a instanceof j?a:new j(this,a)},k.prototype.encodePoint=function(a){var b=a.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=128*!!a.getX().isOdd(),b},k.prototype.decodePoint=function(a){var b=(a=f.parseBytes(a)).length-1,c=a.slice(0,b).concat(-129&a[b]),d=(128&a[b])!=0,e=f.intFromLE(c);return this.curve.pointFromY(e,d)},k.prototype.encodeInt=function(a){return a.toArray("le",this.encodingLength)},k.prototype.decodeInt=function(a){return f.intFromLE(a)},k.prototype.isPoint=function(a){return a instanceof this.pointClass}},11933,(a,b,c)=>{"use strict";c.version=a.r(31103).version,c.utils=a.r(8408),c.rand=a.r(46358),c.curve=a.r(74885),c.curves=a.r(93945),c.ec=a.r(82979),c.eddsa=a.r(50021)},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},68388,(a,b,c)=>{var d=a.r(22734),e=a.r(14747),f=a.r(46786),g="function"==typeof __webpack_require__?__non_webpack_require__:a.t,h=process.config&&process.config.variables||{},i=!!process.env.PREBUILDS_ONLY,j=process.versions.modules,k=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?"electron":process.versions&&process.versions.nw?"node-webkit":"node",l=process.env.npm_config_arch||f.arch(),m=process.env.npm_config_platform||f.platform(),n=process.env.LIBC||("linux"===m&&d.existsSync("/etc/alpine-release")?"musl":"glibc"),o=process.env.ARM_VERSION||("arm64"===l?"8":h.arm_version)||"",p=(process.versions.uv||"").split(".")[0];function q(a){return g(q.resolve(a))}function r(a){try{return d.readdirSync(a)}catch(a){return[]}}function s(a,b){var c=r(a).filter(b);return c[0]&&e.join(a,c[0])}function t(a){return/\.node$/.test(a)}function u(a){var b=a.split("-");if(2===b.length){var c=b[0],d=b[1].split("+");if(c&&d.length&&d.every(Boolean))return{name:a,platform:c,architectures:d}}}function v(a,b){return function(c){return null!=c&&c.platform===a&&c.architectures.includes(b)}}function w(a,b){return a.architectures.length-b.architectures.length}function x(a){var b=a.split("."),c=b.pop(),d={file:a,specificity:0};if("node"===c){for(var e=0;e<b.length;e++){var f=b[e];if("node"===f||"electron"===f||"node-webkit"===f)d.runtime=f;else if("napi"===f)d.napi=!0;else if("abi"===f.slice(0,3))d.abi=f.slice(3);else if("uv"===f.slice(0,2))d.uv=f.slice(2);else if("armv"===f.slice(0,4))d.armv=f.slice(4);else{if("glibc"!==f&&"musl"!==f)continue;d.libc=f}d.specificity++}return d}}function y(a,b){return function(c){var d;return null!=c&&(!c.runtime||c.runtime===a||!!("node"===(d=c).runtime&&d.napi))&&(!c.abi||c.abi===b||!!c.napi)&&(!c.uv||c.uv===p)&&(!c.armv||c.armv===o)&&(!c.libc||c.libc===n)&&!0}}function z(a){return function(b,c){return b.runtime!==c.runtime?b.runtime===a?-1:1:b.abi!==c.abi?b.abi?-1:1:b.specificity!==c.specificity?b.specificity>c.specificity?-1:1:0}}b.exports=q,q.resolve=q.path=function(a){a=e.resolve(a||".");try{var b=g(e.join(a,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[b+"_PREBUILD"]&&(a=process.env[b+"_PREBUILD"])}catch(a){}if(!i){var c=s(e.join(a,"build/Release"),t);if(c)return c;var d=s(e.join(a,"build/Debug"),t);if(d)return d}var f=q(a);if(f)return f;var h=q(e.dirname(process.execPath));if(h)return h;throw Error("No native build was found for "+["platform="+m,"arch="+l,"runtime="+k,"abi="+j,"uv="+p,o?"armv="+o:"","libc="+n,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","function"==typeof __webpack_require__?"webpack=true":""].filter(Boolean).join(" ")+"\n    loaded from: "+a+"\n");function q(a){var b=r(e.join(a,"prebuilds")).map(u).filter(v(m,l)).sort(w)[0];if(b){var c=e.join(a,"prebuilds",b.name),d=r(c).map(x).filter(y(k,j)).sort(z(k))[0];if(d)return e.join(c,d.file)}}},q.parseTags=x,q.matchTags=y,q.compareTags=z,q.parseTuple=u,q.matchTuple=v,q.compareTuples=w},96834,(a,b,c)=>{let d="function"==typeof __webpack_require__?__non_webpack_require__:a.t;"function"==typeof d.addon?b.exports=d.addon.bind(d):b.exports=a.r(68388)},97763,(a,b,c)=>{let d="Impossible case. Please create issue.",e="The tweak was out of range or the resulted private key is invalid",f="The tweak was out of range or equal to zero",g="Public Key could not be parsed",h="Public Key serialization error",i="Signature could not be parsed";function j(a,b){if(!a)throw Error(b)}function k(a,b,c){if(j(b instanceof Uint8Array,`Expected ${a} to be an Uint8Array`),void 0!==c)if(Array.isArray(c)){let d=c.join(", "),e=`Expected ${a} to be an Uint8Array with length [${d}]`;j(c.includes(b.length),e)}else{let d=`Expected ${a} to be an Uint8Array with length ${c}`;j(b.length===c,d)}}function l(a){j("Boolean"===n(a),"Expected compressed to be a Boolean")}function m(a=a=>new Uint8Array(a),b){return"function"==typeof a&&(a=a(b)),k("output",a,b),a}function n(a){return Object.prototype.toString.call(a).slice(8,-1)}b.exports=a=>({contextRandomize(b){if(j(null===b||b instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==b&&k("seed",b,32),1===a.contextRandomize(b))throw Error("Unknow error on context randomization")},privateKeyVerify:b=>(k("private key",b,32),0===a.privateKeyVerify(b)),privateKeyNegate(b){switch(k("private key",b,32),a.privateKeyNegate(b)){case 0:return b;case 1:throw Error(d)}},privateKeyTweakAdd(b,c){switch(k("private key",b,32),k("tweak",c,32),a.privateKeyTweakAdd(b,c)){case 0:return b;case 1:throw Error(e)}},privateKeyTweakMul(b,c){switch(k("private key",b,32),k("tweak",c,32),a.privateKeyTweakMul(b,c)){case 0:return b;case 1:throw Error(f)}},publicKeyVerify:b=>(k("public key",b,[33,65]),0===a.publicKeyVerify(b)),publicKeyCreate(b,c=!0,d){switch(k("private key",b,32),l(c),d=m(d,c?33:65),a.publicKeyCreate(d,b)){case 0:return d;case 1:throw Error("Private Key is invalid");case 2:throw Error(h)}},publicKeyConvert(b,c=!0,d){switch(k("public key",b,[33,65]),l(c),d=m(d,c?33:65),a.publicKeyConvert(d,b)){case 0:return d;case 1:throw Error(g);case 2:throw Error(h)}},publicKeyNegate(b,c=!0,e){switch(k("public key",b,[33,65]),l(c),e=m(e,c?33:65),a.publicKeyNegate(e,b)){case 0:return e;case 1:throw Error(g);case 2:throw Error(d);case 3:throw Error(h)}},publicKeyCombine(b,c=!0,d){for(let a of(j(Array.isArray(b),"Expected public keys to be an Array"),j(b.length>0,"Expected public keys array will have more than zero items"),b))k("public key",a,[33,65]);switch(l(c),d=m(d,c?33:65),a.publicKeyCombine(d,b)){case 0:return d;case 1:throw Error(g);case 2:throw Error("The sum of the public keys is not valid");case 3:throw Error(h)}},publicKeyTweakAdd(b,c,d=!0,f){switch(k("public key",b,[33,65]),k("tweak",c,32),l(d),f=m(f,d?33:65),a.publicKeyTweakAdd(f,b,c)){case 0:return f;case 1:throw Error(g);case 2:throw Error(e)}},publicKeyTweakMul(b,c,d=!0,e){switch(k("public key",b,[33,65]),k("tweak",c,32),l(d),e=m(e,d?33:65),a.publicKeyTweakMul(e,b,c)){case 0:return e;case 1:throw Error(g);case 2:throw Error(f)}},signatureNormalize(b){switch(k("signature",b,64),a.signatureNormalize(b)){case 0:return b;case 1:throw Error(i)}},signatureExport(b,c){k("signature",b,64);let e={output:c=m(c,72),outputlen:72};switch(a.signatureExport(e,b)){case 0:return c.slice(0,e.outputlen);case 1:throw Error(i);case 2:throw Error(d)}},signatureImport(b,c){switch(k("signature",b),c=m(c,64),a.signatureImport(c,b)){case 0:return c;case 1:throw Error(i);case 2:throw Error(d)}},ecdsaSign(b,c,e={},f){k("message",b,32),k("private key",c,32),j("Object"===n(e),"Expected options to be an Object"),void 0!==e.data&&k("options.data",e.data),void 0!==e.noncefn&&j("Function"===n(e.noncefn),"Expected options.noncefn to be a Function");let g={signature:f=m(f,64),recid:null};switch(a.ecdsaSign(g,b,c,e.data,e.noncefn)){case 0:return g;case 1:throw Error("The nonce generation function failed, or the private key was invalid");case 2:throw Error(d)}},ecdsaVerify(b,c,d){switch(k("signature",b,64),k("message",c,32),k("public key",d,[33,65]),a.ecdsaVerify(b,c,d)){case 0:return!0;case 3:return!1;case 1:throw Error(i);case 2:throw Error(g)}},ecdsaRecover(b,c,e,f=!0,g){switch(k("signature",b,64),j("Number"===n(c)&&c>=0&&c<=3,"Expected recovery id to be a Number within interval [0, 3]"),k("message",e,32),l(f),g=m(g,f?33:65),a.ecdsaRecover(g,b,c,e)){case 0:return g;case 1:throw Error(i);case 2:throw Error("Public key could not be recover");case 3:throw Error(d)}},ecdh(b,c,d={},e){switch(k("public key",b,[33,65]),k("private key",c,32),j("Object"===n(d),"Expected options to be an Object"),void 0!==d.data&&k("options.data",d.data),void 0!==d.hashfn?(j("Function"===n(d.hashfn),"Expected options.hashfn to be a Function"),void 0!==d.xbuf&&k("options.xbuf",d.xbuf,32),void 0!==d.ybuf&&k("options.ybuf",d.ybuf,32),k("output",e)):e=m(e,32),a.ecdh(e,b,c,d.data,d.hashfn,d.xbuf,d.ybuf)){case 0:return e;case 1:throw Error(g);case 2:throw Error("Scalar was invalid (zero or overflow)")}}})},56050,(a,b,c)=>{let d=a.r(96834)("/ROOT/node_modules/.pnpm/secp256k1@5.0.1/node_modules/secp256k1");b.exports=a.r(97763)(new d.Secp256k1)},36038,(a,b,c)=>{let d=new(a.r(11933)).ec("secp256k1"),e=d.curve,f=e.n.constructor;function g(a){let b=a[0];switch(b){case 2:case 3:if(33!==a.length)return null;return function(a,b){let c=new f(b);if(c.cmp(e.p)>=0)return null;let g=(c=c.toRed(e.red)).redSqr().redIMul(c).redIAdd(e.b).redSqrt();3===a!==g.isOdd()&&(g=g.redNeg());let h=c.redSqr().redIMul(c);return g.redSqr().redISub(h.redIAdd(e.b)).isZero()?d.keyPair({pub:{x:c,y:g}}):null}(b,a.subarray(1,33));case 4:case 6:case 7:if(65!==a.length)return null;return function(a,b,c){let g=new f(b),h=new f(c);if(g.cmp(e.p)>=0||h.cmp(e.p)>=0||(g=g.toRed(e.red),h=h.toRed(e.red),(6===a||7===a)&&h.isOdd()!==(7===a)))return null;let i=g.redSqr().redIMul(g);return h.redSqr().redISub(i.redIAdd(e.b)).isZero()?d.keyPair({pub:{x:g,y:h}}):null}(b,a.subarray(1,33),a.subarray(33,65));default:return null}}function h(a,b){let c=b.encode(null,33===a.length);for(let b=0;b<a.length;++b)a[b]=c[b]}b.exports={contextRandomize:()=>0,privateKeyVerify(a){let b=new f(a);return 0>b.cmp(e.n)&&!b.isZero()?0:1},privateKeyNegate(a){let b=new f(a),c=e.n.sub(b).umod(e.n).toArrayLike(Uint8Array,"be",32);return a.set(c),0},privateKeyTweakAdd(a,b){let c=new f(b);if(c.cmp(e.n)>=0||(c.iadd(new f(a)),c.cmp(e.n)>=0&&c.isub(e.n),c.isZero()))return 1;let d=c.toArrayLike(Uint8Array,"be",32);return a.set(d),0},privateKeyTweakMul(a,b){let c=new f(b);if(c.cmp(e.n)>=0||c.isZero())return 1;c.imul(new f(a)),c.cmp(e.n)>=0&&(c=c.umod(e.n));let d=c.toArrayLike(Uint8Array,"be",32);return a.set(d),0},publicKeyVerify:a=>+(null===g(a)),publicKeyCreate(a,b){let c=new f(b);return c.cmp(e.n)>=0||c.isZero()?1:(h(a,d.keyFromPrivate(b).getPublic()),0)},publicKeyConvert(a,b){let c=g(b);return null===c?1:(h(a,c.getPublic()),0)},publicKeyNegate(a,b){let c=g(b);if(null===c)return 1;let d=c.getPublic();return d.y=d.y.redNeg(),h(a,d),0},publicKeyCombine(a,b){let c=Array(b.length);for(let a=0;a<b.length;++a)if(c[a]=g(b[a]),null===c[a])return 1;let d=c[0].getPublic();for(let a=1;a<c.length;++a)d=d.add(c[a].pub);return d.isInfinity()?2:(h(a,d),0)},publicKeyTweakAdd(a,b,c){let d=g(b);if(null===d)return 1;if((c=new f(c)).cmp(e.n)>=0)return 2;let i=d.getPublic().add(e.g.mul(c));return i.isInfinity()?2:(h(a,i),0)},publicKeyTweakMul(a,b,c){let d=g(b);return null===d?1:(c=new f(c)).cmp(e.n)>=0||c.isZero()?2:(h(a,d.getPublic().mul(c)),0)},signatureNormalize(a){let b=new f(a.subarray(0,32)),c=new f(a.subarray(32,64));return b.cmp(e.n)>=0||c.cmp(e.n)>=0?1:(1===c.cmp(d.nh)&&a.set(e.n.sub(c).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(a,b){let c=b.subarray(0,32),d=b.subarray(32,64);if(new f(c).cmp(e.n)>=0||new f(d).cmp(e.n)>=0)return 1;let{output:g}=a,h=g.subarray(4,37);h[0]=0,h.set(c,1);let i=33,j=0;for(;i>1&&0===h[j]&&!(128&h[j+1]);--i,++j);if(128&(h=h.subarray(j))[0]||i>1&&0===h[0]&&!(128&h[1]))return 1;let k=g.subarray(39,72);k[0]=0,k.set(d,1);let l=33,m=0;for(;l>1&&0===k[m]&&!(128&k[m+1]);--l,++m);return 128&(k=k.subarray(m))[0]||l>1&&0===k[0]&&!(128&k[1])?1:(a.outputlen=6+i+l,g[0]=48,g[1]=a.outputlen-2,g[2]=2,g[3]=h.length,g.set(h,4),g[4+i]=2,g[5+i]=k.length,g.set(k,6+i),0)},signatureImport(a,b){if(b.length<8||b.length>72||48!==b[0]||b[1]!==b.length-2||2!==b[2])return 1;let c=b[3];if(0===c||5+c>=b.length||2!==b[4+c])return 1;let d=b[5+c];if(0===d||6+c+d!==b.length||128&b[4]||c>1&&0===b[4]&&!(128&b[5])||128&b[c+6]||d>1&&0===b[c+6]&&!(128&b[c+7]))return 1;let g=b.subarray(4,4+c);if(33===g.length&&0===g[0]&&(g=g.subarray(1)),g.length>32)return 1;let h=b.subarray(6+c);if(33===h.length&&0===h[0]&&(h=h.slice(1)),h.length>32)throw Error("S length is too long");let i=new f(g);i.cmp(e.n)>=0&&(i=new f(0));let j=new f(b.subarray(6+c));return j.cmp(e.n)>=0&&(j=new f(0)),a.set(i.toArrayLike(Uint8Array,"be",32),0),a.set(j.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(a,b,c,g,h){let i;if(h){let a=h;h=d=>{let e=a(b,c,null,g,d);if(!(e instanceof Uint8Array&&32===e.length))throw Error("This is the way");return new f(e)}}let j=new f(c);if(j.cmp(e.n)>=0||j.isZero())return 1;try{i=d.sign(b,c,{canonical:!0,k:h,pers:g})}catch(a){return 1}return a.signature.set(i.r.toArrayLike(Uint8Array,"be",32),0),a.signature.set(i.s.toArrayLike(Uint8Array,"be",32),32),a.recid=i.recoveryParam,0},ecdsaVerify(a,b,c){let h={r:a.subarray(0,32),s:a.subarray(32,64)},i=new f(h.r),j=new f(h.s);if(i.cmp(e.n)>=0||j.cmp(e.n)>=0)return 1;if(1===j.cmp(d.nh)||i.isZero()||j.isZero())return 3;let k=g(c);if(null===k)return 2;let l=k.getPublic();return 3*!d.verify(b,h,l)},ecdsaRecover(a,b,c,g){let i,j={r:b.slice(0,32),s:b.slice(32,64)},k=new f(j.r),l=new f(j.s);if(k.cmp(e.n)>=0||l.cmp(e.n)>=0)return 1;if(k.isZero()||l.isZero())return 2;try{i=d.recoverPubKey(g,j,c)}catch(a){return 2}return h(a,i),0},ecdh(a,b,c,h,i,j,k){let l=g(b);if(null===l)return 1;let m=new f(c);if(m.cmp(e.n)>=0||m.isZero())return 2;let n=l.getPublic().mul(m);if(void 0===i){let b=n.encode(null,!0),c=d.hash().update(b).digest();for(let b=0;b<32;++b)a[b]=c[b]}else{j||(j=new Uint8Array(32));let b=n.getX().toArray("be",32);for(let a=0;a<32;++a)j[a]=b[a];k||(k=new Uint8Array(32));let c=n.getY().toArray("be",32);for(let a=0;a<32;++a)k[a]=c[a];let d=i(j,k,h);if(!(d instanceof Uint8Array&&d.length===a.length))return 2;a.set(d)}return 0}}},69679,(a,b,c)=>{b.exports=a.r(97763)(a.r(36038))},85097,(a,b,c)=>{try{b.exports=a.r(56050)}catch(c){b.exports=a.r(69679)}},16811,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.KeyPath=c.Path=void 0,c.Path=function(a,b,c){return{account:a,scope:b,keyIndex:c}};var d=function(a){var b=a.split("/");if(4!==b.length||"m"!==b[0])throw Error("invalid value for path");return(0,c.Path)(b[1],b[2],b[3])},e=function(a,b){var e=d(a),f=parseInt(e.keyIndex),g="m/"+e.account+"/"+e.scope+"/"+(f+(void 0!==b&&b>1?b:1)).toString(10);return(0,c.KeyPath)(g)},f=function(a){var b=d(a);if(parseInt(b.account)>65535||parseInt(b.scope)>65535||parseInt(b.keyIndex)>2097151)throw Error("invalid path with value exceeding its limits");return a};c.KeyPath=function(a){return{value:f(a),parse:function(){return d(a)},next:function(b){return e(a,b)},valueOf:function(){var b=d(a);return 0x2000000000*parseInt(b.account)+2097152*parseInt(b.scope)+parseInt(b.keyIndex)}}}},91259,(a,b,c)=>{"use strict";var d=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)},f=a.e&&a.e.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},g=a.e&&a.e.__generator||function(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},h=a.e&&a.e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.decrypt=c.encrypt=c.derive=c.verify=c.sign=c.getPublic=c.kdf=void 0;var i=a.r(54799),j=a.r(11933),k=h(a.r(85097)),l=new j.ec("secp256k1"),m=function(a){return(0,i.createHash)("sha256").update(a).digest()},n=function(a,b){return(0,i.createHmac)("sha256",a).update(b).digest()},o=function(a,b,c){var d=(0,i.createCipheriv)("aes-128-ctr",b,a),e=d.update(c),f=d.final();return Buffer.concat([a,e,f])},p=function(a,b,c){var d=(0,i.createDecipheriv)("aes-128-ctr",b,a),e=d.update(c),f=d.final();return Buffer.concat([e,f])},q=function(a,b){if(a.length!==b.length)return!1;for(var c=0,d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},r=function(a){if(!(a.length<32))return a;var b=Buffer.alloc(32).fill(0);return a.copy(b,32-a.length),b};c.kdf=function(a,b){return new Promise(function(c){for(var d=1,e=0,f=Buffer.from("");e<b;){var g=Buffer.from([d>>24,d>>16,d>>8,d]),h=m(Buffer.concat([g,a]));f=Buffer.concat([f,h]),e+=32,d+=1}c(f)})},c.getPublic=function(a){return new Promise(function(b,c){return 32!==a.length?c(Error("Private key should be 32 bytes long")):b(Buffer.from(k.default.publicKeyConvert(k.default.publicKeyCreate(a),!1)))})},c.sign=function(a,b){return new Promise(function(c,d){if(32!==a.length)d(Error("Private key should be 32 bytes long"));else if(b.length<=0)d(Error("Message should not be empty"));else if(b.length>32)d(Error("Message is too long (max 32 bytes)"));else{var e=r(b),f=k.default.ecdsaSign(e,a).signature;c(Buffer.from(k.default.signatureExport(f)))}})},c.verify=function(a,b,c){return new Promise(function(d,e){if(65!==a.length)e(Error("Public key should 65 bytes long"));else if(b.length<=0)e(Error("Message should not be empty"));else if(b.length>32)e(Error("Message is too long (max 32 bytes)"));else{var f=r(b);try{var g=k.default.signatureImport(c);k.default.ecdsaVerify(g,f,a)?d(!0):e(Error("Bad signature"))}catch(a){e(Error("Invalid signature"))}}})},c.derive=function(a,b){return new Promise(function(c,d){if(32!==a.length)d(Error("Bad private key, it should be 32 bytes but it's actually ".concat(a.length," bytes long")));else if(65!==b.length)d(Error("Bad public key, it should be 65 bytes but it's actually ".concat(b.length," bytes long")));else if(4!==b[0])d(Error("Bad public key, a valid public key would begin with 4"));else{var e=l.keyFromPrivate(a),f=l.keyFromPublic(b),g=e.derive(f.getPublic());c(r(Buffer.from(g.toArray())))}})},c.encrypt=function(a,b,d){return f(void 0,void 0,void 0,function(){var e;return g(this,function(h){return e=(d=d||{}).ephemPrivateKey||(0,i.randomBytes)(32),[2,(0,c.derive)(e,a).then(function(a){return(0,c.kdf)(a,32)}).then(function(a){return f(void 0,void 0,void 0,function(){var f,h,j,k;return g(this,function(g){return f=a.slice(0,16),h=d.iv||(0,i.randomBytes)(16),k=n(m(a.slice(16)),j=o(h,f,b)),[2,(0,c.getPublic)(e).then(function(a){return Buffer.concat([a,j,k])})]})})})]})})},c.decrypt=function(a,b){return new Promise(function(d,e){if(b.length<113)e(Error("Invalid Ciphertext. Data is too small. It should ba at least ".concat(113)));else if(4!==b[0])e(Error("Not a valid ciphertext. It should begin with 4 but actually begin with ".concat(b[0])));else{var f=b.slice(0,65),g=b.length-113,h=b.slice(65,81),i=b.slice(65,81+g),j=i.slice(16),k=b.slice(81+g);d((0,c.derive)(a,f).then(function(a){return(0,c.kdf)(a,32)}).then(function(a){var b=a.slice(0,16);if(!q(n(m(a.slice(16)),i),k))return Promise.reject(Error("Incorrect MAC"));var c=p(h,b,j);return Buffer.from(new Uint8Array(c))}))}})},e(a.r(16811),c)},57652,(a,b,c)=>{"use strict";var d=a.e&&a.e.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=a.e&&a.e.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)},f=a.e&&a.e.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},g=a.e&&a.e.__generator||function(a,b){var c,d,e,f={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=h(0),g.throw=h(1),g.return=h(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function h(h){return function(i){var j=[h,i];if(c)throw TypeError("Generator is already executing.");for(;g&&(g=0,j[0]&&(f=0)),f;)try{if(c=1,d&&(e=2&j[0]?d.return:j[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,j[1])).done)return e;switch(d=0,e&&(j=[2&j[0],e.value]),j[0]){case 0:case 1:e=j;break;case 4:return f.label++,{value:j[1],done:!1};case 5:f.label++,d=j[1],j=[0];continue;case 7:j=f.ops.pop(),f.trys.pop();continue;default:if(!(e=(e=f.trys).length>0&&e[e.length-1])&&(6===j[0]||2===j[0])){f=0;continue}if(3===j[0]&&(!e||j[1]>e[0]&&j[1]<e[3])){f.label=j[1];break}if(6===j[0]&&f.label<e[1]){f.label=e[1],e=j;break}if(e&&f.label<e[2]){f.label=e[2],f.ops.push(j);break}e[2]&&f.ops.pop(),f.trys.pop();continue}j=b.call(a,f)}catch(a){j=[6,a],d=0}finally{c=e=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}};Object.defineProperty(c,"__esModule",{value:!0}),c.decrypt=c.encrypt=c.derive=c.verify=c.sign=c.getPublic=c.kdf=void 0;var h=new(a.r(11933)).ec("secp256k1"),i=window.crypto||window.msCrypto,j=i.subtle||i.webkitSubtle;if(void 0===j||void 0===i)throw Error("crypto and/or subtle api unavailable");var k=function(a){return i.getRandomValues(Buffer.alloc(a))},l=function(a){return j.digest({name:"SHA-256"},a).then(Buffer.from)};c.kdf=function(a,b){for(var c=1,d=0,e=Promise.resolve(Buffer.from(""));d<b;)!function(){var b=Buffer.from([c>>24,c>>16,c>>8,c]),f=l(Buffer.concat([b,a]));e=e.then(function(a){return f.then(function(b){return Buffer.concat([a,b])})}),d+=32,c+=1}();return e};var m=function(a,b){var c={name:"HMAC",hash:{name:"SHA-256"}};return j.importKey("raw",a,c,!1,["sign"]).then(function(a){return j.sign(c,a,b)}).then(Buffer.from)},n=function(a,b,c){var d={name:"HMAC",hash:{name:"SHA-256"}};return j.importKey("raw",a,d,!1,["verify"]).then(function(a){return j.verify(d,a,c,b)})};c.getPublic=function(a){return new Promise(function(b,c){32!==a.length?c(Error("Private key should be 32 bytes long")):b(Buffer.from(h.keyFromPrivate(a).getPublic("array")))})},c.sign=function(a,b){return new Promise(function(c,d){32!==a.length?d(Error("Private key should be 32 bytes long")):b.length<=0?d(Error("Message should not be empty")):b.length>32?d(Error("Message is too long (max 32 bytes)")):c(Buffer.from(h.sign(b,a,{canonical:!0}).toDER("hex"),"hex"))})},c.verify=function(a,b,c){return new Promise(function(d,e){try{65!==a.length||4!==a[0]?e(Error("Public key should 65 bytes long")):b.length<=0?e(Error("Message should not be empty")):b.length>32?e(Error("Message is too long (max 32 bytes)")):h.verify(b,c.toString("hex"),a,"hex")?d(!0):e(Error("Bad signature"))}catch(a){e(Error("Invalid arguments"))}})},c.derive=function(a,b){return new Promise(function(c,d){if(32!==a.length)d(Error("Bad private key, it should be 32 bytes but it's actually ".concat(a.length," bytes long")));else if(65!==b.length)d(Error("Bad public key, it should be 65 bytes but it's actually ".concat(b.length," bytes long")));else if(4!==b[0])d(Error("Bad public key, a valid public key would begin with 4"));else{var e=h.keyFromPrivate(a),f=h.keyFromPublic(b),g=e.derive(f.getPublic());c(o(Buffer.from(g.toArray())))}})},c.encrypt=function(a,b,d){return f(void 0,void 0,void 0,function(){var e;return g(this,function(h){return e=(d=d||{}).ephemPrivateKey||k(32),[2,(0,c.derive)(e,a).then(function(a){return(0,c.kdf)(a,32)}).then(function(a){return f(void 0,void 0,void 0,function(){var f,h;return g(this,function(g){return f=d.iv||k(16),[2,(h=a.slice(0,16),j.importKey("raw",h,"AES-CTR",!1,["encrypt"]).then(function(a){return j.encrypt({name:"AES-CTR",counter:f,length:128},a,b)}).then(Buffer.from)).then(function(a){return Buffer.concat([f,a])}).then(function(b){return l(a.slice(16)).then(function(a){return m(a,b)}).then(function(a){return(0,c.getPublic)(e).then(function(c){return Buffer.concat([c,b,a])})})})]})})})]})})},c.decrypt=function(a,b){return new Promise(function(d,e){if(b.length<=113)e(Error("Invalid Ciphertext. Data is too small. It should ba at least ".concat(113," bytes")));else if(4!==b[0])e(Error("Not a valid ciphertext. It should begin with 4 but actually begin with ".concat(b[0])));else{var f=b.slice(0,65),g=b.length-113,h=b.slice(65,81),i=b.slice(65,81+g),k=i.slice(16),m=b.slice(81+g);d((0,c.derive)(a,f).then(function(a){return(0,c.kdf)(a,32)}).then(function(a){return l(a.slice(16)).then(function(b){return[a.slice(0,16),b]})}).then(function(a){var b=a[0];return n(a[1],i,m).then(function(a){return a?j.importKey("raw",b,"AES-CTR",!1,["decrypt"]).then(function(a){return j.decrypt({name:"AES-CTR",counter:h,length:128},a,k)}).then(Buffer.from):Promise.reject(Error("Incorrect MAC"))})}).then(Buffer.from))}})};var o=function(a){if(!(a.length<32))return a;var b=Buffer.alloc(32).fill(0);return a.copy(b,32-a.length),b};e(a.r(16811),c)},7365,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});try{b.exports=a.r(91259)}catch(c){if("u">typeof process&&process.env.ECCRYPTO_NO_FALLBACK)throw c;b.exports=a.r(57652)}},99227,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az=a.i(17701),aA=a.i(69745),aB=a.i(80003),aC=a.i(59676),aD=a.i(72873);let aE=(0,aD.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),aF=(0,aD.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var aG=a.i(31556);let aH=(0,aD.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var aI=a.i(57751);let aJ=(0,aD.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),aK=(0,aD.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);function aL({score:a}){let b=()=>a>=70?"text-secondary":a>=40?"text-yellow-500":"text-red-500",c=2*Math.PI*90,d=c-a/100*c;return(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"glass p-8 relative overflow-hidden group",children:[(0,az.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,az.jsx)("h3",{className:"text-xl font-bold",children:"Privacy Health"}),(0,az.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold bg-white/5 ${b()}`,children:a>=70?"Optimal":a>=40?"Moderate":"Critical"})]}),(0,az.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,az.jsxs)("div",{className:"relative w-48 h-48",children:[(0,az.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,az.jsx)("circle",{cx:"96",cy:"96",r:"90",stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-white/5"}),(0,az.jsx)(aC.motion.circle,{initial:{strokeDashoffset:c},animate:{strokeDashoffset:d},transition:{duration:1.5,ease:"easeOut"},cx:"96",cy:"96",r:"90",stroke:"currentColor",strokeWidth:"12",strokeDasharray:c,fill:"transparent",strokeLinecap:"round",className:b()})]}),(0,az.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,az.jsx)(aC.motion.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.5},className:`text-6xl font-black ${b()}`,children:a}),(0,az.jsx)("span",{className:"text-sm font-bold text-white/20 uppercase tracking-widest mt-[-4px]",children:"Score"})]})]})}),(0,az.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[(0,az.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,az.jsx)("span",{className:"text-xs text-white/40 block mb-1",children:"Max Score"}),(0,az.jsx)("span",{className:"text-lg font-bold",children:"100"})]}),(0,az.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,az.jsx)("span",{className:"text-xs text-white/40 block mb-1",children:"Risk Offset"}),(0,az.jsxs)("span",{className:"text-lg font-bold text-red-400",children:["-",100-a]})]})]})]})}let aM=(0,aD.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),aN=(0,aD.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),aO=(0,aD.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function aP({vectors:a}){return(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass p-8",children:[(0,az.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,az.jsx)("h3",{className:"text-xl font-bold",children:"Leakage Vectors"}),(0,az.jsxs)("span",{className:"text-white/40 text-sm font-medium",children:["(",a.length," Identified)"]})]}),(0,az.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.map((a,b)=>(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+.1*b},className:"flex flex-col p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[(0,az.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,az.jsxs)("div",{className:"flex items-center gap-3",children:[(0,az.jsx)("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${"CRITICAL"===a.severity?"bg-red-500/20 text-red-500":"HIGH"===a.severity?"bg-orange-500/20 text-orange-500":"bg-yellow-500/20 text-yellow-500"}`,children:"CRITICAL"===a.severity?(0,az.jsx)(aO,{className:"w-5 h-5"}):(0,az.jsx)(aM,{className:"w-5 h-5"})}),(0,az.jsx)("h4",{className:"font-bold text-white/90",children:a.category.replace("_"," ")})]}),(0,az.jsx)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider ${"CRITICAL"===a.severity?"bg-red-500 text-white":"bg-white/10 text-white/60"}`,children:a.severity})]}),(0,az.jsx)("p",{className:"text-sm text-white/40 leading-relaxed mb-6",children:a.description}),(0,az.jsx)("div",{className:"mt-auto pt-4 border-t border-white/5",children:(0,az.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,az.jsx)("span",{className:"text-white/40",children:"Confidence Score"}),(0,az.jsx)("span",{className:"font-mono text-secondary",children:"98%"})]})})]},a.category)),0===a.length&&(0,az.jsxs)("div",{className:"col-span-full py-20 flex flex-col items-center justify-center opacity-40",children:[(0,az.jsx)(aN,{className:"w-12 h-12 mb-4"}),(0,az.jsx)("p",{className:"font-medium text-lg",children:"No significant leakage vectors detected."})]})]})]})}let aQ=(0,aD.default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),aR=(0,aD.default)("circle-arrow-up",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),aS=(0,aD.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function aT({recommendations:a}){return(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"glass p-8",children:[(0,az.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,az.jsx)("div",{className:"w-10 h-10 rounded-xl bg-accent/20 text-accent flex items-center justify-center",children:(0,az.jsx)(aQ,{className:"w-6 h-6"})}),(0,az.jsx)("h3",{className:"text-xl font-bold",children:"Recommendations"})]}),(0,az.jsx)("div",{className:"space-y-4",children:a.map((a,b)=>(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.5+.1*b},className:"group p-6 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/[0.08] transition-all",children:[(0,az.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,az.jsxs)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider ${"HIGH"===a.priority?"bg-primary/20 text-primary":"MEDIUM"===a.priority?"bg-secondary/20 text-secondary":"bg-white/10 text-white/40"}`,children:[a.priority," Priority"]}),(0,az.jsxs)("div",{className:"flex items-center gap-1 text-secondary text-xs font-bold",children:[(0,az.jsx)(aR,{className:"w-3 h-3"}),(0,az.jsxs)("span",{children:["+",a.estimatedImprovement," pts"]})]})]}),(0,az.jsx)("h4",{className:"font-bold mb-2 group-hover:text-secondary transition-colors",children:a.title}),(0,az.jsx)("p",{className:"text-sm text-white/40 leading-relaxed",children:a.description}),(0,az.jsxs)("button",{className:"mt-6 w-full py-2 rounded-lg bg-white/5 hover:bg-white/10 text-xs font-bold flex items-center justify-center gap-2 transition-all",children:["Mark as Resolved ",(0,az.jsx)(aS,{className:"w-4 h-4"})]})]},b))})]})}var aU={value:()=>{}};function aV(){for(var a,b=0,c=arguments.length,d={};b<c;++b){if(!(a=arguments[b]+"")||a in d||/[\s.]/.test(a))throw Error("illegal type: "+a);d[a]=[]}return new aW(d)}function aW(a){this._=a}function aX(a,b,c){for(var d=0,e=a.length;d<e;++d)if(a[d].name===b){a[d]=aU,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}function aY(){}function aZ(a){return null==a?aY:function(){return this.querySelector(a)}}function a$(){return[]}function a_(a){return null==a?a$:function(){return this.querySelectorAll(a)}}function a0(a){return function(){return this.matches(a)}}function a1(a){return function(b){return b.matches(a)}}aW.prototype=aV.prototype={constructor:aW,on:function(a,b){var c,d=this._,e=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");if(c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),a&&!d.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:b}}),f=-1,g=e.length;if(arguments.length<2){for(;++f<g;)if((c=(a=e[f]).type)&&(c=function(a,b){for(var c,d=0,e=a.length;d<e;++d)if((c=a[d]).name===b)return c.value}(d[c],a.name)))return c;return}if(null!=b&&"function"!=typeof b)throw Error("invalid callback: "+b);for(;++f<g;)if(c=(a=e[f]).type)d[c]=aX(d[c],a.name,b);else if(null==b)for(c in d)d[c]=aX(d[c],a.name,null);return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new aW(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=Array(c),f=0;f<c;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;f<c;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};var a2=Array.prototype.find;function a3(){return this.firstElementChild}var a4=Array.prototype.filter;function a5(){return Array.from(this.children)}function a6(a){return Array(a.length)}function a7(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function a8(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;h<j;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new a7(a,f[h]);for(;h<i;++h)(g=b[h])&&(e[h]=g)}function a9(a,b,c,d,e,f,g){var h,i,j,k=new Map,l=b.length,m=f.length,n=Array(l);for(h=0;h<l;++h)(i=b[h])&&(n[h]=j=g.call(i,i.__data__,h,b)+"",k.has(j)?e[h]=i:k.set(j,i));for(h=0;h<m;++h)j=g.call(a,f[h],h,f)+"",(i=k.get(j))?(d[h]=i,i.__data__=f[h],k.delete(j)):c[h]=new a7(a,f[h]);for(h=0;h<l;++h)(i=b[h])&&k.get(n[h])===i&&(e[h]=i)}function ba(a){return a.__data__}function bb(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}a7.prototype={constructor:a7,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var bc="http://www.w3.org/1999/xhtml";let bd={svg:"http://www.w3.org/2000/svg",xhtml:bc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function be(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),bd.hasOwnProperty(b)?{space:bd[b],local:a}:a}function bf(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function bg(a,b){return a.style.getPropertyValue(b)||bf(a).getComputedStyle(a,null).getPropertyValue(b)}function bh(a){return a.trim().split(/^|\s+/)}function bi(a){return a.classList||new bj(a)}function bj(a){this._node=a,this._names=bh(a.getAttribute("class")||"")}function bk(a,b){for(var c=bi(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function bl(a,b){for(var c=bi(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function bm(){this.textContent=""}function bn(){this.innerHTML=""}function bo(){this.nextSibling&&this.parentNode.appendChild(this)}function bp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bq(a){var b=be(a);return(b.local?function(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}:function(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===bc&&b.documentElement.namespaceURI===bc?b.createElement(a):b.createElementNS(c,a)}})(b)}function br(){return null}function bs(){var a=this.parentNode;a&&a.removeChild(this)}function bt(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function bu(){var a=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function bv(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;d<f;++d)(c=b[d],a.type&&c.type!==a.type||c.name!==a.name)?b[++e]=c:this.removeEventListener(c.type,c.listener,c.options);++e?b.length=e:delete this.__on}}}function bw(a,b,c){return function(){var d,e=this.__on,f=function(a){b.call(this,a,this.__data__)};if(e){for(var g=0,h=e.length;g<h;++g)if((d=e[g]).type===a.type&&d.name===a.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=f,d.options=c),d.value=b;return}}this.addEventListener(a.type,f,c),d={type:a.type,name:a.name,value:b,listener:f,options:c},e?e.push(d):this.__on=[d]}}function bx(a,b,c){var d=bf(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}bj.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var by=[null];function bz(a,b){this._groups=a,this._parents=b}function bA(){return new bz([[document.documentElement]],by)}function bB(a){return"string"==typeof a?new bz([[document.querySelector(a)]],[document.documentElement]):new bz([[a]],by)}bz.prototype=bA.prototype={constructor:bz,select:function(a){"function"!=typeof a&&(a=aZ(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=Array(i),k=0;k<i;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new bz(d,this._parents)},selectAll:function(a){if("function"==typeof a){var b;b=a,a=function(){var a;return a=b.apply(this,arguments),null==a?[]:Array.isArray(a)?a:Array.from(a)}}else a=a_(a);for(var c=this._groups,d=c.length,e=[],f=[],g=0;g<d;++g)for(var h,i=c[g],j=i.length,k=0;k<j;++k)(h=i[k])&&(e.push(a.call(h,h.__data__,k,i)),f.push(h));return new bz(e,f)},selectChild:function(a){var b;return this.select(null==a?a3:(b="function"==typeof a?a:a1(a),function(){return a2.call(this.children,b)}))},selectChildren:function(a){var b;return this.selectAll(null==a?a5:(b="function"==typeof a?a:a1(a),function(){return a4.call(this.children,b)}))},filter:function(a){"function"!=typeof a&&(a=a0(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new bz(d,this._parents)},data:function(a,b){if(!arguments.length)return Array.from(this,ba);var c=b?a9:a8,d=this._parents,e=this._groups;"function"!=typeof a&&(s=a,a=function(){return s});for(var f=e.length,g=Array(f),h=Array(f),i=Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n="object"==typeof(r=a.call(k,k&&k.__data__,j,d))&&"length"in r?r:Array.from(r),o=n.length,p=h[j]=Array(o),q=g[j]=Array(o);c(k,l,p,q,i[j]=Array(m),n,b);for(var r,s,t,u,v=0,w=0;v<o;++v)if(t=p[v]){for(v>=w&&(w=v+1);!(u=q[w])&&++w<o;);t._next=u||null}}return(g=new bz(g,d))._enter=h,g._exit=i,g},enter:function(){return new bz(this._enter||this._groups.map(a6),this._parents)},exit:function(){return new bz(this._exit||this._groups.map(a6),this._parents)},join:function(a,b,c){var d=this.enter(),e=this,f=this.exit();return"function"==typeof a?(d=a(d))&&(d=d.selection()):d=d.append(a+""),null!=b&&(e=b(e))&&(e=e.selection()),null==c?f.remove():c(f),d&&e?d.merge(e).order():e},merge:function(a){for(var b=a.selection?a.selection():a,c=this._groups,d=b._groups,e=c.length,f=d.length,g=Math.min(e,f),h=Array(e),i=0;i<g;++i)for(var j,k=c[i],l=d[i],m=k.length,n=h[i]=Array(m),o=0;o<m;++o)(j=k[o]||l[o])&&(n[o]=j);for(;i<e;++i)h[i]=c[i];return new bz(h,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&4^d.compareDocumentPosition(g)&&g.parentNode.insertBefore(d,g),g=d);return this},sort:function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=bb);for(var c=this._groups,d=c.length,e=Array(d),f=0;f<d;++f){for(var g,h=c[f],i=h.length,j=e[f]=Array(i),k=0;k<i;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new bz(e,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}return null},size:function(){let a=0;for(let b of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c)for(var e,f=b[c],g=0,h=f.length;g<h;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},attr:function(a,b){var c=be(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}}:"function"==typeof b?c.local?function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}:function(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}:c.local?function(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}:function(a,b){return function(){this.setAttribute(a,b)}})(c,b))},style:function(a,b,c){return arguments.length>1?this.each((null==b?function(a){return function(){this.style.removeProperty(a)}}:"function"==typeof b?function(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}:function(a,b,c){return function(){this.style.setProperty(a,b,c)}})(a,b,null==c?"":c)):bg(this.node(),a)},property:function(a,b){return arguments.length>1?this.each((null==b?function(a){return function(){delete this[a]}}:"function"==typeof b?function(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}:function(a,b){return function(){this[a]=b}})(a,b)):this.node()[a]},classed:function(a,b){var c=bh(a+"");if(arguments.length<2){for(var d=bi(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?function(a,b){return function(){(b.apply(this,arguments)?bk:bl)(this,a)}}:b?function(a){return function(){bk(this,a)}}:function(a){return function(){bl(this,a)}})(c,b))},text:function(a){return arguments.length?this.each(null==a?bm:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}:function(a){return function(){this.textContent=a}})(a)):this.node().textContent},html:function(a){return arguments.length?this.each(null==a?bn:("function"==typeof a?function(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}:function(a){return function(){this.innerHTML=a}})(a)):this.node().innerHTML},raise:function(){return this.each(bo)},lower:function(){return this.each(bp)},append:function(a){var b="function"==typeof a?a:bq(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function(a,b){var c="function"==typeof a?a:bq(a),d=null==b?br:"function"==typeof b?b:aZ(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},remove:function(){return this.each(bs)},clone:function(a){return this.select(a?bu:bt)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,b,c){var d,e,f=(a+"").trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}}),g=f.length;if(arguments.length<2){var h=this.node().__on;if(h){for(var i,j=0,k=h.length;j<k;++j)for(d=0,i=h[j];d<g;++d)if((e=f[d]).type===i.type&&e.name===i.name)return i.value}return}for(d=0,h=b?bw:bv;d<g;++d)this.each(h(f[d],b,c));return this},dispatch:function(a,b){return this.each(("function"==typeof b?function(a,b){return function(){return bx(this,a,b.apply(this,arguments))}}:function(a,b){return function(){return bx(this,a,b)}})(a,b))},[Symbol.iterator]:function*(){for(var a=this._groups,b=0,c=a.length;b<c;++b)for(var d,e=a[b],f=0,g=e.length;f<g;++f)(d=e[f])&&(yield d)}};let bC={passive:!1},bD={capture:!0,passive:!1};function bE(a){a.stopImmediatePropagation()}function bF(a){a.preventDefault(),a.stopImmediatePropagation()}function bG(a){var b=a.document.documentElement,c=bB(a).on("dragstart.drag",bF,bD);"onselectstart"in b?c.on("selectstart.drag",bF,bD):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")}function bH(a,b){var c=a.document.documentElement,d=bB(a).on("dragstart.drag",null);b&&(d.on("click.drag",bF,bD),setTimeout(function(){d.on("click.drag",null)},0)),"onselectstart"in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}function bI(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function bJ(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function bK(){}var bL="\\s*([+-]?\\d+)\\s*",bM="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bO=/^#([0-9a-f]{3,8})$/,bP=RegExp(`^rgb\\(${bL},${bL},${bL}\\)$`),bQ=RegExp(`^rgb\\(${bN},${bN},${bN}\\)$`),bR=RegExp(`^rgba\\(${bL},${bL},${bL},${bM}\\)$`),bS=RegExp(`^rgba\\(${bN},${bN},${bN},${bM}\\)$`),bT=RegExp(`^hsl\\(${bM},${bN},${bN}\\)$`),bU=RegExp(`^hsla\\(${bM},${bN},${bN},${bM}\\)$`),bV={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function bW(){return this.rgb().formatHex()}function bX(){return this.rgb().formatRgb()}function bY(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=bO.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?bZ(b):3===c?new b0(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?b$(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?b$(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=bP.exec(a))?new b0(b[1],b[2],b[3],1):(b=bQ.exec(a))?new b0(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=bR.exec(a))?b$(b[1],b[2],b[3],b[4]):(b=bS.exec(a))?b$(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=bT.exec(a))?b6(b[1],b[2]/100,b[3]/100,1):(b=bU.exec(a))?b6(b[1],b[2]/100,b[3]/100,b[4]):bV.hasOwnProperty(a)?bZ(bV[a]):"transparent"===a?new b0(NaN,NaN,NaN,0):null}function bZ(a){return new b0(a>>16&255,a>>8&255,255&a,1)}function b$(a,b,c,d){return d<=0&&(a=b=c=NaN),new b0(a,b,c,d)}function b_(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof bK||(e=bY(e)),e)?new b0((e=e.rgb()).r,e.g,e.b,e.opacity):new b0:new b0(a,b,c,null==d?1:d)}function b0(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function b1(){return`#${b5(this.r)}${b5(this.g)}${b5(this.b)}`}function b2(){let a=b3(this.opacity);return`${1===a?"rgb(":"rgba("}${b4(this.r)}, ${b4(this.g)}, ${b4(this.b)}${1===a?")":`, ${a})`}`}function b3(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function b4(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function b5(a){return((a=b4(a))<16?"0":"")+a.toString(16)}function b6(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new b8(a,b,c,d)}function b7(a){if(a instanceof b8)return new b8(a.h,a.s,a.l,a.opacity);if(a instanceof bK||(a=bY(a)),!a)return new b8;if(a instanceof b8)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new b8(g,h,i,a.opacity)}function b8(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function b9(a){return(a=(a||0)%360)<0?a+360:a}function ca(a){return Math.max(0,Math.min(1,a||0))}function cb(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function cc(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}bI(bK,bY,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:bW,formatHex:bW,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return b7(this).formatHsl()},formatRgb:bX,toString:bX}),bI(b0,b_,bJ(bK,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new b0(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new b0(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new b0(b4(this.r),b4(this.g),b4(this.b),b3(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b1,formatHex:b1,formatHex8:function(){return`#${b5(this.r)}${b5(this.g)}${b5(this.b)}${b5((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:b2,toString:b2})),bI(b8,function(a,b,c,d){return 1==arguments.length?b7(a):new b8(a,b,c,null==d?1:d)},bJ(bK,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new b8(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new b8(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new b0(cb(a>=240?a-240:a+120,e,d),cb(a,e,d),cb(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new b8(b9(this.h),ca(this.s),ca(this.l),b3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=b3(this.opacity);return`${1===a?"hsl(":"hsla("}${b9(this.h)}, ${100*ca(this.s)}%, ${100*ca(this.l)}%${1===a?")":`, ${a})`}`}}));let cd=a=>()=>a;function ce(a,b){var c=b-a;return c?function(b){return a+b*c}:cd(isNaN(a)?b:a)}let cf=function a(b){var c,d=1==(c=+b)?ce:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):cd(isNaN(a)?b:a)};function e(a,b){var c=d((a=b_(a)).r,(b=b_(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=ce(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function cg(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=b_(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function ch(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}cg(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return cc((c-d/b)*b,g,e,f,h)}}),cg(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return cc((c-d/b)*b,e,f,g,h)}});var ci=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cj=RegExp(ci.source,"g");function ck(a,b){if(a=function(a){let b;for(;b=a.sourceEvent;)a=b;return a}(a),void 0===b&&(b=a.currentTarget),b){var c=b.ownerSVGElement||b;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=a.clientX,d.y=a.clientY,[(d=d.matrixTransform(b.getScreenCTM().inverse())).x,d.y]}if(b.getBoundingClientRect){var e=b.getBoundingClientRect();return[a.clientX-e.left-b.clientLeft,a.clientY-e.top-b.clientTop]}}return[a.pageX,a.pageY]}var cl,cm,cn=0,co=0,cp=0,cq=0,cr=0,cs=0,ct="object"==typeof performance&&performance.now?performance:Date,cu=function(a){setTimeout(a,17)};function cv(){return cr||(cu(cw),cr=ct.now()+cs)}function cw(){cr=0}function cx(){this._call=this._time=this._next=null}function cy(a,b,c){var d=new cx;return d.restart(a,b,c),d}function cz(){cr=(cq=ct.now())+cs,cn=co=0;try{cv(),++cn;for(var a,b=cl;b;)(a=cr-b._time)>=0&&b._call.call(void 0,a),b=b._next;--cn}finally{cn=0,function(){for(var a,b,c=cl,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:cl=b);cm=a,cB(d)}(),cr=0}}function cA(){var a=ct.now(),b=a-cq;b>1e3&&(cs-=b,cq=a)}function cB(a){!cn&&(co&&(co=clearTimeout(co)),a-cr>24?(a<1/0&&(co=setTimeout(cz,a-ct.now()-cs)),cp&&(cp=clearInterval(cp))):(cp||(cq=ct.now(),cp=setInterval(cA,1e3)),cn=1,cu(cz)))}function cC(a,b,c){var d=new cx;return b=null==b?0:+b,d.restart(c=>{d.stop(),a(c+b)},b,c),d}cx.prototype=cy.prototype={constructor:cx,restart:function(a,b,c){if("function"!=typeof a)throw TypeError("callback is not a function");c=(null==c?cv():+c)+(null==b?0:+b),this._next||cm===this||(cm?cm._next=this:cl=this,cm=this),this._call=a,this._time=c,cB()},stop:function(){this._call&&(this._call=null,this._time=1/0,cB())}};var cD=aV("start","end","cancel","interrupt"),cE=[];function cF(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};!function(a,b,c){var d,e=a.__transition;function f(i){var j,k,l,m;if(1!==c.state)return h();for(j in e)if((m=e[j]).name===c.name){if(3===m.state)return cC(f);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",a,a.__data__,m.index,m.group),delete e[j]):+j<b&&(m.state=6,m.timer.stop(),m.on.call("cancel",a,a.__data__,m.index,m.group),delete e[j])}if(cC(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(i))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(j=0,c.state=3,d=Array(l=c.tween.length),k=-1;j<l;++j)(m=c.tween[j].value.call(a,a.__data__,c.index,c.group))&&(d[++k]=m);d.length=k+1}}function g(b){for(var e=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=5,1),f=-1,g=d.length;++f<g;)d[f].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){for(var d in c.state=6,c.timer.stop(),delete e[b],e)return;delete a.__transition}e[b]=c,c.timer=cy(function(a){c.state=1,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)},0,c.time)}(a,c,{name:b,index:d,group:e,on:cD,tween:cE,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function cG(a,b){var c=cI(a,b);if(c.state>0)throw Error("too late; already scheduled");return c}function cH(a,b){var c=cI(a,b);if(c.state>3)throw Error("too late; already running");return c}function cI(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw Error("transition not found");return c}function cJ(a,b){var c,d,e,f=a.__transition,g=!0;if(f){for(e in b=null==b?null:b+"",f){if((c=f[e]).name!==b){g=!1;continue}d=c.state>2&&c.state<5,c.state=6,c.timer.stop(),c.on.call(d?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete f[e]}g&&delete a.__transition}}var cK=180/Math.PI,cL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cM(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),a*d<b*c&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*cK,skewX:Math.atan(i)*cK,scaleX:g,scaleY:h}}function cN(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}return function(f,g){var h,i,j,k,l=[],m=[];return f=a(f),g=a(g),!function(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:ch(a,e)},{i:i-2,x:ch(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}(f.translateX,f.translateY,g.translateX,g.translateY,l,m),h=f.rotate,i=g.rotate,h!==i?(h-i>180?i+=360:i-h>180&&(h+=360),m.push({i:l.push(e(l)+"rotate(",null,d)-2,x:ch(h,i)})):i&&l.push(e(l)+"rotate("+i+d),j=f.skewX,k=g.skewX,j!==k?m.push({i:l.push(e(l)+"skewX(",null,d)-2,x:ch(j,k)}):k&&l.push(e(l)+"skewX("+k+d),!function(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:ch(a,c)},{i:h-2,x:ch(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}(f.scaleX,f.scaleY,g.scaleX,g.scaleY,l,m),f=g=null,function(a){for(var b,c=-1,d=m.length;++c<d;)l[(b=m[c]).i]=b.x(a);return l.join("")}}}var cO=cN(function(a){let b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(a+"");return b.isIdentity?cL:cM(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),cP=cN(function(a){return null==a?cL:(Y||(Y=document.createElementNS("http://www.w3.org/2000/svg","g")),Y.setAttribute("transform",a),a=Y.transform.baseVal.consolidate())?cM((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):cL},", ",")",")");function cQ(a,b,c){var d=a._id;return a.each(function(){var a=cH(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return cI(a,d).value[b]}}function cR(a,b){var c;return("number"==typeof b?ch:b instanceof bY?cf:(c=bY(b))?(b=c,cf):function(a,b){var c,d,e,f,g,h=ci.lastIndex=cj.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=ci.exec(a))&&(f=cj.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:ch(e,f)})),h=cj.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})})(a,b)}var cS=bA.prototype.constructor;function cT(a){return function(){this.style.removeProperty(a)}}var cU=0;function cV(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}var cW=bA.prototype;cV.prototype=(function(a){return bA().transition(a)}).prototype={constructor:cV,select:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=aZ(a));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h,i,j=d[g],k=j.length,l=f[g]=Array(k),m=0;m<k;++m)(h=j[m])&&(i=a.call(h,h.__data__,m,j))&&("__data__"in h&&(i.__data__=h.__data__),l[m]=i,cF(l[m],b,c,m,l,cI(h,c)));return new cV(f,this._parents,b,c)},selectAll:function(a){var b=this._name,c=this._id;"function"!=typeof a&&(a=a_(a));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var i,j=d[h],k=j.length,l=0;l<k;++l)if(i=j[l]){for(var m,n=a.call(i,i.__data__,l,j),o=cI(i,c),p=0,q=n.length;p<q;++p)(m=n[p])&&cF(m,b,c,p,n,o);f.push(n),g.push(i)}return new cV(f,g,b,c)},selectChild:cW.selectChild,selectChildren:cW.selectChildren,filter:function(a){"function"!=typeof a&&(a=a0(a));for(var b=this._groups,c=b.length,d=Array(c),e=0;e<c;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;j<h;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new cV(d,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw Error();for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=Array(d),h=0;h<f;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=Array(l),n=0;n<l;++n)(i=j[n]||k[n])&&(m[n]=i);for(;h<d;++h)g[h]=b[h];return new cV(g,this._parents,this._name,this._id)},selection:function(){return new cS(this._groups,this._parents)},transition:function(){for(var a=this._name,b=this._id,c=++cU,d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)if(g=h[j]){var k=cI(g,b);cF(g,a,c,j,h,{time:k.time+k.delay+k.duration,delay:0,duration:k.duration,ease:k.ease})}return new cV(d,this._parents,a,c)},call:cW.call,nodes:cW.nodes,node:cW.node,size:cW.size,empty:cW.empty,each:cW.each,on:function(a,b){var c,d,e,f,g,h,i=this._id;return arguments.length<2?cI(this.node(),i).on.on(a):this.each((c=i,d=a,e=b,h=(d+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})?cG:cH,function(){var a=h(this,c),b=a.on;b!==f&&(g=(f=b).copy()).on(d,e),a.on=g}))},attr:function(a,b){var c=be(a),d="transform"===c?cP:cR;return this.attrTween(a,"function"==typeof b?(c.local?function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}}:function(a,b,c){var d,e,f;return function(){var g,h,i=c(this);return null==i?void this.removeAttribute(a):(g=this.getAttribute(a))===(h=i+"")?null:g===d&&h===e?f:(e=h,f=b(d=g,i))}})(c,d,cQ(this,"attr."+a,b)):null==b?(c.local?function(a){return function(){this.removeAttributeNS(a.space,a.local)}}:function(a){return function(){this.removeAttribute(a)}})(c):(c.local?function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttributeNS(a.space,a.local);return g===f?null:g===d?e:e=b(d=g,c)}}:function(a,b,c){var d,e,f=c+"";return function(){var g=this.getAttribute(a);return g===f?null:g===d?e:e=b(d=g,c)}})(c,d,b))},attrTween:function(a,b){var c="attr."+a;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==b)return this.tween(c,null);if("function"!=typeof b)throw Error();var d=be(a);return this.tween(c,(d.local?function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttributeNS(a.space,a.local,e.call(this,b))}),c}return e._value=b,e}:function(a,b){var c,d;function e(){var e=b.apply(this,arguments);return e!==d&&(c=(d=e)&&function(b){this.setAttribute(a,e.call(this,b))}),c}return e._value=b,e})(d,b))},style:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="transform"==(a+="")?cO:cR;return null==b?this.styleTween(a,(d=a,function(){var a=bg(this,d),b=(this.style.removeProperty(d),bg(this,d));return a===b?null:a===e&&b===f?g:g=y(e=a,f=b)})).on("end.style."+a,cT(a)):"function"==typeof b?this.styleTween(a,(h=a,i=cQ(this,"style."+a,b),function(){var a=bg(this,h),b=i(this),c=b+"";return null==b&&(this.style.removeProperty(h),c=b=bg(this,h)),a===c?null:a===j&&c===k?l:(k=c,l=y(j=a,b))})).each((m=this._id,t="end."+(s="style."+(n=a)),function(){var a=cH(this,m),b=a.on,c=null==a.value[s]?r||(r=cT(n)):void 0;(b!==o||q!==c)&&(p=(o=b).copy()).on(t,q=c),a.on=p})):this.styleTween(a,(u=a,x=b+"",function(){var a=bg(this,u);return a===x?null:a===v?w:w=y(v=a,b)}),c).on("end.style."+a,null)},styleTween:function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw Error();return this.tween(d,function(a,b,c){var d,e;function f(){var f=b.apply(this,arguments);return f!==e&&(d=(e=f)&&function(b){this.style.setProperty(a,f.call(this,b),c)}),d}return f._value=b,f}(a,b,null==c?"":c))},text:function(a){var b,c;return this.tween("text","function"==typeof a?(b=cQ(this,"text",a),function(){var a=b(this);this.textContent=null==a?"":a}):(c=null==a?"":a+"",function(){this.textContent=c}))},textTween:function(a){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==a)return this.tween(b,null);if("function"!=typeof a)throw Error();return this.tween(b,function(a){var b,c;function d(){var d=a.apply(this,arguments);return d!==c&&(b=(c=d)&&function(a){this.textContent=d.call(this,a)}),b}return d._value=a,d}(a))},remove:function(){var a;return this.on("end.remove",(a=this._id,function(){var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}))},tween:function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=cI(this.node(),c).tween,f=0,g=e.length;f<g;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?function(a,b){var c,d;return function(){var e=cH(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;g<h;++g)if(d[g].name===b){(d=d.slice()).splice(g,1);break}}e.tween=d}}:function(a,b,c){var d,e;if("function"!=typeof c)throw Error();return function(){var f=cH(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},i=0,j=e.length;i<j;++i)if(e[i].name===b){e[i]=h;break}i===j&&e.push(h)}f.tween=e}})(c,a,b))},delay:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){cG(this,a).delay=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){cG(this,a).delay=b}})(b,a)):cI(this.node(),b).delay},duration:function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?function(a,b){return function(){cH(this,a).duration=+b.apply(this,arguments)}}:function(a,b){return b*=1,function(){cH(this,a).duration=b}})(b,a)):cI(this.node(),b).duration},ease:function(a){var b=this._id;return arguments.length?this.each(function(a,b){if("function"!=typeof b)throw Error();return function(){cH(this,a).ease=b}}(b,a)):cI(this.node(),b).ease},easeVarying:function(a){var b;if("function"!=typeof a)throw Error();return this.each((b=this._id,function(){var c=a.apply(this,arguments);if("function"!=typeof c)throw Error();cH(this,b).ease=c}))},end:function(){var a,b,c=this,d=c._id,e=c.size();return new Promise(function(f,g){var h={value:g},i={value:function(){0==--e&&f()}};c.each(function(){var c=cH(this,d),e=c.on;e!==a&&((b=(a=e).copy())._.cancel.push(h),b._.interrupt.push(h),b._.end.push(i)),c.on=b}),0===e&&f()})},[Symbol.iterator]:cW[Symbol.iterator]};var cX={time:null,delay:0,duration:250,ease:function(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}};bA.prototype.interrupt=function(a){return this.each(function(){cJ(this,a)})},bA.prototype.transition=function(a){var b,c;a instanceof cV?(b=a._id,a=a._name):(b=++cU,(c=cX).time=cv(),a=null==a?null:a+"");for(var d=this._groups,e=d.length,f=0;f<e;++f)for(var g,h=d[f],i=h.length,j=0;j<i;++j)(g=h[j])&&cF(g,a,b,j,h,c||function(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))throw Error(`transition ${b} not found`);return c}(g,b));return new cV(d,this._parents,a,b)};let{abs:cY,max:cZ,min:c$}=Math;function c_(a){return{type:a}}function c0(a){return((a=Math.exp(a))+1/a)/2}["w","e"].map(c_),["n","s"].map(c_),["n","w","e","s","nw","ne","sw","se"].map(c_);let c1=function a(b,c,d){function e(a,e){var f,g,h=a[0],i=a[1],j=a[2],k=e[0],l=e[1],m=e[2],n=k-h,o=l-i,p=n*n+o*o;if(p<1e-12)g=Math.log(m/j)/b,f=function(a){return[h+a*n,i+a*o,j*Math.exp(b*a*g)]};else{var q=Math.sqrt(p),r=(m*m-j*j+d*p)/(2*j*c*q),s=(m*m-j*j-d*p)/(2*m*c*q),t=Math.log(Math.sqrt(r*r+1)-r);g=(Math.log(Math.sqrt(s*s+1)-s)-t)/b,f=function(a){var d,e,f=a*g,k=c0(t),l=j/(c*q)*(k*(((d=Math.exp(2*(d=b*f+t)))-1)/(d+1))-((e=Math.exp(e=t))-1/e)/2);return[h+l*n,i+l*o,j*k/c0(b*f+t)]}}return f.duration=1e3*g*b/Math.SQRT2,f}return e.rho=function(b){var c=Math.max(.001,+b),d=c*c;return a(c,d,d*d)},e}(Math.SQRT2,2,4),c2=a=>()=>a;function c3(a,{sourceEvent:b,target:c,transform:d,dispatch:e}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},transform:{value:d,enumerable:!0,configurable:!0},_:{value:e}})}function c4(a,b,c){this.k=a,this.x=b,this.y=c}c4.prototype={constructor:c4,scale:function(a){return 1===a?this:new c4(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new c4(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var c5=new c4(1,0,0);function c6(a){a.stopImmediatePropagation()}function c7(a){a.preventDefault(),a.stopImmediatePropagation()}function c8(a){return(!a.ctrlKey||"wheel"===a.type)&&!a.button}function c9(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a).hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]:[[0,0],[a.clientWidth,a.clientHeight]]}function da(){return this.__zoom||c5}function db(a){return-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function dc(){return navigator.maxTouchPoints||"ontouchstart"in this}function dd(a,b,c){var d=a.invertX(b[0][0])-c[0][0],e=a.invertX(b[1][0])-c[1][0],f=a.invertY(b[0][1])-c[0][1],g=a.invertY(b[1][1])-c[1][1];return a.translate(e>d?(d+e)/2:Math.min(0,d)||Math.max(0,e),g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g))}function de(a){return a.x}function df(a){return a.y}c4.prototype,a.s([],33534),a.i(33534);var dg=Math.PI*(3-Math.sqrt(5));function dh(a){return function(){return a}}function di(a){return(a()-.5)*1e-6}function dj(a){return a.index}function dk(a,b){var c=a.get(b);if(!c)throw Error("node not found: "+b);return c}function dl(a,b,c,d){if(isNaN(b)||isNaN(c))return a;var e,f,g,h,i,j,k,l,m,n=a._root,o={data:d},p=a._x0,q=a._y0,r=a._x1,s=a._y1;if(!n)return a._root=o,a;for(;n.length;)if((j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g,e=n,!(n=n[l=k<<1|j]))return e[l]=o,a;if(h=+a._x.call(null,n.data),i=+a._y.call(null,n.data),b===h&&c===i)return o.next=n,e?e[l]=o:a._root=o,a;do e=e?e[l]=[,,,,]:a._root=[,,,,],(j=b>=(f=(p+r)/2))?p=f:r=f,(k=c>=(g=(q+s)/2))?q=g:s=g;while((l=k<<1|j)==(m=(i>=g)<<1|h>=f))return e[m]=n,e[l]=o,a}function dm(a,b,c,d,e){this.node=a,this.x0=b,this.y0=c,this.x1=d,this.y1=e}function dn(a){return a[0]}function dp(a){return a[1]}function dq(a,b,c){var d=new dr(null==b?dn:b,null==c?dp:c,NaN,NaN,NaN,NaN);return null==a?d:d.addAll(a)}function dr(a,b,c,d,e,f){this._x=a,this._y=b,this._x0=c,this._y0=d,this._x1=e,this._y1=f,this._root=void 0}function ds(a){for(var b={data:a.data},c=b;a=a.next;)c=c.next={data:a.data};return b}var dt=dq.prototype=dr.prototype;dt.copy=function(){var a,b,c=new dr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root;if(!d)return c;if(!d.length)return c._root=ds(d),c;for(a=[{source:d,target:c._root=[,,,,]}];d=a.pop();)for(var e=0;e<4;++e)(b=d.source[e])&&(b.length?a.push({source:b,target:d.target[e]=[,,,,]}):d.target[e]=ds(b));return c},dt.add=function(a){let b=+this._x.call(null,a),c=+this._y.call(null,a);return dl(this.cover(b,c),b,c,a)},dt.addAll=function(a){var b,c,d,e,f=a.length,g=Array(f),h=Array(f),i=1/0,j=1/0,k=-1/0,l=-1/0;for(c=0;c<f;++c)!(isNaN(d=+this._x.call(null,b=a[c]))||isNaN(e=+this._y.call(null,b)))&&(g[c]=d,h[c]=e,d<i&&(i=d),d>k&&(k=d),e<j&&(j=e),e>l&&(l=e));if(i>k||j>l)return this;for(this.cover(i,j).cover(k,l),c=0;c<f;++c)dl(this,g[c],h[c],a[c]);return this},dt.cover=function(a,b){if(isNaN(a*=1)||isNaN(b*=1))return this;var c=this._x0,d=this._y0,e=this._x1,f=this._y1;if(isNaN(c))e=(c=Math.floor(a))+1,f=(d=Math.floor(b))+1;else{for(var g,h,i=e-c||1,j=this._root;c>a||a>=e||d>b||b>=f;)switch(h=(b<d)<<1|a<c,(g=[,,,,])[h]=j,j=g,i*=2,h){case 0:e=c+i,f=d+i;break;case 1:c=e-i,f=d+i;break;case 2:e=c+i,d=f-i;break;case 3:c=e-i,d=f-i}this._root&&this._root.length&&(this._root=j)}return this._x0=c,this._y0=d,this._x1=e,this._y1=f,this},dt.data=function(){var a=[];return this.visit(function(b){if(!b.length)do a.push(b.data);while(b=b.next)}),a},dt.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},dt.find=function(a,b,c){var d,e,f,g,h,i,j,k=this._x0,l=this._y0,m=this._x1,n=this._y1,o=[],p=this._root;for(p&&o.push(new dm(p,k,l,m,n)),null==c?c=1/0:(k=a-c,l=b-c,m=a+c,n=b+c,c*=c);i=o.pop();)if((p=i.node)&&!((e=i.x0)>m)&&!((f=i.y0)>n)&&!((g=i.x1)<k)&&!((h=i.y1)<l))if(p.length){var q=(e+g)/2,r=(f+h)/2;o.push(new dm(p[3],q,r,g,h),new dm(p[2],e,r,q,h),new dm(p[1],q,f,g,r),new dm(p[0],e,f,q,r)),(j=(b>=r)<<1|a>=q)&&(i=o[o.length-1],o[o.length-1]=o[o.length-1-j],o[o.length-1-j]=i)}else{var s=a-this._x.call(null,p.data),t=b-this._y.call(null,p.data),u=s*s+t*t;if(u<c){var v=Math.sqrt(c=u);k=a-v,l=b-v,m=a+v,n=b+v,d=p.data}}return d},dt.remove=function(a){if(isNaN(f=+this._x.call(null,a))||isNaN(g=+this._y.call(null,a)))return this;var b,c,d,e,f,g,h,i,j,k,l,m,n=this._root,o=this._x0,p=this._y0,q=this._x1,r=this._y1;if(!n)return this;if(n.length)for(;;){if((j=f>=(h=(o+q)/2))?o=h:q=h,(k=g>=(i=(p+r)/2))?p=i:r=i,b=n,!(n=n[l=k<<1|j]))return this;if(!n.length)break;(b[l+1&3]||b[l+2&3]||b[l+3&3])&&(c=b,m=l)}for(;n.data!==a;)if(d=n,!(n=n.next))return this;return((e=n.next)&&delete n.next,d)?e?d.next=e:delete d.next:b?(e?b[l]=e:delete b[l],(n=b[0]||b[1]||b[2]||b[3])&&n===(b[3]||b[2]||b[1]||b[0])&&!n.length&&(c?c[m]=n:this._root=n)):this._root=e,this},dt.removeAll=function(a){for(var b=0,c=a.length;b<c;++b)this.remove(a[b]);return this},dt.root=function(){return this._root},dt.size=function(){var a=0;return this.visit(function(b){if(!b.length)do++a;while(b=b.next)}),a},dt.visit=function(a){var b,c,d,e,f,g,h=[],i=this._root;for(i&&h.push(new dm(i,this._x0,this._y0,this._x1,this._y1));b=h.pop();)if(!a(i=b.node,d=b.x0,e=b.y0,f=b.x1,g=b.y1)&&i.length){var j=(d+f)/2,k=(e+g)/2;(c=i[3])&&h.push(new dm(c,j,k,f,g)),(c=i[2])&&h.push(new dm(c,d,k,j,g)),(c=i[1])&&h.push(new dm(c,j,e,f,k)),(c=i[0])&&h.push(new dm(c,d,e,j,k))}return this},dt.visitAfter=function(a){var b,c=[],d=[];for(this._root&&c.push(new dm(this._root,this._x0,this._y0,this._x1,this._y1));b=c.pop();){var e=b.node;if(e.length){var f,g=b.x0,h=b.y0,i=b.x1,j=b.y1,k=(g+i)/2,l=(h+j)/2;(f=e[0])&&c.push(new dm(f,g,h,k,l)),(f=e[1])&&c.push(new dm(f,k,h,i,l)),(f=e[2])&&c.push(new dm(f,g,l,k,j)),(f=e[3])&&c.push(new dm(f,k,l,i,j))}d.push(b)}for(;b=d.pop();)a(b.node,b.x0,b.y0,b.x1,b.y1);return this},dt.x=function(a){return arguments.length?(this._x=a,this):this._x},dt.y=function(a){return arguments.length?(this._y=a,this):this._y};let du=a=>()=>a;function dv(a,{sourceEvent:b,subject:c,target:d,identifier:e,active:f,x:g,y:h,dx:i,dy:j,dispatch:k}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:b,enumerable:!0,configurable:!0},subject:{value:c,enumerable:!0,configurable:!0},target:{value:d,enumerable:!0,configurable:!0},identifier:{value:e,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:g,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:i,enumerable:!0,configurable:!0},dy:{value:j,enumerable:!0,configurable:!0},_:{value:k}})}function dw(a){return!a.ctrlKey&&!a.button}function dx(){return this.parentNode}function dy(a,b){return null==b?{x:a.x,y:a.y}:b}function dz(){return navigator.maxTouchPoints||"ontouchstart"in this}dv.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};let dA=({data:a})=>{let b=(0,aA.useRef)(null);return(0,aA.useEffect)(()=>{if(!b.current||!a.nodes.length)return;let c=b.current.parentElement,d=c?.clientWidth||800,e=c?.clientHeight||600;bB(b.current).selectAll("*").remove();let f=bB(b.current).attr("width",d).attr("height",e).attr("viewBox",[0,0,d,e]).attr("style","max-width: 100%; height: auto;"),g=f.append("g"),h=(function(){var a,b,c,d=c8,e=c9,f=dd,g=db,h=dc,i=[0,1/0],j=[[-1/0,-1/0],[1/0,1/0]],k=250,l=c1,m=aV("start","zoom","end"),n=0,o=10;function p(a){a.property("__zoom",da).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",x).on("dblclick.zoom",y).filter(h).on("touchstart.zoom",z).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function q(a,b){return(b=Math.max(i[0],Math.min(i[1],b)))===a.k?a:new c4(b,a.x,a.y)}function r(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new c4(a.k,d,e)}function s(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function t(a,b,c,d){a.on("start.zoom",function(){u(this,arguments).event(d).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).event(d).end()}).tween("zoom",function(){var a=arguments,f=u(this,a).event(d),g=e.apply(this,a),h=null==c?s(g):"function"==typeof c?c.apply(this,a):c,i=Math.max(g[1][0]-g[0][0],g[1][1]-g[0][1]),j=this.__zoom,k="function"==typeof b?b.apply(this,a):b,m=l(j.invert(h).concat(i/j.k),k.invert(h).concat(i/k.k));return function(a){if(1===a)a=k;else{var b=m(a),c=i/b[2];a=new c4(c,h[0]-b[0]*c,h[1]-b[1]*c)}f.zoom(null,a)}})}function u(a,b,c){return!c&&a.__zooming||new v(a,b)}function v(a,b){this.that=a,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(a,b),this.taps=0}function w(a,...b){if(d.apply(this,arguments)){var c=u(this,b).event(a),e=this.__zoom,h=Math.max(i[0],Math.min(i[1],e.k*Math.pow(2,g.apply(this,arguments)))),k=ck(a);if(c.wheel)(c.mouse[0][0]!==k[0]||c.mouse[0][1]!==k[1])&&(c.mouse[1]=e.invert(c.mouse[0]=k)),clearTimeout(c.wheel);else{if(e.k===h)return;c.mouse=[k,e.invert(k)],cJ(this),c.start()}c7(a),c.wheel=setTimeout(function(){c.wheel=null,c.end()},150),c.zoom("mouse",f(r(q(e,h),c.mouse[0],c.mouse[1]),c.extent,j))}}function x(a,...b){if(!c&&d.apply(this,arguments)){var e=a.currentTarget,g=u(this,b,!0).event(a),h=bB(a.view).on("mousemove.zoom",function(a){if(c7(a),!g.moved){var b=a.clientX-k,c=a.clientY-l;g.moved=b*b+c*c>n}g.event(a).zoom("mouse",f(r(g.that.__zoom,g.mouse[0]=ck(a,e),g.mouse[1]),g.extent,j))},!0).on("mouseup.zoom",function(a){h.on("mousemove.zoom mouseup.zoom",null),bH(a.view,g.moved),c7(a),g.event(a).end()},!0),i=ck(a,e),k=a.clientX,l=a.clientY;bG(a.view),c6(a),g.mouse=[i,this.__zoom.invert(i)],cJ(this),g.start()}}function y(a,...b){if(d.apply(this,arguments)){var c=this.__zoom,g=ck(a.changedTouches?a.changedTouches[0]:a,this),h=c.invert(g),i=c.k*(a.shiftKey?.5:2),l=f(r(q(c,i),g,h),e.apply(this,b),j);c7(a),k>0?bB(this).transition().duration(k).call(t,l,g,a):bB(this).call(p.transform,l,g,a)}}function z(c,...e){if(d.apply(this,arguments)){var f,g,h,i,j=c.touches,k=j.length,l=u(this,e,c.changedTouches.length===k).event(c);for(c6(c),g=0;g<k;++g)i=[i=ck(h=j[g],this),this.__zoom.invert(i),h.identifier],l.touch0?l.touch1||l.touch0[2]===i[2]||(l.touch1=i,l.taps=0):(l.touch0=i,f=!0,l.taps=1+!!a);a&&(a=clearTimeout(a)),f&&(l.taps<2&&(b=i[0],a=setTimeout(function(){a=null},500)),cJ(this),l.start())}}function A(a,...b){if(this.__zooming){var c,d,e,g,h=u(this,b).event(a),i=a.changedTouches,k=i.length;for(c7(a),c=0;c<k;++c)e=ck(d=i[c],this),h.touch0&&h.touch0[2]===d.identifier?h.touch0[0]=e:h.touch1&&h.touch1[2]===d.identifier&&(h.touch1[0]=e);if(d=h.that.__zoom,h.touch1){var l=h.touch0[0],m=h.touch0[1],n=h.touch1[0],o=h.touch1[1],p=(p=n[0]-l[0])*p+(p=n[1]-l[1])*p,s=(s=o[0]-m[0])*s+(s=o[1]-m[1])*s;d=q(d,Math.sqrt(p/s)),e=[(l[0]+n[0])/2,(l[1]+n[1])/2],g=[(m[0]+o[0])/2,(m[1]+o[1])/2]}else{if(!h.touch0)return;e=h.touch0[0],g=h.touch0[1]}h.zoom("touch",f(r(d,e,g),h.extent,j))}}function B(a,...d){if(this.__zooming){var e,f,g=u(this,d).event(a),h=a.changedTouches,i=h.length;for(c6(a),c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)f=h[e],g.touch0&&g.touch0[2]===f.identifier?delete g.touch0:g.touch1&&g.touch1[2]===f.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(f=ck(f,this),Math.hypot(b[0]-f[0],b[1]-f[1])<o)){var j=bB(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return p.transform=function(a,b,c,d){var e=a.selection?a.selection():a;e.property("__zoom",da),a!==e?t(a,b,c,d):e.interrupt().each(function(){u(this,arguments).event(d).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},p.scaleBy=function(a,b,c,d){p.scaleTo(a,function(){var a=this.__zoom.k,c="function"==typeof b?b.apply(this,arguments):b;return a*c},c,d)},p.scaleTo=function(a,b,c,d){p.transform(a,function(){var a=e.apply(this,arguments),d=this.__zoom,g=null==c?s(a):"function"==typeof c?c.apply(this,arguments):c,h=d.invert(g),i="function"==typeof b?b.apply(this,arguments):b;return f(r(q(d,i),g,h),a,j)},c,d)},p.translateBy=function(a,b,c,d){p.transform(a,function(){return f(this.__zoom.translate("function"==typeof b?b.apply(this,arguments):b,"function"==typeof c?c.apply(this,arguments):c),e.apply(this,arguments),j)},null,d)},p.translateTo=function(a,b,c,d,g){p.transform(a,function(){var a=e.apply(this,arguments),g=this.__zoom,h=null==d?s(a):"function"==typeof d?d.apply(this,arguments):d;return f(c5.translate(h[0],h[1]).scale(g.k).translate("function"==typeof b?-b.apply(this,arguments):-b,"function"==typeof c?-c.apply(this,arguments):-c),a,j)},d,g)},v.prototype={event:function(a){return a&&(this.sourceEvent=a),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(a){var b=bB(this.that).datum();m.call(a,this.that,new c3(a,{sourceEvent:this.sourceEvent,target:p,type:a,transform:this.that.__zoom,dispatch:m}),b)}},p.wheelDelta=function(a){return arguments.length?(g="function"==typeof a?a:c2(+a),p):g},p.filter=function(a){return arguments.length?(d="function"==typeof a?a:c2(!!a),p):d},p.touchable=function(a){return arguments.length?(h="function"==typeof a?a:c2(!!a),p):h},p.extent=function(a){return arguments.length?(e="function"==typeof a?a:c2([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),p):e},p.scaleExtent=function(a){return arguments.length?(i[0]=+a[0],i[1]=+a[1],p):[i[0],i[1]]},p.translateExtent=function(a){return arguments.length?(j[0][0]=+a[0][0],j[1][0]=+a[1][0],j[0][1]=+a[0][1],j[1][1]=+a[1][1],p):[[j[0][0],j[0][1]],[j[1][0],j[1][1]]]},p.constrain=function(a){return arguments.length?(f=a,p):f},p.duration=function(a){return arguments.length?(k=+a,p):k},p.interpolate=function(a){return arguments.length?(l=a,p):l},p.on=function(){var a=m.on.apply(m,arguments);return a===m?p:a},p.clickDistance=function(a){return arguments.length?(n=(a*=1)*a,p):Math.sqrt(n)},p.tapDistance=function(a){return arguments.length?(o=+a,p):o},p})().scaleExtent([.1,4]).on("zoom",a=>{g.attr("transform",a.transform)});f.call(h);let i=a.nodes.map(a=>({...a,x:d/2+(Math.random()-.5)*100,y:e/2+(Math.random()-.5)*100})),j=a.links.map(a=>({source:a.source,target:a.target,weight:a.weight})),k=(function(a){let b;var c,d=1,e=.001,f=1-Math.pow(.001,1/300),g=0,h=.6,i=new Map,j=cy(m),k=aV("tick","end"),l=(b=1,()=>(b=(1664525*b+0x3c6ef35f)%0x100000000)/0x100000000);function m(){n(),k.call("tick",c),d<e&&(j.stop(),k.call("end",c))}function n(b){var e,j,k=a.length;void 0===b&&(b=1);for(var l=0;l<b;++l)for(d+=(g-d)*f,i.forEach(function(a){a(d)}),e=0;e<k;++e)null==(j=a[e]).fx?j.x+=j.vx*=h:(j.x=j.fx,j.vx=0),null==j.fy?j.y+=j.vy*=h:(j.y=j.fy,j.vy=0);return c}function o(){for(var b,c=0,d=a.length;c<d;++c){if((b=a[c]).index=c,null!=b.fx&&(b.x=b.fx),null!=b.fy&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var e=10*Math.sqrt(.5+c),f=c*dg;b.x=e*Math.cos(f),b.y=e*Math.sin(f)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function p(b){return b.initialize&&b.initialize(a,l),b}return null==a&&(a=[]),o(),c={tick:n,restart:function(){return j.restart(m),c},stop:function(){return j.stop(),c},nodes:function(b){return arguments.length?(a=b,o(),i.forEach(p),c):a},alpha:function(a){return arguments.length?(d=+a,c):d},alphaMin:function(a){return arguments.length?(e=+a,c):e},alphaDecay:function(a){return arguments.length?(f=+a,c):+f},alphaTarget:function(a){return arguments.length?(g=+a,c):g},velocityDecay:function(a){return arguments.length?(h=1-a,c):1-h},randomSource:function(a){return arguments.length?(l=a,i.forEach(p),c):l},force:function(a,b){return arguments.length>1?(null==b?i.delete(a):i.set(a,p(b)),c):i.get(a)},find:function(b,c,d){var e,f,g,h,i,j=0,k=a.length;for(null==d?d=1/0:d*=d,j=0;j<k;++j)(g=(e=b-(h=a[j]).x)*e+(f=c-h.y)*f)<d&&(i=h,d=g);return i},on:function(a,b){return arguments.length>1?(k.on(a,b),c):k.on(a)}}})(i).force("link",(function(a){var b,c,d,e,f,g,h=dj,i=function(a){return 1/Math.min(e[a.source.index],e[a.target.index])},j=dh(30),k=1;function l(d){for(var e=0,h=a.length;e<k;++e)for(var i,j,l,m,n,o,p,q=0;q<h;++q)j=(i=a[q]).source,o=((o=Math.sqrt((m=(l=i.target).x+l.vx-j.x-j.vx||di(g))*m+(n=l.y+l.vy-j.y-j.vy||di(g))*n))-c[q])/o*d*b[q],m*=o,n*=o,l.vx-=m*(p=f[q]),l.vy-=n*p,j.vx+=m*(p=1-p),j.vy+=n*p}function m(){if(d){var g,i,j=d.length,k=a.length,l=new Map(d.map((a,b)=>[h(a,b,d),a]));for(g=0,e=Array(j);g<k;++g)(i=a[g]).index=g,"object"!=typeof i.source&&(i.source=dk(l,i.source)),"object"!=typeof i.target&&(i.target=dk(l,i.target)),e[i.source.index]=(e[i.source.index]||0)+1,e[i.target.index]=(e[i.target.index]||0)+1;for(g=0,f=Array(k);g<k;++g)i=a[g],f[g]=e[i.source.index]/(e[i.source.index]+e[i.target.index]);b=Array(k),n(),c=Array(k),o()}}function n(){if(d)for(var c=0,e=a.length;c<e;++c)b[c]=+i(a[c],c,a)}function o(){if(d)for(var b=0,e=a.length;b<e;++b)c[b]=+j(a[b],b,a)}return null==a&&(a=[]),l.initialize=function(a,b){d=a,g=b,m()},l.links=function(b){return arguments.length?(a=b,m(),l):a},l.id=function(a){return arguments.length?(h=a,l):h},l.iterations=function(a){return arguments.length?(k=+a,l):k},l.strength=function(a){return arguments.length?(i="function"==typeof a?a:dh(+a),n(),l):i},l.distance=function(a){return arguments.length?(j="function"==typeof a?a:dh(+a),o(),l):j},l})(j).id(a=>a.id).distance(100)).force("charge",(function(){var a,b,c,d,e,f=dh(-30),g=1,h=1/0,i=.81;function j(c){var e,f=a.length,g=dq(a,de,df).visitAfter(l);for(d=c,e=0;e<f;++e)b=a[e],g.visit(m)}function k(){if(a){var b,c,d=a.length;for(b=0,e=Array(d);b<d;++b)e[(c=a[b]).index]=+f(c,b,a)}}function l(a){var b,c,d,f,g,h=0,i=0;if(a.length){for(d=f=g=0;g<4;++g)(b=a[g])&&(c=Math.abs(b.value))&&(h+=b.value,i+=c,d+=c*b.x,f+=c*b.y);a.x=d/i,a.y=f/i}else{(b=a).x=b.data.x,b.y=b.data.y;do h+=e[b.data.index];while(b=b.next)}a.value=h}function m(a,f,j,k){if(!a.value)return!0;var l=a.x-b.x,m=a.y-b.y,n=k-f,o=l*l+m*m;if(n*n/i<o)return o<h&&(0===l&&(o+=(l=di(c))*l),0===m&&(o+=(m=di(c))*m),o<g&&(o=Math.sqrt(g*o)),b.vx+=l*a.value*d/o,b.vy+=m*a.value*d/o),!0;if(!a.length&&!(o>=h)){(a.data!==b||a.next)&&(0===l&&(o+=(l=di(c))*l),0===m&&(o+=(m=di(c))*m),o<g&&(o=Math.sqrt(g*o)));do a.data!==b&&(n=e[a.data.index]*d/o,b.vx+=l*n,b.vy+=m*n);while(a=a.next)}}return j.initialize=function(b,d){a=b,c=d,k()},j.strength=function(a){return arguments.length?(f="function"==typeof a?a:dh(+a),k(),j):f},j.distanceMin=function(a){return arguments.length?(g=a*a,j):Math.sqrt(g)},j.distanceMax=function(a){return arguments.length?(h=a*a,j):Math.sqrt(h)},j.theta=function(a){return arguments.length?(i=a*a,j):Math.sqrt(i)},j})().strength(-300)).force("center",function(a,b){var c,d=1;function e(){var e,f,g=c.length,h=0,i=0;for(e=0;e<g;++e)h+=(f=c[e]).x,i+=f.y;for(h=(h/g-a)*d,i=(i/g-b)*d,e=0;e<g;++e)f=c[e],f.x-=h,f.y-=i}return null==a&&(a=0),null==b&&(b=0),e.initialize=function(a){c=a},e.x=function(b){return arguments.length?(a=+b,e):a},e.y=function(a){return arguments.length?(b=+a,e):b},e.strength=function(a){return arguments.length?(d=+a,e):d},e}(d/2,e/2)).force("x",(function(a){var b,c,d,e=dh(.1);function f(a){for(var e,f=0,g=b.length;f<g;++f)e=b[f],e.vx+=(d[f]-e.x)*c[f]*a}function g(){if(b){var f,g=b.length;for(f=0,c=Array(g),d=Array(g);f<g;++f)c[f]=isNaN(d[f]=+a(b[f],f,b))?0:+e(b[f],f,b)}}return"function"!=typeof a&&(a=dh(null==a?0:+a)),f.initialize=function(a){b=a,g()},f.strength=function(a){return arguments.length?(e="function"==typeof a?a:dh(+a),g(),f):e},f.x=function(b){return arguments.length?(a="function"==typeof b?b:dh(+b),g(),f):a},f})(d/2).strength(.07)).force("y",(function(a){var b,c,d,e=dh(.1);function f(a){for(var e,f=0,g=b.length;f<g;++f)e=b[f],e.vy+=(d[f]-e.y)*c[f]*a}function g(){if(b){var f,g=b.length;for(f=0,c=Array(g),d=Array(g);f<g;++f)c[f]=isNaN(d[f]=+a(b[f],f,b))?0:+e(b[f],f,b)}}return"function"!=typeof a&&(a=dh(null==a?0:+a)),f.initialize=function(a){b=a,g()},f.strength=function(a){return arguments.length?(e="function"==typeof a?a:dh(+a),g(),f):e},f.y=function(b){return arguments.length?(a="function"==typeof b?b:dh(+b),g(),f):a},f})(e/2).strength(.07)),l=g.append("g").attr("stroke","rgba(255, 255, 255, 0.1)").attr("stroke-opacity",.6).selectAll("line").data(j).join("line").attr("stroke-width",a=>Math.sqrt(a.weight)),m=g.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(i).join("circle").attr("r",a=>a.size).attr("fill",a=>"central"===a.type?"#6366f1":"exchange"===a.type?"#f59e0b":"bridge"===a.type?"#10b981":"#94a3b8").call((function(){var a,b,c,d,e=dw,f=dx,g=dy,h=dz,i={},j=aV("start","drag","end"),k=0,l=0;function m(a){a.on("mousedown.drag",n).filter(h).on("touchstart.drag",q).on("touchmove.drag",r,bC).on("touchend.drag touchcancel.drag",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(g,h){if(!d&&e.call(this,g,h)){var i=t(this,f.call(this,g,h),g,h,"mouse");i&&(bB(g.view).on("mousemove.drag",o,bD).on("mouseup.drag",p,bD),bG(g.view),bE(g),c=!1,a=g.clientX,b=g.clientY,i("start",g))}}function o(d){if(bF(d),!c){var e=d.clientX-a,f=d.clientY-b;c=e*e+f*f>l}i.mouse("drag",d)}function p(a){bB(a.view).on("mousemove.drag mouseup.drag",null),bH(a.view,c),bF(a),i.mouse("end",a)}function q(a,b){if(e.call(this,a,b)){var c,d,g=a.changedTouches,h=f.call(this,a,b),i=g.length;for(c=0;c<i;++c)(d=t(this,h,a,b,g[c].identifier,g[c]))&&(bE(a),d("start",a,g[c]))}}function r(a){var b,c,d=a.changedTouches,e=d.length;for(b=0;b<e;++b)(c=i[d[b].identifier])&&(bF(a),c("drag",a,d[b]))}function s(a){var b,c,e=a.changedTouches,f=e.length;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<f;++b)(c=i[e[b].identifier])&&(bE(a),c("end",a,e[b]))}function t(a,b,c,d,e,f){var h,l,n,o=j.copy(),p=ck(f||c,b);if(null!=(n=g.call(a,new dv("beforestart",{sourceEvent:c,target:m,identifier:e,active:k,x:p[0],y:p[1],dx:0,dy:0,dispatch:o}),d)))return h=n.x-p[0]||0,l=n.y-p[1]||0,function c(f,g,j){var q,r=p;switch(f){case"start":i[e]=c,q=k++;break;case"end":delete i[e],--k;case"drag":p=ck(j||g,b),q=k}o.call(f,a,new dv(f,{sourceEvent:g,subject:n,target:m,identifier:e,active:q,x:p[0]+h,y:p[1]+l,dx:p[0]-r[0],dy:p[1]-r[1],dispatch:o}),d)}}return m.filter=function(a){return arguments.length?(e="function"==typeof a?a:du(!!a),m):e},m.container=function(a){return arguments.length?(f="function"==typeof a?a:du(a),m):f},m.subject=function(a){return arguments.length?(g="function"==typeof a?a:du(a),m):g},m.touchable=function(a){return arguments.length?(h="function"==typeof a?a:du(!!a),m):h},m.on=function(){var a=j.on.apply(j,arguments);return a===j?m:a},m.clickDistance=function(a){return arguments.length?(l=(a*=1)*a,m):Math.sqrt(l)},m})().on("start",function(a){a.active||k.alphaTarget(.3).restart(),a.subject.fx=a.subject.x,a.subject.fy=a.subject.y}).on("drag",function(a){a.subject.fx=a.x,a.subject.fy=a.y}).on("end",function(a){a.active||k.alphaTarget(0),a.subject.fx=null,a.subject.fy=null})),n=g.append("g").selectAll("text").data(i).join("text").attr("font-size","10px").attr("fill","rgba(255, 255, 255, 0.6)").attr("text-anchor","middle").attr("dy",a=>-a.size-5).text(a=>a.label);return m.append("title").text(a=>`${a.id}
Type: ${a.type}`),k.on("tick",()=>{l.attr("x1",a=>a.source.x).attr("y1",a=>a.source.y).attr("x2",a=>a.target.x).attr("y2",a=>a.target.y),m.attr("cx",a=>a.x).attr("cy",a=>a.y),n.attr("x",a=>a.x).attr("y",a=>a.y)}),()=>{k.stop()}},[a]),(0,az.jsxs)("div",{className:"w-full h-[500px] glass rounded-2xl overflow-hidden relative bg-black/40",children:[(0,az.jsx)("svg",{ref:b,className:"w-full h-full cursor-grab active:cursor-grabbing"}),(0,az.jsxs)("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[(0,az.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[(0,az.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#6366f1]"}),(0,az.jsx)("span",{children:"Your Wallet"})]}),(0,az.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[(0,az.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#f59e0b]"}),(0,az.jsx)("span",{children:"Exchanges"})]}),(0,az.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[(0,az.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#10b981]"}),(0,az.jsx)("span",{children:"Bridges"})]}),(0,az.jsxs)("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[(0,az.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#94a3b8]"}),(0,az.jsx)("span",{children:"Other Wallets"})]})]}),(0,az.jsx)("div",{className:"absolute bottom-4 right-4 text-[10px] text-white/20",children:"Pinch/Scroll to zoom  Drag to move"})]})};var dB=a.i(3187),dC=a.i(64314),dD=a.i(79459);let dE=function(a,b){if("function"==typeof a)return function(){return a(arguments)?b.apply(this,arguments):a=>b(a,...arguments)};switch(a){case 0:case 1:throw RangeError(`Invalid arity ${a}`);case 2:return function(a,c){return arguments.length>=2?b(a,c):function(c){return b(c,a)}};case 3:return function(a,c,d){return arguments.length>=3?b(a,c,d):function(d){return b(d,a,c)}};case 4:return function(a,c,d,e){return arguments.length>=4?b(a,c,d,e):function(e){return b(e,a,c,d)}};case 5:return function(a,c,d,e,f){return arguments.length>=5?b(a,c,d,e,f):function(f){return b(f,a,c,d,e)}};default:return function(){if(arguments.length>=a)return b.apply(this,arguments);let c=arguments;return function(a){return b(a,...c)}}}},dF=a=>a,dG=a=>()=>a,dH=dG(!0),dI=dG(!1),dJ=dG(null),dK=dG(void 0);function dL(a,b,c,d,e,f,g,h,i){switch(arguments.length){case 1:return a;case 2:return b(a);case 3:return c(b(a));case 4:return d(c(b(a)));case 5:return e(d(c(b(a))));case 6:return f(e(d(c(b(a)))));case 7:return g(f(e(d(c(b(a))))));case 8:return h(g(f(e(d(c(b(a)))))));case 9:return i(h(g(f(e(d(c(b(a))))))));default:{let a=arguments[0];for(let b=1;b<arguments.length;b++)a=arguments[b](a);return a}}}let dM=a=>(b,c)=>b===c||a(b,c),dN=(a,b)=>a===b,dO=dE(2,(a,b)=>dM((c,d)=>a(b(c),b(d)))),dP=dO(dN,a=>a.getTime()),dQ=a=>dM((b,c)=>{if(b.length!==c.length)return!1;for(let d=0;d<b.length;d++)if(!a(b[d],c[d]))return!1;return!0}),dR="effect/GlobalValue",dS=(a,c)=>(b||(globalThis[dR]??=new Map,b=globalThis[dR]),b.has(a)||b.set(a,c()),b.get(a)),dT=a=>!!a,dU=a=>"string"==typeof a,dV=a=>"number"==typeof a,dW=a=>"boolean"==typeof a,dX=a=>"bigint"==typeof a,dY=a=>"symbol"==typeof a,dZ=a=>void 0===a,d$=a=>void 0!==a,d_=a=>null!==a,d0=a=>!1,d1=a=>"object"==typeof a&&null!==a,d2=a=>d1(a)||"function"==typeof a,d3=dE(2,(a,b)=>d2(a)&&b in a),d4=dE(2,(a,b)=>d3(a,"_tag")&&a._tag===b),d5=a=>null!=a,d6=a=>a instanceof Uint8Array,d7=a=>a instanceof Date,d8=a=>"string"==typeof a||d3(a,Symbol.iterator),d9=a=>d1(a)&&!Array.isArray(a),ea=a=>`BUG: ${a} - please report an issue at https://github.com/Effect-TS/effect/issues`,eb=Symbol.for("effect/Gen/GenKind");Symbol.iterator;class ec{self;called=!1;constructor(a){this.self=a}next(a){return this.called?{value:a,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(a){return{value:a,done:!0}}throw(a){throw a}[Symbol.iterator](){return new ec(this.self)}}class ed{_state;constructor(a,b,c,d){return null==b&&null==a?(b=0xffffffff*Math.random()>>>0,a=0):null==b&&(b=a,a=0),null==d&&null==c?(d=this._state?this._state[3]:0xf767814f,c=this._state?this._state[2]:0x14057b7e):null==d&&(d=c,c=0),this._state=new Int32Array([0,0,c>>>0,(1|(d||0))>>>0]),this._next(),ee(this._state,this._state[0],this._state[1],a>>>0,b>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(a){this._state[0]=a[0],this._state[1]=a[1],this._state[2]=a[2],this._state[3]=1|a[3]}integer(a){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%a}number(){return(0x8000000*((0x3ffffff&this._next())*1)+(0x7ffffff&this._next())*1)/0x20000000000000}_next(){var a,b,c;let d,e,f,g,h=this._state[0]>>>0,i=this._state[1]>>>0;a=this._state,b=h,d=((c=i)>>>16)*32557>>>0,e=(65535&c)*19605>>>0,f=(65535&c)*32557>>>0,g=(c>>>16)*19605+((e>>>16)+(d>>>16))>>>0,(f=f+(e=e<<16>>>0)>>>0)>>>0<e>>>0&&(g=g+1>>>0),(f=f+(d=d<<16>>>0)>>>0)>>>0<d>>>0&&(g=g+1>>>0),g=(g=g+Math.imul(c,0x5851f42d)>>>0)+Math.imul(b,0x4c957f2d)>>>0,a[0]=g,a[1]=f,ee(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let j=h>>>18,k=(i>>>18|h<<14)>>>0;j=(j^h)>>>0;let l=((k=(k^i)>>>0)>>>27|j<<5)>>>0,m=h>>>27;return(l>>>m|l<<((-m>>>0&31)>>>0))>>>0}}function ee(a,b,c,d,e){let f=b+d>>>0,g=c+e>>>0;g>>>0<c>>>0&&(f=f+1|0),a[0]=f,a[1]=g}let ef=Symbol.for("effect/Utils/YieldWrap");class eg{#a;constructor(a){this.#a=a}[ef](){return this.#a}}let eh=dS("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0})),ei=a=>a(),ej=ei(()=>Error().stack)?.includes("effect_internal_function")===!0?ei:a=>a(),ek=dS(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),el=Symbol.for("effect/Hash"),em=a=>{if(!0===eh.enabled)return 0;switch(typeof a){case"number":return er(a);case"bigint":return es(a.toString(10));case"boolean":case"symbol":return es(String(a));case"string":return es(a);case"undefined":return es("undefined");case"function":case"object":if(null===a)return es("null");if(a instanceof Date){if(Number.isNaN(a.getTime()))return es("Invalid Date");return em(a.toISOString())}if(a instanceof URL)return em(a.href);else if(eq(a))return a[el]();else return en(a);default:throw Error(`BUG: unhandled typeof ${typeof a} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},en=a=>(ek.has(a)||ek.set(a,er(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER))),ek.get(a)),eo=a=>b=>53*b^a,ep=a=>0xbfffffff&a|a>>>1&0x40000000,eq=a=>d3(a,el),er=a=>{if(a!=a||a===1/0)return 0;let b=0|a;for(b!==a&&(b^=0xffffffff*a);a>0xffffffff;)b^=a/=0xffffffff;return ep(b)},es=a=>{let b=5381,c=a.length;for(;c;)b=33*b^a.charCodeAt(--c);return ep(b)},et=a=>((a,b)=>{let c=12289;for(let d=0;d<b.length;d++)c^=dL(es(b[d]),eo(em(a[b[d]])));return ep(c)})(a,Object.keys(a)),eu=a=>{let b=6151;for(let c=0;c<a.length;c++)b=dL(b,eo(em(a[c])));return ep(b)},ev=function(){if(1==arguments.length){let a=arguments[0];return function(b){return Object.defineProperty(a,el,{value:()=>b,enumerable:!1}),b}}let a=arguments[0],b=arguments[1];return Object.defineProperty(a,el,{value:()=>b,enumerable:!1}),b},ew=Symbol.for("effect/Equal");function ex(){return 1==arguments.length?a=>ey(a,arguments[0]):ey(arguments[0],arguments[1])}function ey(a,b){if(a===b)return!0;let c=typeof a;if(c!==typeof b)return!1;if("object"===c||"function"===c){if(null!==a&&null!==b){if(ez(a)&&ez(b))if(em(a)===em(b)&&a[ew](b))return!0;else return!!eh.enabled&&!!eh.tester&&eh.tester(a,b);else if(a instanceof Date&&b instanceof Date){let c=a.getTime(),d=b.getTime();return c===d||Number.isNaN(c)&&Number.isNaN(d)}else if(a instanceof URL&&b instanceof URL)return a.href===b.href}if(eh.enabled){if(Array.isArray(a)&&Array.isArray(b))return a.length===b.length&&a.every((a,c)=>ey(a,b[c]));if(Object.getPrototypeOf(a)===Object.prototype&&Object.getPrototypeOf(b)===Object.prototype){let c=Object.keys(a),d=Object.keys(b);if(c.length===d.length){for(let d of c)if(!(d in b&&ey(a[d],b[d])))return!!eh.tester&&eh.tester(a,b);return!0}}return!!eh.tester&&eh.tester(a,b)}}return!!eh.enabled&&!!eh.tester&&eh.tester(a,b)}let ez=a=>d3(a,ew),eA=Symbol.for("nodejs.util.inspect.custom"),eB=a=>{try{let b;if(d3(a,"toJSON")&&(b=a.toJSON,"function"==typeof b)&&0===a.toJSON.length)return a.toJSON();if(Array.isArray(a))return a.map(eB)}catch{return{}}return eL(a)},eC="[Circular]";function eD(a){try{return a.toISOString()}catch{return"Invalid Date"}}function eE(a){return dU(a)?JSON.stringify(a):String(a)}function eF(a,b){let c=b?.space??0,d=new WeakSet,e=c?dV(c)?" ".repeat(c):c:"",f=(a,b)=>{let c=a?.constructor;return c&&c!==Object.prototype.constructor&&c.name?`${c.name}(${b})`:b};return function a(c,g=0){if(Array.isArray(c)){let b,f;if(d.has(c))return eC;if(d.add(c),!e||c.length<=1)return`[${c.map(b=>a(b,g)).join(",")}]`;let h=c.map(b=>a(b,g+1)).join(",\n"+(b=g+1,e.repeat(b)));return`[
${f=g+1,e.repeat(f)}${h}
${e.repeat(g)}]`}if(d7(c))return eD(c);if(!b?.ignoreToString&&d3(c,"toString")&&"function"==typeof c.toString&&c.toString!==Object.prototype.toString&&c.toString!==Array.prototype.toString){let b=function(a){try{let b=a.toString();return"string"==typeof b?b:String(b)}catch{return"[toString threw]"}}(c);return c instanceof Error&&c.cause?`${b} (cause: ${a(c.cause,g)})`:b}if(dU(c))return JSON.stringify(c);if(dV(c)||null==c||dW(c)||dY(c))return String(c);if(dX(c))return String(c)+"n";if(c instanceof Set||c instanceof Map)return d.has(c)?eC:(d.add(c),`${c.constructor.name}(${a(Array.from(c),g)})`);if(d2(c)){if(d.has(c))return eC;d.add(c);let b=(a=>{try{return Reflect.ownKeys(a)}catch{return["[ownKeys threw]"]}})(c);if(!e||b.length<=1){let d=`{${b.map(b=>`${eE(b)}:${a(c[b],g)}`).join(",")}}`;return f(c,d)}let h=`{
${b.map(b=>{let d;return`${d=g+1,e.repeat(d)}${eE(b)}: ${a(c[b],g+1)}`}).join(",\n")}
${e.repeat(g)}}`;return f(c,h)}return String(c)}(a,0)}let eG=(a,b=2)=>{if("string"==typeof a)return a;try{return"object"==typeof a?eH(a,b):String(a)}catch{return String(a)}},eH=(a,b)=>{let c=[],d=JSON.stringify(a,(a,b)=>"object"==typeof b&&null!==b?c.includes(b)?void 0:c.push(b)&&(void 0!==eK.fiberRefs&&eJ(b)?b[eI](eK.fiberRefs):b):b,b);return c=void 0,d},eI=Symbol.for("effect/Inspectable/Redactable"),eJ=a=>"object"==typeof a&&null!==a&&eI in a,eK=dS("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),eL=a=>eJ(a)&&void 0!==eK.fiberRefs?a[eI](eK.fiberRefs):a,eM=(a,b)=>{switch(b.length){case 0:return a;case 1:return b[0](a);case 2:return b[1](b[0](a));case 3:return b[2](b[1](b[0](a)));case 4:return b[3](b[2](b[1](b[0](a))));case 5:return b[4](b[3](b[2](b[1](b[0](a)))));case 6:return b[5](b[4](b[3](b[2](b[1](b[0](a))))));case 7:return b[6](b[5](b[4](b[3](b[2](b[1](b[0](a)))))));case 8:return b[7](b[6](b[5](b[4](b[3](b[2](b[1](b[0](a))))))));case 9:return b[8](b[7](b[6](b[5](b[4](b[3](b[2](b[1](b[0](a)))))))));default:{let c=a;for(let a=0,d=b.length;a<d;a++)c=b[a](c);return c}}},eN="Async",eO="Commit",eP="Failure",eQ="OnFailure",eR="OnSuccess",eS="OnSuccessAndFailure",eT="Success",eU="Sync",eV="UpdateRuntimeFlags",eW="While",eX="Iterator",eY="WithRuntime",eZ="Yield",e$="RevertFlags",e_=()=>"3.19.15",e0=Symbol.for("effect/Effect"),e1=Symbol.for("effect/Stream"),e2=Symbol.for("effect/Sink"),e3=Symbol.for("effect/Channel"),e4={_R:a=>a,_E:a=>a,_A:a=>a,_V:e_()},e5={[e0]:e4,[e1]:e4,[e2]:{_A:a=>a,_In:a=>a,_L:a=>a,_E:a=>a,_R:a=>a},[e3]:{_Env:a=>a,_InErr:a=>a,_InElem:a=>a,_InDone:a=>a,_OutErr:a=>a,_OutElem:a=>a,_OutDone:a=>a},[ew](a){return this===a},[el](){return ev(this,en(this))},[Symbol.iterator](){return new ec(new eg(this))},pipe(){return eM(this,arguments)}},e6={[el](){return ev(this,et(this))},[ew](a){let b=Object.keys(this),c=Object.keys(a);if(b.length!==c.length)return!1;for(let c of b)if(!(c in a&&ex(this[c],a[c])))return!1;return!0}},e7={...e5,_op:eO},e8={...e7,...e6},e9=function(){function a(){}return a.prototype=e7,a}(),fa=Symbol.for("effect/Option"),fb={...e5,[fa]:{_A:a=>a},[eA](){return this.toJSON()},toString(){return JSON.stringify(this.toJSON(),null,2)}},fc=Object.assign(Object.create(fb),{_tag:"Some",_op:"Some",[ew](a){return ff(a)&&fh(a)&&ex(this.value,a.value)},[el](){return ev(this,eo(em(this._tag))(em(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:eB(this.value)}}}),fd=em("None"),fe=Object.assign(Object.create(fb),{_tag:"None",_op:"None",[ew]:a=>ff(a)&&fg(a),[el]:()=>fd,toJSON(){return{_id:"Option",_tag:this._tag}}}),ff=a=>d3(a,fa),fg=a=>"None"===a._tag,fh=a=>"Some"===a._tag,fi=Object.create(fe),fj=a=>{let b=Object.create(fc);return b.value=a,b},fk=Symbol.for("effect/Either"),fl={...e5,[fk]:{_R:a=>a},[eA](){return this.toJSON()},toString(){return JSON.stringify(this.toJSON(),null,2)}},fm=Object.assign(Object.create(fl),{_tag:"Right",_op:"Right",[ew](a){return fo(a)&&fq(a)&&ex(this.right,a.right)},[el](){return eo(em(this._tag))(em(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:eB(this.right)}}}),fn=Object.assign(Object.create(fl),{_tag:"Left",_op:"Left",[ew](a){return fo(a)&&fp(a)&&ex(this.left,a.left)},[el](){return eo(em(this._tag))(em(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:eB(this.left)}}}),fo=a=>d3(a,fk),fp=a=>"Left"===a._tag,fq=a=>"Right"===a._tag,fr=a=>{let b=Object.create(fn);return b.left=a,b},fs=a=>{let b=Object.create(fm);return b.right=a,b},ft=dE(2,(a,b)=>fg(a)?fr(b()):fs(a.value)),fu=a=>{if("function"==typeof a)try{return fs(a())}catch(a){return fr(a)}try{return fs(a.try())}catch(b){return fr(a.catch(b))}},fv=dE(2,(a,{onLeft:b,onRight:c})=>fp(a)?fr(b(a.left)):fs(c(a.right))),fw=dE(2,(a,b)=>fp(a)?fr(b(a.left)):fs(a.right)),fx=dE(2,(a,b)=>fq(a)?fs(b(a.right)):fr(a.left)),fy=dE(2,(a,{onLeft:b,onRight:c})=>fp(a)?b(a.left):c(a.right)),fz=fy({onLeft:dF,onRight:dF}),fA=dE(2,(a,b)=>{if(fq(a))return a.right;throw b(a.left)}),fB=fA(()=>Error("getOrThrow called on a Left")),fC=dE(2,(a,b)=>fp(a)?fr(a.left):b(a.right)),fD=((a,b,c)=>fC(a,a=>fx(b,b=>c(a,b))),a=>a.length>0),fE=a=>(b,c)=>b===c?0:a(b,c),fF=fE((a,b)=>a<b?-1:1),fG=fE((a,b)=>a<b?-1:1),fH=dE(2,(a,b)=>fE((c,d)=>a(b(c),b(d)))),fI=a=>dE(2,(b,c)=>-1===a(b,c)),fJ=a=>dE(2,(b,c)=>1===a(b,c)),fK=a=>dE(2,(b,c)=>-1!==a(b,c)),fL=a=>dE(2,(b,c)=>b===c||1>a(b,c)?b:c),fM=a=>dE(2,(b,c)=>b===c||a(b,c)>-1?b:c),fN=a=>dE(2,(b,c)=>fL(a)(c.maximum,fM(a)(c.minimum,b))),fO=a=>dE(2,(b,c)=>!fI(a)(b,c.minimum)&&!fJ(a)(b,c.maximum)),fP=()=>fi,fQ=fj,fR=dE(2,(a,{onNone:b,onSome:c})=>fg(a)?b():c(a.value)),fS=dE(2,(a,b)=>fg(a)?b():a.value),fT=dE(2,(a,b)=>fg(a)?b():a),fU=dE(2,(a,b)=>fg(a)?fQ(b()):a),fV=a=>null==a?fP():fQ(a),fW=fS(dJ),fX=fS(dK),fY=a=>(...b)=>{try{return fQ(a(...b))}catch{return fP()}},fZ=dE(2,(a,b)=>{if(fh(a))return a.value;throw b()}),f$=fZ(()=>Error("getOrThrow called on a None")),f_=dE(2,(a,b)=>fg(a)?fP():fQ(b(a.value))),f0=dE(2,(a,b)=>fg(a)?fP():b(a.value)),f1=dE(2,(a,b)=>fg(a)?fP():fV(b(a.value))),f2=((a,b)=>f0(a,a=>f_(b(a),()=>a)),dE(2,(a,b)=>f0(a,a=>b(a)?fj(a):fi))),f3=a=>dM((b,c)=>fg(b)?fg(c):!fg(c)&&a(b.value,c.value)),f4=dE(2,(a,b)=>!fg(a)&&ex(a.value,b)),f5=dE(2,(a,b)=>!fg(a)&&b(a.value)),f6=a=>(b,c)=>fg(b)?c:fg(c)?b:fQ(a(b.value,c.value)),f7=(...a)=>a,f8=((a,b)=>f8(b,a),dE(2,(a,b)=>({[Symbol.iterator](){let c,d=a[Symbol.iterator](),e=!1;return{next(){if(!e){let a=d.next();return a.done?(e=!0,(c=b[Symbol.iterator]()).next()):a}return c.next()}}}}))),f9=dE(2,(a,b)=>{let c=0;for(let d of a){let a=b(d,c);if(dW(a)){if(a)return fQ(d)}else if(fh(a))return a;c++}return fP()});(a,b,c)=>({[Symbol.iterator](){let d=a[Symbol.iterator](),e=b[Symbol.iterator]();return{next(){let a=d.next(),b=e.next();return a.done||b.done?{done:!0,value:void 0}:{done:!1,value:c(a.value,b.value)}}}}});let ga=dE(2,(a,b)=>({[Symbol.iterator](){let c=a[Symbol.iterator](),d=0;return{next(){let a=c.next();return a.done?{done:!0,value:void 0}:{done:!1,value:b(a.value,d++)}}}}})),gb=dE(2,(a,b)=>gc(ga(a,b))),gc=a=>({[Symbol.iterator](){let b,c=a[Symbol.iterator]();return{next:function a(){if(void 0===b){let a=c.next();if(a.done)return a;b=a.value[Symbol.iterator]()}let d=b.next();return d.done?(b=void 0,a()):d}}}});(a,b)=>({[Symbol.iterator](){let c=a[Symbol.iterator](),d=0;return{next(){let a=c.next();for(;!a.done;){let e=b(a.value,d++);if(fh(e))return{done:!1,value:e.value};a=c.next()}return{done:!0,value:void 0}}}}});(a,b,c)=>gb(a,a=>ga(b,b=>c(a,b)));let gd=dE(2,(a,b)=>Object.prototype.hasOwnProperty.call(a,b));(a,b,c)=>gd(a,b)?fQ({...a,[b]:c(a[b])}):fP(),(a,b)=>{if(!gd(a,b))return{...a};let c={...a};return delete c[b],c};let ge=dE(2,(a,b)=>{let c=Math.max(1,Math.floor(a)),d=Array(c);for(let a=0;a<c;a++)d[a]=b(a);return d}),gf=a=>Array.isArray(a)?a:Array.from(a),gg=a=>Array.isArray(a)?a:[a],gh=dE(2,(a,{onEmpty:b,onNonEmpty:c})=>gn(a)?c(a):b()),gi=dE(2,(a,{onEmpty:b,onNonEmpty:c})=>gn(a)?c(gt(a),gw(a)):b()),gj=dE(2,(a,b)=>[b,...a]),gk=dE(2,(a,b)=>[...a,b]),gl=dE(2,(a,b)=>gf(a).concat(gf(b))),gm=Array.isArray,gn=fD,go=(a,b)=>a<0||a>=b.length,gp=(a,b)=>Math.floor(Math.min(Math.max(0,a),b.length)),gq=dE(2,(a,b)=>{let c=Math.floor(b);return go(c,a)?fP():fQ(a[c])}),gr=dE(2,(a,b)=>{let c=Math.floor(b);if(go(c,a))throw Error(`Index ${c} out of bounds`);return a[c]}),gs=gq(0),gt=gr(0),gu=a=>gn(a)?fQ(gv(a)):fP(),gv=a=>a[a.length-1],gw=a=>a.slice(1),gx=((a,b)=>{let c=gf(a);return c.slice(0,gp(b,c))},dE(2,(a,b)=>gH(a,((a,b)=>{let c=0;for(let d of a){if(!b(d,c))break;c++}return c})(a,b)))),gy=dE(2,(a,b)=>{let c=gf(a);return c.slice(gp(b,c),c.length)}),gz=dE(3,(a,b,c)=>{let d=Array.from(a);if(go(b,d))return d;let e=c(d[b]);return d[b]=e,d}),gA=((a,b,c)=>{let d=gf(a);if(go(b,d))return fP();let e=Array.isArray(a)?a.slice():d,f=c(d[b]);return e[b]=f,fQ(e)},a=>Array.from(a).reverse()),gB=dE(2,(a,b)=>{let c=Array.from(a);return c.sort(b),c}),gC=dE(2,(a,b)=>gD(a,b,f7)),gD=dE(3,(a,b,c)=>{let d=gf(a),e=gf(b);if(gn(d)&&gn(e)){let a=[c(gt(d),gt(e))],b=Math.min(d.length,e.length);for(let f=1;f<b;f++)a[f]=c(d[f],e[f]);return a}return[]}),gE=((a,b)=>[b(gt(a)),...gw(a)],dE(2,(a,b)=>{let c=gf(a);if(gn(c)){let d=c.length,e=Math.round(b)%d;if(go(Math.abs(e),c)||0===e)return gJ(c);if(!(e<0))return gE(a,e-d);{let[a,b]=gI(c,-e);return gl(b,a)}}return[]})),gF=a=>dE(2,(b,c)=>{for(let d of b)if(a(c,d))return!0;return!1}),gG=dE(2,(a,b)=>{let c=gf(a);if(gn(c)){let[a,d]=b(c),e=[a],f=d;for(;fD(f);){let[a,c]=b(f);e.push(a),f=c}return e}return[]}),gH=dE(2,(a,b)=>{let c=Array.from(a),d=Math.floor(b);return gn(c)?d>=1?gI(c,d):[[],c]:[c,[]]}),gI=dE(2,(a,b)=>{let c=Math.max(1,Math.floor(b));return c>=a.length?[gJ(a),[]]:[gj(a.slice(1,c),gt(a)),a.slice(c)]}),gJ=a=>a.slice();(a,b)=>{let c=gf(a);return gn(c)?gG(c,gI(b)):[]};let gK=dE(3,(a,b,c)=>{let d=gf(a),e=gf(b);return gn(d)?gn(e)?gZ(c)(gl(d,e)):d:e}),gL=dE(2,(a,b)=>gK(a,b,ex)),gM=a=>{let b=gF(a);return dE(2,(a,c)=>{let d=gf(c);return gf(a).filter(a=>b(d,a))})},gN=gM(ex),gO=(h=gF(ex),dE(2,(a,b)=>{let c=gf(b);return gf(a).filter(a=>!h(c,a))}),()=>[]),gP=a=>[a],gQ=dE(2,(a,b)=>a.map(b)),gR=dE(2,(a,b)=>{if(0===a.length)return[];let c=[];for(let d=0;d<a.length;d++){let e=b(a[d],d);for(let a=0;a<e.length;a++)c.push(e[a])}return c}),gS=gR(dF),gT=dE(2,(a,b)=>{let c=gf(a),d=[];for(let a=0;a<c.length;a++){let e=b(c[a],a);fh(e)&&d.push(e.value)}return d}),gU=((a,b)=>{let c=0,d=[];for(let e of a){let a=b(e,c);if(fh(a))d.push(a.value);else break;c++}return d},dE(2,(a,b)=>{let c=[],d=[],e=gf(a);for(let a=0;a<e.length;a++){let f=b(e[a],a);fp(f)?c.push(f.left):d.push(f.right)}return[c,d]})),gV=((a,b)=>{let c=gf(a),d=[];for(let a=0;a<c.length;a++)b(c[a],a)&&d.push(c[a]);return d},dE(3,(a,b,c)=>gf(a).reduce((a,b,d)=>c(a,b,d),b))),gW=dE(3,(a,b,c)=>gf(a).reduceRight((a,b,d)=>c(a,b,d),b)),gX=(a,b)=>{let c,d=[],e=a;for(;fh(c=b(e));){let[a,b]=c.value;d.push(a),e=b}return d},gY=dQ,gZ=dE(2,(a,b)=>{let c=gf(a);if(gn(c)){let a=[gt(c)];for(let d of gw(c))a.every(a=>!b(d,a))&&a.push(d);return a}return[]}),g$=a=>gZ(a,ex),g_=dE(2,(a,b)=>gf(a).join(b)),g0=((a,b,c)=>{let d=0,e=b,f=[];for(let b of a){let a=c(e,b,d);e=a[0],f.push(a[1]),d++}return[e,f]},/^[+-]?\d+$/),g1=Symbol.for("effect/BigDecimal"),g2={[g1]:g1,[el](){let a=ha(this);return dL(em(a.value),eo(er(a.scale)),ev(this))},[ew](a){return g3(a)&&hm(this,a)},toString(){return`BigDecimal(${hq(this)})`},toJSON(){return{_id:"BigDecimal",value:String(this.value),scale:this.scale}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},g3=a=>d3(a,g1),g4=(a,b)=>{let c=Object.create(g2);return c.value=a,c.scale=b,c},g5=(a,b)=>{if(a!==g6&&a%g8===g6)throw RangeError("Value must be normalized");let c=g4(a,b);return c.normalized=c,c},g6=BigInt(0),g7=BigInt(1),g8=BigInt(10),g9=g5(g6,0),ha=a=>{if(void 0===a.normalized)if(a.value===g6)a.normalized=g9;else{let b=`${a.value}`,c=0;for(let a=b.length-1;a>=0;a--)if("0"===b[a])c++;else break;0===c&&(a.normalized=a);let d=BigInt(b.substring(0,b.length-c)),e=a.scale-c;a.normalized=g5(d,e)}return a.normalized},hb=dE(2,(a,b)=>b>a.scale?g4(a.value*g8**BigInt(b-a.scale),b):b<a.scale?g4(a.value/g8**BigInt(a.scale-b),b):a),hc=dE(2,(a,b)=>b.value===g6?a:a.value===g6?b:a.scale>b.scale?g4(hb(b,a.scale).value+a.value,a.scale):a.scale<b.scale?g4(hb(a,b.scale).value+b.value,b.scale):g4(a.value+b.value,a.scale)),hd=fE((a,b)=>{let c=fF(hk(a),hk(b));return 0!==c?c:a.scale>b.scale?fG(a.value,hb(b,a.scale).value):a.scale<b.scale?fG(hb(a,b.scale).value,b.value):fG(a.value,b.value)}),he=fI(hd),hf=dE(2,(a,b)=>1!==hd(a,b)),hg=fJ(hd),hh=fK(hd),hi=fO(hd),hj=fN(hd),hk=a=>a.value===g6?0:a.value<g6?-1:1,hl=dM((a,b)=>a.scale>b.scale?hb(b,a.scale).value===a.value:a.scale<b.scale?hb(a,b.scale).value===b.value:a.value===b.value),hm=dE(2,(a,b)=>hl(a,b)),hn=a=>fZ(ho(a),()=>RangeError(`Number must be finite, got ${a}`)),ho=a=>{if(!Number.isFinite(a))return fP();let b=`${a}`;if(b.includes("e"))return hp(b);let[c,d=""]=b.split(".");return fQ(g4(BigInt(`${c}${d}`),d.length))},hp=a=>{let b,c,d,e;if(""===a)return fQ(g9);let f=a.search(/[eE]/);if(-1!==f){let d=a.slice(f+1);if(b=a.slice(0,f),c=Number(d),""===b||!Number.isSafeInteger(c)||!g0.test(d))return fP()}else b=a,c=0;let g=b.search(/\./);if(-1!==g){let a=b.slice(0,g),c=b.slice(g+1);d=`${a}${c}`,e=c.length}else d=b,e=0;if(!g0.test(d))return fP();let h=e-c;return Number.isSafeInteger(h)?fQ(g4(BigInt(d),h)):fP()},hq=a=>{let b,c,d=ha(a);if(Math.abs(d.scale)>=16)return hr(d);let e=d.value<g6,f=e?`${d.value}`.substring(1):`${d.value}`;if(d.scale>=f.length)b="0",c="0".repeat(d.scale-f.length)+f;else{let a=f.length-d.scale;if(a>f.length){let d=a-f.length;b=`${f}${"0".repeat(d)}`,c=""}else c=f.slice(a),b=f.slice(0,a)}let g=""===c?b:`${b}.${c}`;return e?`-${g}`:g},hr=a=>{if(ht(a))return"0e+0";let b=ha(a),c=`${(b.value<g6?g4(-b.value,b.scale):b).value}`,d=c.slice(0,1),e=c.slice(1),f=`${hu(b)?"-":""}${d}`;""!==e&&(f+=`.${e}`);let g=e.length-b.scale;return`${f}e${g>=0?"+":""}${g}`},hs=a=>Number(hq(a)),ht=a=>a.value===g6,hu=a=>a.value<g6,hv=a=>g3(a[0]),hw=((a,b=0)=>{let c=hw(a,b);return a.value>g6&&he(c,a)?hc(c,g4(1n,b)):c},dE(hv,(a,b=0)=>a.scale<=b?a:g4(a.value/10n**BigInt(a.scale-b),b))),hx=((a,b)=>a.scale<b?0n:a.value/10n**BigInt(a.scale-b)%10n,BigInt(0)),hy=fN(fG),hz=((a,b)=>{for(;b!==hx;){let c=b;b=a%b,a=c}return a},a=>a>BigInt(Number.MAX_SAFE_INTEGER)||a<BigInt(Number.MIN_SAFE_INTEGER)?fP():fQ(Number(a))),hA=a=>{try{return""===a.trim()?fP():fQ(BigInt(a))}catch{return fP()}},hB=a=>{if(a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER)return fP();try{return fQ(BigInt(a))}catch{return fP()}},hC=a=>!a,hD=((a,b)=>!a&&b||a&&!b,Symbol.for("effect/Chunk")),hE=[],hF=a=>dM((b,c)=>b.length===c.length&&hQ(b).every((b,d)=>a(b,hV(c,d)))),hG=hF(ex),hH={[hD]:{_A:a=>a},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"Chunk",values:hQ(this).map(eB)}},[eA](){return this.toJSON()},[ew](a){return hJ(a)&&hG(this,a)},[el](){return ev(this,eu(hQ(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return hE[Symbol.iterator]();default:return hQ(this)[Symbol.iterator]()}},pipe(){return eM(this,arguments)}},hI=a=>{let b=Object.create(hH);switch(b.backing=a,a._tag){case"IEmpty":b.length=0,b.depth=0,b.left=b,b.right=b;break;case"IConcat":b.length=a.left.length+a.right.length,b.depth=1+Math.max(a.left.depth,a.right.depth),b.left=a.left,b.right=a.right;break;case"IArray":b.length=a.array.length,b.depth=0,b.left=hK,b.right=hK;break;case"ISingleton":b.length=1,b.depth=0,b.left=hK,b.right=hK;break;case"ISlice":b.length=a.length,b.depth=a.chunk.depth+1,b.left=hK,b.right=hK}return b},hJ=a=>d3(a,hD),hK=hI({_tag:"IEmpty"}),hL=()=>hK,hM=(...a)=>hU(a),hN=a=>hI({_tag:"ISingleton",a}),hO=a=>hJ(a)?a:hT(gf(a)),hP=(a,b,c)=>{switch(a.backing._tag){case"IArray":!function(a,b,c,d,e){for(let b=0;b<Math.min(a.length,0+e);b++)c[d+b-0]=a[b]}(a.backing.array,0,b,c,a.length);break;case"IConcat":hP(a.left,b,c),hP(a.right,b,c+a.left.length);break;case"ISingleton":b[c]=a.backing.a;break;case"ISlice":{let d=0,e=c;for(;d<a.length;)b[e]=hV(a,d),d+=1,e+=1}}},hQ=a=>{switch(a.backing._tag){case"IEmpty":return hE;case"IArray":return a.backing.array;default:{let b=Array(a.length);return hP(a,b,0),a.backing={_tag:"IArray",array:b},a.left=hK,a.right=hK,a.depth=0,b}}},hR=a=>{switch(a.backing._tag){case"IEmpty":case"ISingleton":return a;case"IArray":return hI({_tag:"IArray",array:gA(a.backing.array)});case"IConcat":return hI({_tag:"IConcat",left:hR(a.backing.right),right:hR(a.backing.left)});case"ISlice":return hT(gA(hQ(a)))}},hS=dE(2,(a,b)=>b<0||b>=a.length?fP():fQ(hV(a,b))),hT=a=>0===a.length?hL():1===a.length?hN(a[0]):hI({_tag:"IArray",array:a}),hU=a=>hT(a),hV=dE(2,(a,b)=>{switch(a.backing._tag){case"IEmpty":throw Error("Index out of bounds");case"ISingleton":if(0!==b)throw Error("Index out of bounds");return a.backing.a;case"IArray":if(b>=a.length||b<0)throw Error("Index out of bounds");return a.backing.array[b];case"IConcat":return b<a.left.length?hV(a.left,b):hV(a.right,b-a.left.length);case"ISlice":return hV(a.backing.chunk,b+a.backing.offset)}}),hW=dE(2,(a,b)=>h$(a,hN(b))),hX=dE(2,(a,b)=>h$(hN(b),a)),hY=dE(2,(a,b)=>{if(b<=0)return hK;if(b>=a.length)return a;switch(a.backing._tag){case"ISlice":return hI({_tag:"ISlice",chunk:a.backing.chunk,length:b,offset:a.backing.offset});case"IConcat":if(b>a.left.length)return hI({_tag:"IConcat",left:a.left,right:hY(a.right,b-a.left.length)});return hY(a.left,b);default:return hI({_tag:"ISlice",chunk:a,offset:0,length:b})}}),hZ=dE(2,(a,b)=>{if(b<=0)return a;if(b>=a.length)return hK;switch(a.backing._tag){case"ISlice":return hI({_tag:"ISlice",chunk:a.backing.chunk,offset:a.backing.offset+b,length:a.backing.length-b});case"IConcat":if(b>a.left.length)return hZ(a.right,b-a.left.length);return hI({_tag:"IConcat",left:hZ(a.left,b),right:a.right});default:return hI({_tag:"ISlice",chunk:a,offset:b,length:a.length-b})}}),h$=dE(2,(a,b)=>{if("IEmpty"===a.backing._tag)return b;if("IEmpty"===b.backing._tag)return a;let c=b.depth-a.depth;if(1>=Math.abs(c))return hI({_tag:"IConcat",left:a,right:b});if(c<-1)if(a.left.depth>=a.right.depth){let c=h$(a.right,b);return hI({_tag:"IConcat",left:a.left,right:c})}else{let c=h$(a.right.right,b);if(c.depth===a.depth-3){let b=hI({_tag:"IConcat",left:a.right.left,right:c});return hI({_tag:"IConcat",left:a.left,right:b})}{let b=hI({_tag:"IConcat",left:a.left,right:a.right.left});return hI({_tag:"IConcat",left:b,right:c})}}if(b.right.depth>=b.left.depth)return hI({_tag:"IConcat",left:h$(a,b.left),right:b.right});{let c=h$(a,b.left.left);if(c.depth===b.depth-3){let a=hI({_tag:"IConcat",left:c,right:b.left.right});return hI({_tag:"IConcat",left:a,right:b.right})}{let a=hI({_tag:"IConcat",left:b.left.right,right:b.right});return hI({_tag:"IConcat",left:c,right:a})}}});(a,b)=>{let c=[],d=[];return hQ(a).forEach(a=>{d.push(a),d.length>=b&&(c.push(hT(d)),d=[])}),d.length>0&&c.push(hT(d)),hT(c)};let h_=a=>0===a.length,h0=a=>a.length>0,h1=hS(0),h2=a=>hV(a,0),h3=((a,b)=>hT(gB(hQ(a),b)),a=>hZ(a,1)),h4=((a,b,c)=>hT(gD(a,b,c)),dE(3,(a,b,c)=>b<0||b>=a.length?fP():fQ(hT(gz(hQ(a),b,c)))));(a,b,c)=>fS(h4(a,b,c),()=>a);function h5(a,b){var c;return c=a&b-1,c-=c>>1&0x55555555,c=(c=(0x33333333&c)+(c>>2&0x33333333))+(c>>4)&0xf0f0f0f,c+=c>>8,127&(c+=c>>16)}let h6=(a,b)=>({value:a,previous:b});function h7(a,b,c,d){let e=d;if(!a){let a=d.length;e=Array(a);for(let b=0;b<a;++b)e[b]=d[b]}return e[b]=c,e}function h8(a,b,c){let d=c.length-1,e=0,f=0,g=c;if(a)e=f=b;else for(g=Array(d);e<b;)g[f++]=c[e++];for(++e;e<=d;)g[f++]=c[e++];return a&&(g.length=d),g}class h9{_tag="EmptyNode";modify(a,b,c,d,e,f){let g=c(fP());return fg(g)?new h9:(++f.value,new ic(a,d,e,g))}}function ia(a){return d4(a,"EmptyNode")}function ib(a,b){return!ia(a)&&b===a.edit}class ic{edit;hash;key;value;_tag="LeafNode";constructor(a,b,c,d){this.edit=a,this.hash=b,this.key=c,this.value=d}modify(a,b,c,d,e,f){if(ex(e,this.key)){let b=c(this.value);return b===this.value?this:fg(b)?(--f.value,new h9):ib(this,a)?(this.value=b,this):new ic(a,d,e,b)}let g=c(fP());return fg(g)?this:(++f.value,ih(a,b,this.hash,this,d,new ic(a,d,e,g)))}}class id{edit;hash;children;_tag="CollisionNode";constructor(a,b,c){this.edit=a,this.hash=b,this.children=c}modify(a,b,c,d,e,f){if(d===this.hash){let b=ib(this,a),d=this.updateCollisionList(b,a,this.hash,this.children,c,e,f);return d===this.children?this:d.length>1?new id(a,this.hash,d):d[0]}let g=c(fP());return fg(g)?this:(++f.value,ih(a,b,this.hash,this,d,new ic(a,d,e,g)))}updateCollisionList(a,b,c,d,e,f,g){let h=d.length;for(let i=0;i<h;++i){let h=d[i];if("key"in h&&ex(f,h.key)){let j=h.value,k=e(j);if(k===j)return d;if(fg(k))return--g.value,h8(a,i,d);return h7(a,i,new ic(b,c,f,k),d)}}let i=e(fP());return fg(i)?d:(++g.value,h7(a,h,new ic(b,c,f,i),d))}}class ie{edit;mask;children;_tag="IndexedNode";constructor(a,b,c){this.edit=a,this.mask=b,this.children=c}modify(a,b,c,d,e,f){let g,h=this.mask,i=this.children,j=d>>>b&31,k=1<<j,l=h5(h,k),m=h&k,n=ib(this,a);if(!m){let g=new h9().modify(a,b+5,c,d,e,f);return g?i.length>=16?function(a,b,c,d,e){let f=[],g=d,h=0;for(let a=0;g;++a)1&g&&(f[a]=e[h++]),g>>>=1;return f[b]=c,new ig(a,h+1,f)}(a,j,g,h,i):new ie(a,h|k,function(a,b,c,d){let e=d.length;if(a){let a=e;for(;a>=b;)d[a--]=d[a];return d[b]=c,d}let f=0,g=0,h=Array(e+1);for(;f<b;)h[g++]=d[f++];for(h[b]=c;f<e;)h[++g]=d[f++];return h}(n,l,g,i)):this}let o=i[l],p=o.modify(a,b+5,c,d,e,f);if(o===p)return this;let q=h;if(ia(p)){var r;if(!(q&=~k))return new h9;if(i.length<=2&&(ia(r=i[1^l])||"LeafNode"===r._tag||"CollisionNode"===r._tag))return i[1^l];g=h8(n,l,i)}else g=h7(n,l,p,i);return n?(this.mask=q,this.children=g,this):new ie(a,q,g)}}class ig{edit;size;children;_tag="ArrayNode";constructor(a,b,c){this.edit=a,this.size=b,this.children=c}modify(a,b,c,d,e,f){let g,h=this.size,i=this.children,j=d>>>b&31,k=i[j],l=(k||new h9).modify(a,b+5,c,d,e,f);if(k===l)return this;let m=ib(this,a);if(ia(k)&&!ia(l))++h,g=h7(m,j,l,i);else if(!ia(k)&&ia(l)){if(--h<=8)return function(a,b,c,d){let e=Array(b-1),f=0,g=0;for(let a=0,b=d.length;a<b;++a)if(a!==c){let b=d[a];b&&!ia(b)&&(e[f++]=b,g|=1<<a)}return new ie(a,g,e)}(a,h,j,i);g=h7(m,j,new h9,i)}else g=h7(m,j,l,i);return m?(this.size=h,this.children=g,this):new ig(a,h,g)}}function ih(a,b,c,d,e,f){let g,h=b;for(;;){let b=function(a,b,c,d,e,f){if(c===e)return new id(a,c,[f,d]);let g=c>>>b&31,h=e>>>b&31;return g===h?b=>new ie(a,1<<g|1<<h,[b]):new ie(a,1<<g|1<<h,g<h?[d,f]:[f,d])}(a,h,c,d,e,f);if("function"==typeof b)g=h6(b,g),h+=5;else{let a=b;for(;null!=g;)a=g.value(a),g=g.previous;return a}}}let ii="effect/HashMap",ij=Symbol.for(ii),ik={[ij]:ij,[Symbol.iterator](){return new im(this,(a,b)=>[a,b])},[el](){let a=em(ii);for(let b of this)a^=dL(em(b[0]),eo(em(b[1])));return ev(this,a)},[ew](a){if(is(a)){if(a._size!==this._size)return!1;for(let b of this){let c=dL(a,iu(b[0],em(b[0])));if(fg(c)||!ex(b[1],c.value))return!1}return!0}return!1},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"HashMap",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},il=(a,b,c,d)=>{let e=Object.create(ik);return e._editable=a,e._edit=b,e._root=c,e._size=d,e};class im{map;f;v;constructor(a,b){this.map=a,this.f=b,this.v=ip(this.map._root,this.f,void 0)}next(){if(fg(this.v))return{done:!0,value:void 0};let a=this.v.value;return this.v=io(a.cont),{done:!1,value:a.value}}[Symbol.iterator](){return new im(this.map,this.f)}}let io=a=>a?iq(a[0],a[1],a[2],a[3],a[4]):fP(),ip=(a,b,c)=>{switch(a._tag){case"LeafNode":if(fh(a.value))return fQ({value:b(a.key,a.value.value),cont:c});return io(c);case"CollisionNode":case"ArrayNode":case"IndexedNode":{let d=a.children;return iq(d.length,d,0,b,c)}default:return io(c)}},iq=(a,b,c,d,e)=>{for(;c<a;){let f=b[c++];if(f&&!ia(f))return ip(f,d,[a,b,c,d,e])}return io(e)},ir=il(!1,0,new h9,0),is=a=>d3(a,ij),it=dE(2,(a,b)=>iu(a,b,em(b))),iu=dE(3,(a,b,c)=>{let d=a._root,e=0;for(;;)switch(d._tag){case"LeafNode":return ex(b,d.key)?d.value:fP();case"CollisionNode":if(c===d.hash){let a=d.children;for(let c=0,d=a.length;c<d;++c){let d=a[c];if("key"in d&&ex(b,d.key))return d.value}}return fP();case"IndexedNode":{let a=1<<(c>>>e&31);if(d.mask&a){d=d.children[h5(d.mask,a)],e+=5;break}return fP()}case"ArrayNode":if(d=d.children[c>>>e&31]){e+=5;break}return fP();default:return fP()}}),iv=dE(2,(a,b)=>fh(iu(a,b,em(b)))),iw=dE(3,(a,b,c)=>iB(a,b,()=>fQ(c))),ix=dE(3,(a,b,c)=>a._editable?(a._root=b,a._size=c,a):b===a._root?a:il(a._editable,a._edit,b,c)),iy=a=>new im(a,a=>a),iz=a=>il(!0,a._edit+1,a._root,a._size),iA=a=>(a._editable=!1,a),iB=((a,b)=>{let c=iz(a);return b(c),iA(c)},dE(3,(a,b,c)=>iC(a,b,em(b),c))),iC=dE(4,(a,b,c,d)=>{let e={value:a._size},f=a._root.modify(a._editable?a._edit:NaN,0,d,c,b,e);return dL(a,ix(f,e.value))}),iD=dE(2,(a,b)=>iB(a,b,fP)),iE=dE(2,(a,b)=>iG(a,ir,(a,c,d)=>iw(a,d,b(c,d)))),iF=dE(2,(a,b)=>iG(a,void 0,(a,c,d)=>b(c,d))),iG=dE(3,(a,b,c)=>{let d,e=a._root;if("LeafNode"===e._tag)return fh(e.value)?c(b,e.value.value,e.key):b;if("EmptyNode"===e._tag)return b;let f=[e.children];for(;d=f.pop();)for(let a=0,e=d.length;a<e;){let e=d[a++];e&&!ia(e)&&("LeafNode"===e._tag?fh(e.value)&&(b=c(b,e.value.value,e.key)):f.push(e.children))}return b}),iH=((a,b)=>{for(let c of a)if(b(c[1],c[0]))return fQ(c);return fP()},"effect/HashSet"),iI=Symbol.for(iH),iJ={[iI]:iI,[Symbol.iterator](){return iy(this._keyMap)},[el](){return ev(this,eo(em(this._keyMap))(em(iH)))},[ew](a){return!!iL(a)&&this._keyMap._size===a._keyMap._size&&ex(this._keyMap,a._keyMap)},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"HashSet",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},iK=a=>{let b=Object.create(iJ);return b._keyMap=a,b},iL=a=>d3(a,iI),iM=iK(ir),iN=()=>iM,iO=dE(2,(a,b)=>iv(a._keyMap,b)),iP=dE(2,(a,b)=>{let c=!1;for(let d of a)if(c=b(d))break;return c}),iQ=dE(2,(a,b)=>!iP(a,a=>!b(a))),iR=a=>iK(iz(a._keyMap)),iS=a=>(a._keyMap._editable=!1,a),iT=dE(2,(a,b)=>{let c=iR(a);return b(c),iS(c)}),iU=dE(2,(a,b)=>a._keyMap._editable?(iw(b,!0)(a._keyMap),a):iK(iw(b,!0)(a._keyMap))),iV=dE(2,(a,b)=>a._keyMap._editable?(iD(b)(a._keyMap),a):iK(iD(b)(a._keyMap))),iW=dE(2,(a,b)=>iT(a,a=>{for(let c of b)iV(a,c)})),iX=dE(2,(a,b)=>iT(iN(),c=>{for(let d of(iY(a,a=>iU(c,a)),b))iU(c,d)})),iY=dE(2,(a,b)=>iF(a._keyMap,(a,c)=>b(c))),iZ=dE(3,(a,b,c)=>iG(a._keyMap,b,(a,b,d)=>c(a,d))),i$=a=>{let b=iR(iN());for(let c of a)iU(b,c);return iS(b)},i_=(...a)=>{let b=iR(iN());for(let c of a)iU(b,c);return iS(b)},i0=a=>a._keyMap._size,i1="Empty",i2="Fail",i3="Interrupt",i4="Parallel",i5="Sequential",i6="effect/Cause",i7=Symbol.for(i6),i8={[i7]:{_E:a=>a},[el](){return dL(em(i6),eo(em(jn(this))),ev(this))},[ew](a){return jf(a)&&jm(this,a)},pipe(){return eM(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:eB(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:eB(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:eB(this.left),right:eB(this.right)}}},toString(){return jx(this)},[eA](){return this.toJSON()}},i9=((i=Object.create(i8))._tag=i1,i),ja=a=>{let b=Object.create(i8);return b._tag=i2,b.error=a,b},jb=a=>{let b=Object.create(i8);return b._tag="Die",b.defect=a,b},jc=a=>{let b=Object.create(i8);return b._tag=i3,b.fiberId=a,b},jd=(a,b)=>{let c=Object.create(i8);return c._tag=i4,c.left=a,c.right=b,c},je=(a,b)=>{let c=Object.create(i8);return c._tag=i5,c.left=a,c.right=b,c},jf=a=>d3(a,i7),jg=a=>a._tag===i1||jv(a,!0,(a,b)=>{switch(b._tag){case i1:return fQ(a);case"Die":case i2:case i3:return fQ(!1);default:return fP()}}),jh=a=>jw(void 0,jr)(a),ji=a=>hR(jv(a,hL(),(a,b)=>"Die"===b._tag?fQ(dL(a,hX(b.defect))):fP())),jj=a=>{let b=jp(a,a=>a._tag===i2?fQ(a.error):fP());switch(b._tag){case"None":return fs(a);case"Some":return fr(b.value)}},jk=a=>ju(a,{onEmpty:i9,onFail:()=>i9,onDie:jb,onInterrupt:jc,onSequential:je,onParallel:jd}),jl=((a,b)=>jl(a,a=>ja(b(a))),dE(2,(a,b)=>ju(a,{onEmpty:i9,onFail:a=>b(a),onDie:a=>jb(a),onInterrupt:a=>jc(a),onSequential:(a,b)=>je(a,b),onParallel:(a,b)=>jd(a,b)}))),jm=(a,b)=>{let c=hN(a),d=hN(b);for(;h0(c)&&h0(d);){let[a,b]=dL(h2(c),jv([iN(),hL()],([a,b],c)=>{let[d,e]=jq(c);return fQ([dL(a,iX(d)),dL(b,h$(e))])})),[e,f]=dL(h2(d),jv([iN(),hL()],([a,b],c)=>{let[d,e]=jq(c);return fQ([dL(a,iX(d)),dL(b,h$(e))])}));if(!ex(a,e))return!1;c=b,d=f}return!0},jn=a=>jo(hN(a),hL()),jo=(a,b)=>{for(;;){let[c,d]=dL(a,gV([iN(),hL()],([a,b],c)=>{let[d,e]=jq(c);return[dL(a,iX(d)),dL(b,h$(e))]})),e=i0(c)>0?dL(b,hX(c)):b;if(h_(d))return hR(e);a=d,b=e}throw Error(ea("Cause.flattenCauseLoop"))},jp=dE(2,(a,b)=>{let c=[a];for(;c.length>0;){let a=c.pop(),d=b(a);switch(d._tag){case"None":switch(a._tag){case i5:case i4:c.push(a.right),c.push(a.left)}break;case"Some":return d}}return fP()}),jq=a=>{let b=a,c=[],d=iN(),e=hL();for(;void 0!==b;)switch(b._tag){case i1:if(0===c.length)return[d,e];b=c.pop();break;case i2:if(d=iU(d,hM(b._tag,b.error)),0===c.length)return[d,e];b=c.pop();break;case"Die":if(d=iU(d,hM(b._tag,b.defect)),0===c.length)return[d,e];b=c.pop();break;case i3:if(d=iU(d,hM(b._tag,b.fiberId)),0===c.length)return[d,e];b=c.pop();break;case i5:switch(b.left._tag){case i1:b=b.right;break;case i5:b=je(b.left.left,je(b.left.right,b.right));break;case i4:b=jd(je(b.left.left,b.right),je(b.left.right,b.right));break;default:e=hX(e,b.right),b=b.left}break;case i4:c.push(b.right),b=b.left}throw Error(ea("Cause.evaluateCauseLoop"))},jr={emptyCase:dH,failCase:dI,dieCase:dI,interruptCase:dH,sequentialCase:(a,b,c)=>b&&c,parallelCase:(a,b,c)=>b&&c},js="SequentialCase",jt="ParallelCase",ju=dE(2,(a,{onDie:b,onEmpty:c,onFail:d,onInterrupt:e,onParallel:f,onSequential:g})=>jw(a,void 0,{emptyCase:()=>c,failCase:(a,b)=>d(b),dieCase:(a,c)=>b(c),interruptCase:(a,b)=>e(b),sequentialCase:(a,b,c)=>g(b,c),parallelCase:(a,b,c)=>f(b,c)})),jv=dE(3,(a,b,c)=>{let d=b,e=a,f=[];for(;void 0!==e;){let a=c(d,e);switch(d=fh(a)?a.value:d,e._tag){case i5:case i4:f.push(e.right),e=e.left;break;default:e=void 0}void 0===e&&f.length>0&&(e=f.pop())}return d}),jw=dE(3,(a,b,c)=>{let d=[a],e=[];for(;d.length>0;){let a=d.pop();switch(a._tag){case i1:e.push(fs(c.emptyCase(b)));break;case i2:e.push(fs(c.failCase(b,a.error)));break;case"Die":e.push(fs(c.dieCase(b,a.defect)));break;case i3:e.push(fs(c.interruptCase(b,a.fiberId)));break;case i5:d.push(a.right),d.push(a.left),e.push(fr({_tag:js}));break;case i4:d.push(a.right),d.push(a.left),e.push(fr({_tag:jt}))}}let f=[];for(;e.length>0;){let a=e.pop();switch(a._tag){case"Left":switch(a.left._tag){case js:{let a=f.pop(),d=f.pop(),e=c.sequentialCase(b,a,d);f.push(e);break}case jt:{let a=f.pop(),d=f.pop(),e=c.parallelCase(b,a,d);f.push(e)}}break;case"Right":f.push(a.right)}}if(0===f.length)throw Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return f.pop()}),jx=(a,b)=>jh(a)?"All fibers interrupted without errors.":jF(a).map(function(a){return b?.renderErrorCause!==!0||void 0===a.cause?a.stack:`${a.stack} {
${jy(a.cause,"  ")}
}`}).join("\n"),jy=(a,b)=>{let c=a.stack.split("\n"),d=`${b}[cause]: ${c[0]}`;for(let a=1,e=c.length;a<e;a++)d+=`
${b}${c[a]}`;return a.cause&&(d+=` {
${jy(a.cause,`${b}  `)}
${b}}`),d};class jz extends globalThis.Error{span=void 0;constructor(a){const b="object"==typeof a&&null!==a,c=Error.stackTraceLimit;Error.stackTraceLimit=1,super(jA(a),b&&"cause"in a&&void 0!==a.cause?{cause:new jz(a.cause)}:void 0),""===this.message&&(this.message="An error has occurred"),Error.stackTraceLimit=c,this.name=a instanceof Error?a.name:"Error",b&&(jE in a&&(this.span=a[jE]),Object.keys(a).forEach(b=>{b in this||(this[b]=a[b])})),this.stack=jD(`${this.name}: ${this.message}`,a instanceof Error&&a.stack?a.stack:"",this.span)}}let jA=a=>{if("string"==typeof a)return a;if("object"==typeof a&&null!==a&&a instanceof Error)return a.message;try{let b;if(d3(a,"toString")&&(b=a.toString,"function"==typeof b)&&a.toString!==Object.prototype.toString&&a.toString!==globalThis.Array.prototype.toString)return a.toString()}catch{}return eH(a)},jB=/\((.*)\)/g,jC=dS("effect/Tracer/spanToTrace",()=>new WeakMap),jD=(a,b,c)=>{let d=[a],e=b.startsWith(a)?b.slice(a.length).split("\n"):b.split("\n");for(let a=1;a<e.length;a++){if(e[a].includes(" at new BaseEffectError")||e[a].includes(" at new YieldableError")){a++;continue}if(e[a].includes("Generator.next")||e[a].includes("effect_internal_function"))break;d.push(e[a].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(c){let a=c,b=0;for(;a&&"Span"===a._tag&&b<10;){let c=jC.get(a);if("function"==typeof c){let b=c();if("string"==typeof b){let c=b.matchAll(jB),e=!1;for(let[,b]of c)e=!0,d.push(`    at ${a.name} (${b})`);e||d.push(`    at ${a.name} (${b.replace(/^at /,"")})`)}else d.push(`    at ${a.name}`)}else d.push(`    at ${a.name}`);a=fX(a.parent),b++}}return d.join("\n")},jE=Symbol.for("effect/SpanAnnotation"),jF=a=>jw(a,void 0,{emptyCase:()=>[],dieCase:(a,b)=>[new jz(b)],failCase:(a,b)=>[new jz(b)],interruptCase:()=>[],parallelCase:(a,b,c)=>[...b,...c],sequentialCase:(a,b,c)=>[...b,...c]}),jG=Symbol.for("effect/Context/Tag"),jH=Symbol.for("effect/Context/Reference"),jI=Symbol.for("effect/STM"),jJ={...e5,_op:"Tag",[jI]:e4,[jG]:{_Service:a=>a,_Identifier:a=>a},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[eA](){return this.toJSON()},of:a=>a,context(a){return jQ(this,a)}},jK={...jJ,[jH]:jH},jL=Symbol.for("effect/Context"),jM={[jL]:{_Services:a=>a},[ew](a){if(jO(a)&&this.unsafeMap.size===a.unsafeMap.size){for(let b of this.unsafeMap.keys())if(!a.unsafeMap.has(b)||!ex(this.unsafeMap.get(b),a.unsafeMap.get(b)))return!1;return!0}return!1},[el](){return ev(this,er(this.unsafeMap.size))},pipe(){return eM(this,arguments)},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(eB)}},[eA](){return this.toJSON()}},jN=a=>{let b=Object.create(jM);return b.unsafeMap=a,b},jO=a=>d3(a,jL),jP=jN(new Map),jQ=(a,b)=>jN(new Map([[a.key,b]])),jR=dE(3,(a,b,c)=>{let d=new Map(a.unsafeMap);return d.set(b.key,c),jN(d)}),jS=dS("effect/Context/defaultValueCache",()=>new Map),jT=a=>{if(jS.has(a.key))return jS.get(a.key);let b=a.defaultValue();return jS.set(a.key,b),b},jU=dE(2,(a,b)=>{if(!a.unsafeMap.has(b.key)){if(jH in b)return jT(b);throw(a=>{let b=Error(`Service not found${a.key?`: ${String(a.key)}`:""}`);if(a.stack){let c=a.stack.split("\n");if(c.length>2){let a=c[2].match(/at (.*)/);a&&(b.message=b.message+` (defined at ${a[1]})`)}}if(b.stack){let a=b.stack.split("\n");a.splice(1,3),b.stack=a.join("\n")}return b})(b)}return a.unsafeMap.get(b.key)}),jV=dE(2,(a,b)=>a.unsafeMap.has(b.key)?fj(a.unsafeMap.get(b.key)):d3(b,jH)?fj(jT(b)):fi),jW=dE(2,(a,b)=>{let c=new Map(a.unsafeMap);for(let[a,d]of b.unsafeMap)c.set(a,d);return jN(c)}),jX=a=>{let b=Error.stackTraceLimit;Error.stackTraceLimit=2;let c=Error();Error.stackTraceLimit=b;let d=Object.create(jJ);return Object.defineProperty(d,"stack",{get:()=>c.stack}),d.key=a,d},jY=a=>()=>{let b=Error.stackTraceLimit;Error.stackTraceLimit=2;let c=Error();function d(){}return Error.stackTraceLimit=b,Object.setPrototypeOf(d,jJ),d.key=a,Object.defineProperty(d,"stack",{get:()=>c.stack}),d},jZ=()=>(a,b)=>{let c=Error.stackTraceLimit;Error.stackTraceLimit=2;let d=Error();function e(){}return Error.stackTraceLimit=c,Object.setPrototypeOf(e,jK),e.key=a,e.defaultValue=b.defaultValue,Object.defineProperty(e,"stack",{get:()=>d.stack}),e},j$=Symbol.for("effect/Duration"),j_=BigInt(0),j0=BigInt(24),j1=BigInt(60),j2=BigInt(1e3),j3=BigInt(1e6),j4=BigInt(1e9),j5=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,j6=a=>{if(kb(a))return a;if(dV(a))return kh(a);if(dX(a))return kf(a);if(Array.isArray(a)&&2===a.length&&a.every(dV))return a[0]===-1/0||a[1]===-1/0||Number.isNaN(a[0])||Number.isNaN(a[1])?kd:a[0]===1/0||a[1]===1/0?ke:kf(BigInt(Math.round(1e9*a[0]))+BigInt(Math.round(a[1])));if(dU(a)){let b=j5.exec(a);if(b){let[a,c,d]=b,e=Number(c);switch(d){case"nano":case"nanos":return kf(BigInt(c));case"micro":case"micros":return kg(BigInt(c));case"milli":case"millis":return kh(e);case"second":case"seconds":return ki(e);case"minute":case"minutes":return kj(e);case"hour":case"hours":return kk(e);case"day":case"days":return kl(e);case"week":case"weeks":return km(e)}}}throw Error("Invalid DurationInput")},j7={_tag:"Millis",millis:0},j8={_tag:"Infinity"},j9={[j$]:j$,[el](){return ev(this,et(this.value))},[ew](a){return kb(a)&&kC(this,a)},toString(){return`Duration(${kD(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:kp(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},ka=a=>{let b=Object.create(j9);return dV(a)?isNaN(a)||a<=0?b.value=j7:Number.isFinite(a)?Number.isInteger(a)?b.value={_tag:"Millis",millis:a}:b.value={_tag:"Nanos",nanos:BigInt(Math.round(1e6*a))}:b.value=j8:a<=j_?b.value=j7:b.value={_tag:"Nanos",nanos:a},b},kb=a=>d3(a,j$),kc=a=>"Infinity"!==a.value._tag,kd=ka(0),ke=ka(1/0),kf=a=>ka(a),kg=a=>ka(a*j2),kh=a=>ka(a),ki=a=>ka(1e3*a),kj=a=>ka(6e4*a),kk=a=>ka(36e5*a),kl=a=>ka(864e5*a),km=a=>ka(6048e5*a),kn=a=>kq(a,{onMillis:a=>a,onNanos:a=>Number(a)/1e6}),ko=a=>{let b=j6(a);switch(b.value._tag){case"Infinity":return fP();case"Nanos":return fQ(b.value.nanos);case"Millis":return fQ(BigInt(Math.round(1e6*b.value.millis)))}},kp=a=>{let b=j6(a);switch(b.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(b.value.nanos/j4),Number(b.value.nanos%j4)];case"Millis":return[Math.floor(b.value.millis/1e3),Math.round(b.value.millis%1e3*1e6)]}},kq=dE(2,(a,b)=>{let c=j6(a);switch(c.value._tag){case"Nanos":return b.onNanos(c.value.nanos);case"Infinity":return b.onMillis(1/0);case"Millis":return b.onMillis(c.value.millis)}}),kr=dE(3,(a,b,c)=>{let d=j6(a),e=j6(b);if("Infinity"===d.value._tag||"Infinity"===e.value._tag)return c.onMillis(kn(d),kn(e));if("Nanos"===d.value._tag||"Nanos"===e.value._tag){let a="Nanos"===d.value._tag?d.value.nanos:BigInt(Math.round(1e6*d.value.millis)),b="Nanos"===e.value._tag?e.value.nanos:BigInt(Math.round(1e6*e.value.millis));return c.onNanos(a,b)}return c.onMillis(d.value.millis,e.value.millis)}),ks=fE((a,b)=>kr(a,b,{onMillis:(a,b)=>a<b?-1:+(a>b),onNanos:(a,b)=>a<b?-1:+(a>b)})),kt=fO(fH(ks,j6)),ku=(a,b)=>kr(a,b,{onMillis:(a,b)=>a===b,onNanos:(a,b)=>a===b}),kv=fN(ks),kw=dE(2,(a,b)=>kv(j6(a),{minimum:j6(b.minimum),maximum:j6(b.maximum)})),kx=dE(2,(a,b)=>kr(a,b,{onMillis:(a,b)=>ka(a+b),onNanos:(a,b)=>ka(a+b)})),ky=dE(2,(a,b)=>kr(a,b,{onMillis:(a,b)=>a<b,onNanos:(a,b)=>a<b})),kz=dE(2,(a,b)=>kr(a,b,{onMillis:(a,b)=>a<=b,onNanos:(a,b)=>a<=b})),kA=dE(2,(a,b)=>kr(a,b,{onMillis:(a,b)=>a>b,onNanos:(a,b)=>a>b})),kB=dE(2,(a,b)=>kr(a,b,{onMillis:(a,b)=>a>=b,onNanos:(a,b)=>a>=b})),kC=dE(2,(a,b)=>ku(j6(a),j6(b))),kD=a=>{let b=j6(a);if("Infinity"===b.value._tag)return"Infinity";if((a=>{switch(a.value._tag){case"Millis":return 0===a.value.millis;case"Nanos":return a.value.nanos===j_;case"Infinity":return!1}})(b))return"0";let c=(a=>{let b=j6(a);if("Infinity"===b.value._tag)return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let c=(a=>{let b=j6(a);switch(b.value._tag){case"Infinity":throw Error("Cannot convert infinite duration to nanos");case"Nanos":return b.value.nanos;case"Millis":return BigInt(Math.round(1e6*b.value.millis))}})(b),d=c/j3,e=d/j2,f=e/j1,g=f/j1;return{days:Number(g/j0),hours:Number(g%j0),minutes:Number(f%j1),seconds:Number(e%j1),millis:Number(d%j2),nanos:Number(c%j3)}})(b),d=[];return 0!==c.days&&d.push(`${c.days}d`),0!==c.hours&&d.push(`${c.hours}h`),0!==c.minutes&&d.push(`${c.minutes}m`),0!==c.seconds&&d.push(`${c.seconds}s`),0!==c.millis&&d.push(`${c.millis}ms`),0!==c.nanos&&d.push(`${c.nanos}ns`),d.join(" ")},kE=Symbol.for("effect/MutableRef"),kF={[kE]:kE,toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"MutableRef",current:eB(this.current)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},kG=a=>{let b=Object.create(kF);return b.current=a,b},kH=dE(3,(a,b,c)=>!!ex(b,a.current)&&(a.current=c,!0)),kI=((a,b)=>{let c=a.current;return a.current=b,c},dE(2,(a,b)=>(a.current=b,a))),kJ=((a,b)=>(a.current=b,a.current),"effect/FiberId"),kK=Symbol.for(kJ),kL="None",kM="Runtime",kN="Composite",kO=es(`${kJ}-${kL}`);class kP{id;startTimeMillis;[kK]=kK;_tag=kM;constructor(a,b){this.id=a,this.startTimeMillis=b}[el](){return ev(this,es(`${kJ}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[ew](a){return kS(a)&&a._tag===kM&&this.id===a.id&&this.startTimeMillis===a.startTimeMillis}toString(){return JSON.stringify(this.toJSON(),null,2)}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[eA](){return this.toJSON()}}class kQ{left;right;[kK]=kK;_tag=kN;constructor(a,b){this.left=a,this.right=b}_hash;[el](){return dL(es(`${kJ}-${this._tag}`),eo(em(this.left)),eo(em(this.right)),ev(this))}[ew](a){return kS(a)&&a._tag===kN&&ex(this.left,a.left)&&ex(this.right,a.right)}toString(){return JSON.stringify(this.toJSON(),null,2)}toJSON(){return{_id:"FiberId",_tag:this._tag,left:eB(this.left),right:eB(this.right)}}[eA](){return this.toJSON()}}let kR=new class{[kK]=kK;_tag=kL;id=-1;startTimeMillis=-1;[el](){return kO}[ew](a){return kS(a)&&a._tag===kL}toString(){return JSON.stringify(this.toJSON(),null,2)}toJSON(){return{_id:"FiberId",_tag:this._tag}}[eA](){return this.toJSON()}},kS=a=>d3(a,kK),kT=a=>a._tag===kL||dL(kZ(a),iQ(a=>kT(a))),kU=dE(2,(a,b)=>a._tag===kL?b:b._tag===kL?a:new kQ(a,b)),kV=dE(2,(a,b)=>kT(a)?b:a),kW=a=>{switch(a._tag){case kL:return iN();case kM:return i_(a.id);case kN:return dL(kW(a.left),iX(kW(a.right)))}},kX=dS(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>kG(0)),kY=a=>Array.from(kW(a)).map(a=>`#${a}`).join(","),kZ=a=>{switch(a._tag){case kL:return iN();case kM:return i_(a);case kN:return dL(kZ(a.left),iX(kZ(a.right)))}},k$=kR,k_=kS,k0=()=>{let a=kX.current;return dL(kX,kI(a+1)),new kP(a,Date.now())},k1=a=>{let b=iz(ir);for(let c of a)iw(b,c[0],c[1]);return iA(b)},k2=Symbol.for("effect/List"),k3=a=>gf(a),k4=dO(gY(ex),k3),k5={[k2]:k2,_tag:"Cons",toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"List",_tag:"Cons",values:k3(this).map(eB)}},[eA](){return this.toJSON()},[ew](a){return k9(a)&&this._tag===a._tag&&k4(this,a)},[el](){return ev(this,eu(k3(this)))},[Symbol.iterator](){let a=!1,b=this;return{next(){if(a)return this.return();if("Nil"===b._tag)return a=!0,this.return();let c=b.head;return b=b.tail,{done:a,value:c}},return:b=>(a||(a=!0),{done:!0,value:b})}},pipe(){return eM(this,arguments)}},k6=(a,b)=>{let c=Object.create(k5);return c.head=a,c.tail=b,c},k7=es("Nil"),k8=Object.create({[k2]:k2,_tag:"Nil",toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON:()=>({_id:"List",_tag:"Nil"}),[eA](){return this.toJSON()},[el]:()=>k7,[ew](a){return k9(a)&&this._tag===a._tag},[Symbol.iterator]:()=>({next:()=>({done:!0,value:void 0})}),pipe(){return eM(this,arguments)}}),k9=a=>d3(a,k2),la=a=>"Nil"===a._tag,lb=a=>"Cons"===a._tag,lc=a=>{let b=a,c=0;for(;!la(b);)c+=1,b=b.tail;return c},ld=(a,b)=>k6(a,b),le=()=>k8,lf=a=>{let b,c=a[Symbol.iterator]();if(!(b=c.next())||b.done)return k8;{let a=k6(b.value,k8),d=a;for(;(b=c.next())&&!b.done;){let a=k6(b.value,k8);d.tail=a,d=a}return a}},lg=dE(2,(a,b)=>li(b,a)),lh=dE(2,(a,b)=>ld(b,a)),li=dE(2,(a,b)=>{if(la(a))return b;{if(la(b))return a;let c=k6(b.head,a),d=c,e=b.tail;for(;!la(e);){let b=k6(e.head,a);d.tail=b,d=b,e=e.tail}return c}}),lj=((a,b)=>{if(b<=0)return a;if(b>=lc(a))return k8;let c=a,d=0;for(;!la(c)&&d<b;)c=c.tail,d+=1;return c},(a,b,c,d)=>{for(;;)if(la(b))return a;else{if(c(b.head)===d)return lk(a,b,c,d);b=b.tail}}),lk=(a,b,c,d)=>{let e=k6(lo(a),k8),f=lp(a),g=e;for(;f!==b;){let a=k6(lo(f),k8);g.tail=a,g=dF(a),f=dF(f.tail)}let h=b.tail,i=dF(h);for(;!la(h);)if(c(lo(h))!==d)h=h.tail;else{for(;i!==h;){let a=k6(lo(i),k8);g.tail=a,g=a,i=dF(i.tail)}i=dF(h.tail),h=h.tail}return la(i)||(g.tail=i),e},ll=dE(3,(a,b,c)=>{let d=b,e=a;for(;!la(e);)d=c(d,e.head),e=e.tail;return d}),lm=a=>{let b=le(),c=a;for(;!la(c);)b=lh(b,c.head),c=c.tail;return b},ln=((a,b)=>{if(b<=0)return k8;if(b>=lc(a))return a;let c=((...a)=>lf(a))(lo(a)),d=lp(a);for(let a=1;a<b;a++)c=k6(lo(d),c),d=lp(d);return lm(c)},"Expected List to be non-empty"),lo=a=>{if(la(a))throw Error(ln);return a.head},lp=a=>{if(la(a))throw Error(ln);return a.tail},lq=Object.assign(Object.create(Array.prototype),{[el](){return ev(this,eu(this))},[ew](a){return!!Array.isArray(a)&&this.length===a.length&&this.every((b,c)=>ex(b,a[c]))}}),lr=function(){function a(a){a&&Object.assign(this,a)}return a.prototype=e6,a}(),ls=a=>Object.assign(Object.create(e6),a),lt=Symbol.for("effect/DifferChunkPatch");function lu(a){return a}let lv=({...lr.prototype,[lt]:{_Value:lu,_Patch:lu}},Symbol.for("effect/DifferContextPatch"));function lw(a){return a}let lx={...lr.prototype,[lv]:{_Value:lw,_Patch:lw}},ly=Object.create(Object.assign(Object.create(lx),{_tag:"Empty"})),lz=Object.assign(Object.create(lx),{_tag:"AndThen"}),lA=Object.assign(Object.create(lx),{_tag:"AddService"}),lB=(a,b)=>{let c=Object.create(lA);return c.key=a,c.service=b,c},lC=Object.assign(Object.create(lx),{_tag:"RemoveService"}),lD=a=>{let b=Object.create(lC);return b.key=a,b},lE=Object.assign(Object.create(lx),{_tag:"UpdateService"}),lF=(a,b)=>{let c=Object.create(lE);return c.key=a,c.update=b,c},lG=dE(2,(a,b)=>{let c;return(c=Object.create(lz)).first=a,c.second=b,c}),lH=dE(2,(a,b)=>{if("Empty"===a._tag)return b;let c=!1,d=hN(a),e=new Map(b.unsafeMap);for(;h0(d);){let a=h2(d),b=h3(d);switch(a._tag){case"Empty":d=b;break;case"AddService":e.set(a.key,a.service),d=b;break;case"AndThen":d=hX(hX(b,a.second),a.first);break;case"RemoveService":e.delete(a.key),d=b;break;case"UpdateService":e.set(a.key,a.update(e.get(a.key))),c=!0,d=b}}if(!c)return jN(e);let f=new Map;for(let[a]of b.unsafeMap)e.has(a)&&(f.set(a,e.get(a)),e.delete(a));for(let[a,b]of e)f.set(a,b);return jN(f)}),lI=Symbol.for("effect/DifferHashMapPatch");function lJ(a){return a}let lK=({...lr.prototype,[lI]:{_Value:lJ,_Key:lJ,_Patch:lJ}},Symbol.for("effect/DifferHashSetPatch"));function lL(a){return a}let lM={...lr.prototype,[lK]:{_Value:lL,_Key:lL,_Patch:lL}},lN=Object.create(Object.assign(Object.create(lM),{_tag:"Empty"})),lO=Object.assign(Object.create(lM),{_tag:"AndThen"}),lP=Object.assign(Object.create(lM),{_tag:"Add"}),lQ=Object.assign(Object.create(lM),{_tag:"Remove"}),lR=dE(2,(a,b)=>{let c;return(c=Object.create(lO)).first=a,c.second=b,c}),lS=dE(2,(a,b)=>{if("Empty"===a._tag)return b;let c=b,d=hN(a);for(;h0(d);){let a=h2(d),b=h3(d);switch(a._tag){case"Empty":d=b;break;case"AndThen":d=hX(a.first)(hX(a.second)(b));break;case"Add":c=iU(a.value)(c),d=b;break;case"Remove":c=iV(a.value)(c),d=b}}return c}),lT=Symbol.for("effect/DifferOrPatch");function lU(a){return a}let lV={...lr.prototype,[lT]:{_Value:lU,_Key:lU,_Patch:lU}},lW=Object.assign(Object.create(lV),{_tag:"AndThen"}),lX=((a,b)=>{let c;return(c=Object.create(lW)).first=a,c.second=b,c},Symbol.for("effect/DifferReadonlyArrayPatch"));function lY(a){return a}let lZ={...lr.prototype,[lX]:{_Value:lY,_Patch:lY}},l$=Object.create(Object.assign(Object.create(lZ),{_tag:"Empty"})),l_=Object.assign(Object.create(lZ),{_tag:"AndThen"}),l0=Object.assign(Object.create(lZ),{_tag:"Append"}),l1=Object.assign(Object.create(lZ),{_tag:"Slice"}),l2=Object.assign(Object.create(lZ),{_tag:"Update"}),l3=(a,b)=>{let c=Object.create(l2);return c.index=a,c.patch=b,c},l4=dE(2,(a,b)=>{let c;return(c=Object.create(l_)).first=a,c.second=b,c}),l5=dE(3,(a,b,c)=>{if("Empty"===a._tag)return b;let d=b.slice(),e=gP(a);for(;fD(e);){let a=gt(e),b=gw(e);switch(a._tag){case"Empty":e=b;break;case"AndThen":b.unshift(a.first,a.second),e=b;break;case"Append":for(let b of a.values)d.push(b);e=b;break;case"Slice":d=d.slice(a.from,a.until),e=b;break;case"Update":d[a.index]=c.patch(a.patch,d[a.index]),e=b}}return d}),l6={[Symbol.for("effect/Differ")]:{_P:dF,_V:dF},pipe(){return eM(this,arguments)}},l7=a=>{let b=Object.create(l6);return b.empty=a.empty,b.diff=a.diff,b.combine=a.combine,b.patch=a.patch,b},l8=()=>l9((a,b)=>b),l9=a=>l7({empty:dF,combine:(a,b)=>a===dF?b:b===dF?a:c=>b(a(c)),diff:(a,b)=>ex(a,b)?dF:dG(b),patch:(b,c)=>a(c,b(c))}),ma=(a,b)=>(255&a)+((b&a&255)<<8),mb=ma(0,0),mc=dE(2,(a,b)=>ma(255&a&~b,a>>8&255)),md=dE(2,(a,b)=>a|b),me=a=>mj(a,32),mf=dE(2,(a,b)=>a&~b),mg=dE(2,(a,b)=>a|b),mh=a=>mi(a)&&!mm(a),mi=a=>mj(a,1),mj=dE(2,(a,b)=>(a&b)!=0),mk=(...a)=>a.reduce((a,b)=>a|b,0),ml=mk(0),mm=a=>mj(a,16),mn=dE(2,(a,b)=>ma(a^b,b)),mo=dE(2,(a,b)=>a&(~(255&b)>>>0&255|b>>8&255)|255&b&(b>>8&255)),mp=l7({empty:mb,diff:(a,b)=>mn(a,b),combine:(a,b)=>md(b)(a),patch:(a,b)=>mo(b,a)}),mq=(a,b)=>({_tag:"Par",left:a,right:b}),mr=(a,b)=>({_tag:"Seq",left:a,right:b}),ms=a=>{let b=a,c=mA(),d=le(),e=le();for(;;)switch(b._tag){case"Empty":if(la(d))return[c,e];b=d.head,d=d.tail;break;case"Par":d=ld(b.right,d),b=b.left;break;case"Seq":{let a=b.left,c=b.right;switch(a._tag){case"Empty":b=c;break;case"Par":{let d=a.left,e=a.right;b=mq(mr(d,c),mr(e,c));break}case"Seq":b=mr(a.left,mr(a.right,c));break;case"Single":b=a,e=ld(c,e)}break}case"Single":if(c=mB(c,b),la(d))return[c,e];b=d.head,d=d.tail}throw Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},mt=(a,b)=>{if(la(a))return k6(mF(b),k8);if(mD(b))return a;let c=mL(a.head),d=mE(b);return 1===c.length&&1===d.length&&ex(c[0],d[0])?ld(mK(a.head,mF(b)),a.tail):ld(mF(b),a)},mu=Symbol.for("effect/RequestBlock/Entry");class mv{request;result;listeners;ownerId;state;[mu]=mw;constructor(a,b,c,d,e){this.request=a,this.result=b,this.listeners=c,this.ownerId=d,this.state=e}}let mw={_R:a=>a},mx=Symbol.for("effect/RequestBlock/RequestBlockParallel"),my={_R:a=>a};class mz{map;[mx]=my;constructor(a){this.map=a}}let mA=()=>new mz(ir),mB=(a,b)=>new mz(iB(a.map,b.dataSource,a=>fU(f_(a,hW(b.blockedRequest)),()=>hN(b.blockedRequest)))),mC=(a,b)=>new mz(iG(a.map,b.map,(a,b,c)=>iw(a,c,fR(it(a,c),{onNone:()=>b,onSome:a=>h$(b,a)})))),mD=a=>{let b;return(b=a.map)&&ia(b._root)},mE=a=>Array.from(iy(a.map)),mF=a=>mJ(iE(a.map,a=>hN(a))),mG=Symbol.for("effect/RequestBlock/RequestBlockSequential"),mH={_R:a=>a};class mI{map;[mG]=mH;constructor(a){this.map=a}}let mJ=a=>new mI(a),mK=(a,b)=>new mI(iG(b.map,a.map,(a,b,c)=>iw(a,c,fR(it(a,c),{onNone:()=>hL(),onSome:a=>h$(a,b)})))),mL=a=>Array.from(iy(a.map)),mM="Pending",mN="Done",mO=Symbol.for("effect/Deferred"),mP={_E:a=>a,_A:a=>a},mQ=a=>({_tag:mN,effect:a});class mR{self;called=!1;constructor(a){this.self=a}next(a){return this.called?{value:a,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(a){return{value:a,done:!0}}throw(a){throw a}[Symbol.iterator](){return new mR(this.self)}}let mS=(a,b)=>{let c=new mV("Blocked");return c.effect_instruction_i0=a,c.effect_instruction_i1=b,c},mT=Symbol.for("effect/Effect");class mU{patch;op;_op=e$;constructor(a,b){this.patch=a,this.op=b}}class mV{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[mT]=e4;constructor(a){this._op=a}[ew](a){return this===a}[el](){return ev(this,en(this))}pipe(){return eM(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:eB(this.effect_instruction_i0),effect_instruction_i1:eB(this.effect_instruction_i1),effect_instruction_i2:eB(this.effect_instruction_i2)}}toString(){return JSON.stringify(this.toJSON(),null,2)}[eA](){return this.toJSON()}[Symbol.iterator](){return new mR(new eg(this))}}class mW{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[mT]=e4;constructor(a){this._op=a,this._tag=a}[ew](a){return oF(a)&&"Failure"===a._op&&ex(this.effect_instruction_i0,a.effect_instruction_i0)}[el](){return dL(es(this._tag),eo(em(this.effect_instruction_i0)),ev(this))}get cause(){return this.effect_instruction_i0}pipe(){return eM(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return JSON.stringify(this.toJSON(),null,2)}[eA](){return this.toJSON()}[Symbol.iterator](){return new mR(new eg(this))}}class mX{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[mT]=e4;constructor(a){this._op=a,this._tag=a}[ew](a){return oF(a)&&"Success"===a._op&&ex(this.effect_instruction_i0,a.effect_instruction_i0)}[el](){return dL(es(this._tag),eo(em(this.effect_instruction_i0)),ev(this))}get value(){return this.effect_instruction_i0}pipe(){return eM(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:eB(this.value)}}toString(){return JSON.stringify(this.toJSON(),null,2)}[eA](){return this.toJSON()}[Symbol.iterator](){return new mR(new eg(this))}}let mY=a=>{let b=new mV(eY);return b.effect_instruction_i0=a,b},mZ=dE(3,(a,b,c)=>nF(d=>nh(a,a=>nh(nb(nA(()=>d(b(a)))),b=>nA(()=>c(a,b)).pipe(nl({onFailure:a=>{switch(b._tag){case eP:return nd(je(b.effect_instruction_i0,a));case eT:return nd(a)}},onSuccess:()=>b})))))),m$=dE(2,(a,b)=>nh(a,()=>nz(b))),m_=a=>m$(a,void 0),m0=function(){let a=new mV(eO);switch(arguments.length){case 2:a.effect_instruction_i0=arguments[0],a.commit=arguments[1];break;case 3:a.effect_instruction_i0=arguments[0],a.effect_instruction_i1=arguments[1],a.commit=arguments[2];break;case 4:a.effect_instruction_i0=arguments[0],a.effect_instruction_i1=arguments[1],a.effect_instruction_i2=arguments[2],a.commit=arguments[3];break;default:throw Error(ea("you're not supposed to end up here"))}return a},m1=(a,b=k$)=>{let c,d=new mV(eN);return d.effect_instruction_i0=b=>{c=a(b)},d.effect_instruction_i1=b,nw(d,a=>d3(c,mT)?c:nG)},m2=(a,b=k$)=>nA(()=>m1(a,b)),m3=(a,b=k$)=>m0(a,function(){let a,c,d,e;function f(b){a?a(b):void 0===c&&(c=b)}let g=new mV(eN);return g.effect_instruction_i0=b=>{a=b,c&&b(c)},g.effect_instruction_i1=b,1!==this.effect_instruction_i0.length?(e=new AbortController,d=ej(()=>this.effect_instruction_i0(f,e.signal))):d=ej(()=>this.effect_instruction_i0(f)),d||e?nw(g,a=>(e&&e.abort(),d??nG)):g}),m4=dE(2,(a,b)=>{let c=new mV(eQ);return c.effect_instruction_i0=a,c.effect_instruction_i1=b,c}),m5=dE(2,(a,b)=>nm(a,{onFailure:b,onSuccess:nz})),m6=((a,b,c)=>m4(a,a=>{let d=jj(a);switch(d._tag){case"Left":return b(d.left)?c(d.left):nd(a);case"Right":return nd(d.right)}}),Symbol.for("effect/OriginalAnnotation")),m7=(a,b)=>fh(b)?new Proxy(a,{has:(a,b)=>b===jE||b===m6||b in a,get:(c,d)=>d===jE?b.value:d===m6?a:c[d]}):a,m8=a=>!d2(a)||jE in a?nd(jb(a)):mY(b=>nd(jb(m7(a,o6(b))))),m9=a=>ne(()=>jb(new ov(a))),na=a=>nm(a,{onFailure:a=>nz(fr(a)),onSuccess:a=>nz(fs(a))}),nb=a=>nk(a,{onFailure:oK,onSuccess:oQ}),nc=a=>!d2(a)||jE in a?nd(ja(a)):mY(b=>nd(ja(m7(a,o6(b))))),nd=a=>{let b=new mW(eP);return b.effect_instruction_i0=a,b},ne=a=>nh(nB(a),nd),nf=mY(a=>nz(a.id())),ng=a=>mY(b=>a(b.id())),nh=dE(2,(a,b)=>{let c=new mV(eR);return c.effect_instruction_i0=a,c.effect_instruction_i1=b,c}),ni=a=>{let b=new mV("OnStep");return b.effect_instruction_i0=a,b},nj=a=>nh(a,dF),nk=dE(2,(a,b)=>nl(a,{onFailure:a=>nz(b.onFailure(a)),onSuccess:a=>nz(b.onSuccess(a))})),nl=dE(2,(a,b)=>{let c=new mV(eS);return c.effect_instruction_i0=a,c.effect_instruction_i1=b.onFailure,c.effect_instruction_i2=b.onSuccess,c}),nm=dE(2,(a,b)=>nl(a,{onFailure:a=>{if(ji(a).length>0)return nd(ju(a,{onEmpty:i9,onFail:jb,onDie:jb,onInterrupt:jc,onSequential:je,onParallel:jd}));let c=hR(jv(a,hL(),(a,b)=>b._tag===i2?fQ(dL(a,hX(b.error))):fP()));return c.length>0?b.onFailure(h2(c)):nd(a)},onSuccess:b.onSuccess})),nn=dE(2,(a,b)=>nA(()=>{let c=gf(a),d=Array(c.length),e=0;return m$(nI({while:()=>e<c.length,body:()=>b(c[e],e),step:a=>{d[e++]=a}}),d)})),no=dE(2,(a,b)=>nA(()=>{let c=gf(a),d=0;return nI({while:()=>d<c.length,body:()=>b(c[d],d),step:()=>{d++}})})),np=((a=>"boolean"==typeof a[0]||d3(a[0],mT),(a,b)=>d3(a,mT)?nh(a,a=>a?b.onTrue():b.onFalse()):a?b.onTrue():b.onFalse()),a=>nd(jc(a))),nq=a=>{let b=new mV(eV);return b.effect_instruction_i0=ma(1,1),b.effect_instruction_i1=()=>a,b},nr=dE(2,(a,b)=>nF(c=>nh(nb(c(a)),a=>oZ(b,a)))),ns=dE(2,(a,b)=>nh(a,a=>nB(()=>b(a)))),nt=dE(2,(a,b)=>nm(a,{onFailure:a=>nh(nB(()=>b.onFailure(a)),nc),onSuccess:a=>nB(()=>b.onSuccess(a))})),nu=dE(2,(a,b)=>nl(a,{onFailure:a=>{let c=jj(a);switch(c._tag){case"Left":return nh(nB(()=>b(c.left)),nc);case"Right":return nd(c.right)}},onSuccess:nz})),nv=((a,b)=>nv(a,a=>oG(a)?nG:b(a.effect_instruction_i0)),dE(2,(a,b)=>nF(c=>nl(c(a),{onFailure:a=>{let c=oK(a);return nl(b(c),{onFailure:b=>oK(je(a,b)),onSuccess:()=>c})},onSuccess:a=>{let c=oQ(a);return nP(b(c),c)}})))),nw=dE(2,(a,b)=>nv(a,oO({onFailure:a=>jh(a)?m_(b(jv(a,iN(),(a,b)=>b._tag===i3?fQ(dL(a,iU(b.fiberId))):fP()))):nG,onSuccess:()=>nG}))),nx=((a,b)=>nD(a,b,nz),a=>ny(a,dF)),ny=dE(2,(a,b)=>nm(a,{onFailure:a=>m8(b(a)),onSuccess:nz})),nz=((a,b)=>nz(b.runtimeFlags),a=>{let b=new mX(eT);return b.effect_instruction_i0=a,b}),nA=a=>{let b=new mV(eO);return b.commit=a,b},nB=a=>{let b=new mV(eU);return b.effect_instruction_i0=a,b},nC=dE(a=>3===a.length||2===a.length&&!(d2(a[1])&&"onlyEffect"in a[1]),(a,b)=>nh(a,a=>{let c="function"==typeof b?b(a):b;return d3(c,mT)?m$(c,a):(a=>d3(a,"then")&&"function"==typeof a.then)(c)?m1(b=>{c.then(c=>b(nz(a)),a=>b(nc(new oE(a,"An unknown error occurred in Effect.tap"))))}):nz(a)})),nD=dE(3,(a,b,c)=>nl(a,{onFailure:a=>ji(a).length>0?nd(f$(ju(a,{onEmpty:fP(),onFail:a=>fQ(jb(a)),onDie:a=>fQ(jb(a)),onInterrupt:()=>fP(),onSequential:f6(je),onParallel:f6(jd)}))):b(),onSuccess:c})),nE=a=>{let b=new mV(eV);return b.effect_instruction_i0=ma(1,0),b.effect_instruction_i1=()=>a,b},nF=a=>m0(a,function(){let a=new mV(eV);return a.effect_instruction_i0=ma(1,0),a.effect_instruction_i1=a=>mi(a)?ej(()=>this.effect_instruction_i0(nq)):ej(()=>this.effect_instruction_i0(nE)),a}),nG=nz(void 0),nH=dE(2,(a,b)=>nh(b,b=>b?dL(a,ns(fQ)):nz(fP()))),nI=a=>{let b=new mV(eW);return b.effect_instruction_i0=a.while,b.effect_instruction_i1=a.body,b.effect_instruction_i2=a.step,b},nJ=a=>nA(()=>{let b=new mV(eX);return b.effect_instruction_i0=a(),b}),nK=function(){let a=1==arguments.length?arguments[0]:arguments[1].bind(arguments[0]);return nJ(()=>a(dL))},nL=dE(2,(a,b)=>{let c=new mV(eV);return c.effect_instruction_i0=b,c.effect_instruction_i1=()=>a,c}),nM=a=>{let b=new mV(eZ);return void 0!==a?.priority?oi(b,a.priority):b},nN=dE(2,(a,b)=>nh(a,a=>ns(b,b=>[a,b]))),nO=dE(2,(a,b)=>nh(a,a=>m$(b,a))),nP=dE(2,(a,b)=>nh(a,()=>b)),nQ=dE(3,(a,b,c)=>nh(a,a=>ns(b,b=>c(a,b)))),nR=m2(()=>{let a=setInterval(()=>{},0x80000000-1);return nB(()=>clearInterval(a))}),nS=a=>nh(nf,b=>dL(a,nT(b))),nT=dE(2,(a,b)=>nh(a.interruptAsFork(b),()=>a.await)),nU={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return eM(this,arguments)}},nV={_tag:"Warning",syslog:4,label:"WARN",ordinal:3e4,pipe(){return eM(this,arguments)}},nW={_tag:"Info",syslog:6,label:"INFO",ordinal:2e4,pipe(){return eM(this,arguments)}},nX={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return eM(this,arguments)}},nY={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return eM(this,arguments)}},nZ=Symbol.for("effect/FiberRef"),n$={_A:a=>a},n_=a=>mY(b=>oQ(b.getFiberRef(a))),n0=dE(2,(a,b)=>nh(n_(a),b)),n1=dE(2,(a,b)=>n2(a,()=>[void 0,b])),n2=dE(2,(a,b)=>mY(c=>{let[d,e]=b(c.getFiberRef(a));return c.setFiberRef(a,e),nz(d)})),n3=Symbol.for("effect/RequestResolver"),n4={_A:a=>a,_R:a=>a};class n5{runAll;target;[n3]=n4;constructor(a,b){this.runAll=a,this.target=b}[el](){return ev(this,this.target?em(this.target):en(this))}[ew](a){return this.target?n6(a)&&ex(this.target,a.target):this===a}identified(...a){return new n5(this.runAll,hO(a))}pipe(){return eM(this,arguments)}}let n6=a=>d3(a,n3),n7=dE(3,(a,b,c)=>mZ(nO(n_(b),n1(b,c)),()=>a,a=>n1(b,a))),n8=dE(3,(a,b,c)=>n0(b,d=>n7(a,b,c(d)))),n9=(a,b)=>ob(a,{differ:l8(),fork:b?.fork??dF,join:b?.join}),oa=a=>{let b=l7({empty:ly,combine:(a,b)=>lG(b)(a),diff:(a,b)=>((a,b)=>{let c=new Map(a.unsafeMap),d=ly;for(let[a,e]of b.unsafeMap.entries())if(c.has(a)){let b=c.get(a);c.delete(a),ex(b,e)||(d=lG(lF(a,()=>e))(d))}else c.delete(a),d=lG(lB(a,e))(d);for(let[a]of c.entries())d=lG(lD(a))(d);return d})(a,b),patch:(a,b)=>lH(b)(a)});return ob(a,{differ:b,fork:b.empty})},ob=(a,b)=>({...e7,[nZ]:n$,initial:a,commit(){return n_(this)},diff:(a,c)=>b.differ.diff(a,c),combine:(a,c)=>b.differ.combine(a,c),patch:a=>c=>b.differ.patch(a,c),fork:b.fork,join:b.join??((a,b)=>b)}),oc=dS(Symbol.for("effect/FiberRef/currentContext"),()=>oa(jP)),od=dS(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>n9(0)),oe=dS(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>n9(2048)),of=dS(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>n9(ir)),og=dS(Symbol.for("effect/FiberRef/currentLogLevel"),()=>n9(nW)),oh=dS(Symbol.for("effect/FiberRef/currentLogSpan"),()=>n9(le())),oi=dE(2,(a,b)=>n7(a,od,b)),oj=dS(Symbol.for("effect/FiberRef/currentConcurrency"),()=>n9("unbounded")),ok=dS(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>n9(!0)),ol=dS(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>n9(fQ(nX))),om=dS(Symbol.for("effect/FiberRef/versionMismatchErrorLogLevel"),()=>n9(fQ(nV))),on=dS(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>{var a;let b,c;return a=gO(),b=l8(),ob(a,{differ:c=l7({empty:l$,combine:(a,b)=>l4(a,b),diff:(a,c)=>(a=>{var b,c;let d,e,f=0,g=l$;for(;f<a.oldValue.length&&f<a.newValue.length;){let b=a.oldValue[f],c=a.newValue[f],d=a.differ.diff(b,c);ex(d,a.differ.empty)||(g=l4(g,l3(f,d))),f+=1}return f<a.oldValue.length&&(g=l4(g,(b=f,(d=Object.create(l1)).from=0,d.until=b,d))),f<a.newValue.length&&(g=l4(g,(c=gy(f)(a.newValue),(e=Object.create(l0)).values=c,e))),g})({oldValue:a,newValue:c,differ:b}),patch:(a,c)=>l5(a,c,b)}),fork:c.empty})}),oo=dS(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>n9(fP(),{fork:()=>fP(),join:(a,b)=>a})),op=dS(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>n9(i9,{fork:()=>i9,join:(a,b)=>a}));()=>n9(!0),()=>n9(!0);()=>n9(hL());let oq=Symbol.for("effect/Scope"),or=Symbol.for("effect/CloseableScope"),os=function(){class a extends globalThis.Error{commit(){return nc(this)}toJSON(){let a={...this};return this.message&&(a.message=this.message),this.cause&&(a.cause=this.cause),a}[eA](){return this.toString!==globalThis.Error.prototype.toString?this.stack?`${this.toString()}
${this.stack.split("\n").slice(1).join("\n")}`:this.toString():"Bun"in globalThis?jx(ja(this),{renderErrorCause:!0}):this}}return Object.assign(a.prototype,e8),a}(),ot=(a,b)=>{class c extends os{_tag=b}return Object.assign(c.prototype,a),c.prototype.name=b,c},ou=Symbol.for("effect/Cause/errors/RuntimeException"),ov=ot({[ou]:ou},"RuntimeException"),ow=Symbol.for("effect/Cause/errors/InterruptedException"),ox=a=>d3(a,ow),oy=Symbol.for("effect/Cause/errors/IllegalArgument"),oz=ot({[oy]:oy},"IllegalArgumentException"),oA=Symbol.for("effect/Cause/errors/NoSuchElement"),oB=ot({[oA]:oA},"NoSuchElementException"),oC=Symbol.for("effect/Cause/errors/Timeout"),oD=Symbol.for("effect/Cause/errors/UnknownException"),oE=function(){class a extends os{_tag="UnknownException";error;constructor(a,b){super(b??"An unknown error occurred",{cause:a}),this.error=a}}return Object.assign(a.prototype,{[oD]:oD,name:"UnknownException"}),a}(),oF=a=>d3(a,mT)&&"_tag"in a&&("Success"===a._tag||"Failure"===a._tag),oG=a=>"Success"===a._tag,oH=dE(2,(a,b)=>{switch(a._tag){case eP:return oK(a.effect_instruction_i0);case eT:return oQ(b)}}),oI=a=>oH(a,void 0),oJ=(a,b)=>oT(a,b?.parallel?jd:je),oK=a=>{let b=new mW(eP);return b.effect_instruction_i0=a,b},oL=dE(2,(a,b)=>{switch(a._tag){case eP:return oK(a.effect_instruction_i0);case eT:return b(a.effect_instruction_i0)}}),oM=dE(2,(a,b)=>{switch(a._tag){case eP:return nz(oK(a.effect_instruction_i0));case eT:return nb(b(a.effect_instruction_i0))}}),oN=dE(2,(a,b)=>{switch(a._tag){case eP:return oK(a.effect_instruction_i0);case eT:return oQ(b(a.effect_instruction_i0))}}),oO=dE(2,(a,{onFailure:b,onSuccess:c})=>{switch(a._tag){case eP:return b(a.effect_instruction_i0);case eT:return c(a.effect_instruction_i0)}}),oP=dE(2,(a,{onFailure:b,onSuccess:c})=>{switch(a._tag){case eP:return b(a.effect_instruction_i0);case eT:return c(a.effect_instruction_i0)}}),oQ=a=>{let b=new mX(eT);return b.effect_instruction_i0=a,b},oR=oQ(void 0),oS=dE(3,(a,b,{onFailure:c,onSuccess:d})=>{switch(a._tag){case eP:switch(b._tag){case eT:return oK(a.effect_instruction_i0);case eP:return oK(c(a.effect_instruction_i0,b.effect_instruction_i0))}case eT:switch(b._tag){case eT:return oQ(d(a.effect_instruction_i0,b.effect_instruction_i0));case eP:return oK(b.effect_instruction_i0)}}}),oT=(a,b)=>{let c=hO(a);return h0(c)?dL(h3(c),gV(dL(h2(c),oN(hN)),(a,c)=>dL(a,oS(c,{onSuccess:(a,b)=>dL(a,hX(b)),onFailure:b}))),oN(hR),oN(a=>hQ(a)),fQ):fP()},oU=a=>({...e7,[mO]:mP,state:kG({_tag:mM,joiners:[]}),commit(){return oX(this)},blockingOn:a}),oV=()=>nh(nf,a=>oW(a)),oW=a=>nB(()=>oU(a)),oX=a=>m2(b=>{let c=a.state.current;switch(c._tag){case mN:return b(c.effect);case mM:return c.joiners.push(b),o1(a,b)}},a.blockingOn),oY=dE(2,(a,b)=>nB(()=>{let c=a.state.current;switch(c._tag){case mN:return!1;case mM:kI(a.state,mQ(b));for(let a=0,d=c.joiners.length;a<d;a++)c.joiners[a](b);return!0}})),oZ=dE(2,(a,b)=>oY(a,b)),o$=dE(2,(a,b)=>oY(a,nd(b))),o_=dE(2,(a,b)=>oY(a,nz(b))),o0=(a,b)=>{let c=a.state.current;if(c._tag===mM){kI(a.state,mQ(b));for(let a=0,d=c.joiners.length;a<d;a++)c.joiners[a](b)}},o1=(a,b)=>nB(()=>{let c=a.state.current;if(c._tag===mM){let a=c.joiners.indexOf(b);a>=0&&c.joiners.splice(a,1)}}),o2=mY(a=>oQ(a.currentContext)),o3=dE(2,(a,b)=>n7(oc,b)(a)),o4=dE(2,(a,b)=>n8(oc,a=>jW(a,b))(a)),o5=dE(2,(a,b)=>nh(o2,c=>o3(a,b(c)))),o6=((a,b)=>nh(a,a=>nh(b.predicate(a),c=>c?nz(a):b.orElse(a))),a=>{let b=a.currentSpan;return void 0!==b&&"Span"===b._tag?fQ(b):fP()}),o7="InvalidData",o8="MissingData",o9="SourceUnavailable",pa="Unsupported",pb=Symbol.for("effect/ConfigError"),pc={_tag:"ConfigError",[pb]:pb},pd=(a,b)=>{let c=Object.create(pc);return c._op="And",c.left=a,c.right=b,Object.defineProperty(c,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(c,"message",{enumerable:!1,get(){return this.toString()}}),c},pe=(a,b)=>{let c=Object.create(pc);return c._op="Or",c.left=a,c.right=b,Object.defineProperty(c,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(c,"message",{enumerable:!1,get(){return this.toString()}}),c},pf=(a,b,c={pathDelim:"."})=>{let d=Object.create(pc);return d._op=o7,d.path=a,d.message=b,Object.defineProperty(d,"toString",{enumerable:!1,value(){let a=dL(this.path,g_(c.pathDelim));return`(Invalid data at ${a}: "${this.message}")`}}),d},pg=(a,b,c={pathDelim:"."})=>{let d=Object.create(pc);return d._op=o8,d.path=a,d.message=b,Object.defineProperty(d,"toString",{enumerable:!1,value(){let a=dL(this.path,g_(c.pathDelim));return`(Missing data at ${a}: "${this.message}")`}}),d},ph=dE(2,(a,b)=>{switch(a._op){case"And":return pd(ph(a.left,b),ph(a.right,b));case"Or":return pe(ph(a.left,b),ph(a.right,b));case o7:return pf([...b,...a.path],a.message);case o8:return pg([...b,...a.path],a.message);case o9:return((a,b,c,d={pathDelim:"."})=>{let e=Object.create(pc);return e._op=o9,e.path=a,e.message=b,e.cause=c,Object.defineProperty(e,"toString",{enumerable:!1,value(){let a=dL(this.path,g_(d.pathDelim));return`(Source unavailable at ${a}: "${this.message}")`}}),e})([...b,...a.path],a.message,a.cause);case pa:return((a,b,c={pathDelim:"."})=>{let d=Object.create(pc);return d._op=pa,d.path=a,d.message=b,Object.defineProperty(d,"toString",{enumerable:!1,value(){let a=dL(this.path,g_(c.pathDelim));return`(Unsupported operation at ${a}: "${this.message}")`}}),d})([...b,...a.path],a.message)}}),pi=dE(3,(a,b,c)=>{let d=[a],e=[];for(;d.length>0;){let a=d.pop();switch(a._op){case"And":d.push(a.right),d.push(a.left),e.push(fr({_op:"AndCase"}));break;case"Or":d.push(a.right),d.push(a.left),e.push(fr({_op:"OrCase"}));break;case o7:e.push(fs(c.invalidDataCase(b,a.path,a.message)));break;case o8:e.push(fs(c.missingDataCase(b,a.path,a.message)));break;case o9:e.push(fs(c.sourceUnavailableCase(b,a.path,a.message,a.cause)));break;case pa:e.push(fs(c.unsupportedCase(b,a.path,a.message)))}}let f=[];for(;e.length>0;){let a=e.pop();switch(a._op){case"Left":switch(a.left._op){case"AndCase":{let a=f.pop(),d=f.pop(),e=c.andCase(b,a,d);f.push(e);break}case"OrCase":{let a=f.pop(),d=f.pop(),e=c.orCase(b,a,d);f.push(e)}}break;case"Right":f.push(a.right)}}if(0===f.length)throw Error("BUG: ConfigError.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return f.pop()}),pj=Symbol.for("effect/Clock"),pk=jX("effect/Clock"),pl=0x80000000-1,pm={unsafeSchedule(a,b){let c=kn(b);if(c>pl)return dI;let d=!1,e=setTimeout(()=>{d=!0,a()},c);return()=>(clearTimeout(e),!d)}},pn=(k=BigInt(1e6),"u"<typeof performance||"function"!=typeof performance.now?()=>BigInt(Date.now())*k:()=>(void 0===j&&(j=BigInt(Date.now())*k-BigInt(Math.round(1e6*performance.now()))),j+BigInt(Math.round(1e6*performance.now())))),po=function(){let a="object"==typeof process&&"hrtime"in process&&"function"==typeof process.hrtime.bigint?process.hrtime:void 0;if(!a)return pn;let b=pn()-a.bigint();return()=>b+a.bigint()}();class pp{[pj]=pj;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return po()}currentTimeMillis=nB(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=nB(()=>this.unsafeCurrentTimeNanos());scheduler(){return nz(pm)}sleep(a){return m3(b=>m_(nB(pm.unsafeSchedule(()=>b(nG),a))))}}let pq=fN(fF),pr=dE(2,(a,b)=>{let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return parseInt(a.toFixed(e).replace(".",""))%parseInt(b.toFixed(e).replace(".",""))/Math.pow(10,e)}),ps=a=>a.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&"),pt={_tag:"Empty"},pu=dE(2,(a,b)=>({_tag:"AndThen",first:a,second:b})),pv=dE(2,(a,b)=>pu(a,{_tag:"MapName",f:b})),pw=dE(2,(a,b)=>pu(a,{_tag:"Nested",name:b})),px=dE(2,(a,b)=>pu(a,{_tag:"Unnested",name:b})),py=dE(2,(a,b)=>{let c=k6(b,k8),d=a;for(;lb(c);){let a=c.head;switch(a._tag){case"Empty":c=c.tail;break;case"AndThen":c=ld(a.first,ld(a.second,c.tail));break;case"MapName":d=gQ(d,a.f),c=c.tail;break;case"Nested":d=gj(d,a.name),c=c.tail;break;case"Unnested":if(!dL(gs(d),f4(a.name)))return fr(pg(d,`Expected ${a.name} to be in path in ConfigProvider#unnested`));d=gw(d),c=c.tail}}return fs(d)}),pz="Fallback",pA="Lazy",pB="MapOrFail",pC="Nested",pD="Primitive",pE="ZipWith",pF=(a,b)=>[...a,...b],pG=Symbol.for("effect/ConfigProvider"),pH=jX("effect/ConfigProvider"),pI=Symbol.for("effect/ConfigProviderFlat"),pJ=a=>({[pI]:pI,patch:a.patch,load:(b,c,d=!0)=>a.load(b,c,d),enumerateChildren:a.enumerateChildren}),pK=a=>({[pG]:pG,pipe(){return eM(this,arguments)},...{load:b=>nh(pL(a,gO(),b,!1),a=>fR(gs(a),{onNone:()=>nc(pg(gO(),`Expected a single value having structure: ${b}`)),onSome:nz})),flattened:a}}),pL=(a,b,c,d)=>{switch(c._tag){case"Constant":return nz(gP(c.value));case"Described":return nA(()=>pL(a,b,c.config,d));case"Fail":return nc(pg(b,c.message));case pz:return dL(nA(()=>pL(a,b,c.first,d)),m5(e=>c.condition(e)?dL(pL(a,b,c.second,d),m5(a=>nc(pe(e,a)))):nc(e)));case pA:return nA(()=>pL(a,b,c.config(),d));case pB:return nA(()=>dL(pL(a,b,c.original,d),nh(nn(a=>dL(c.mapOrFail(a),nu(ph(((a,b)=>{let c=b;if("Nested"===c._tag){let b=a.slice();for(;"Nested"===c._tag;)b.push(c.name),c=c.config;return b}return a})(b,c.original))))))));case pC:return nA(()=>pL(a,pF(b,gP(c.name)),c.config,d));case pD:return dL(py(b,a.patch),nh(b=>dL(a.load(b,c,d),nh(a=>{if(0===a.length){let a=dL(gu(b),fS(()=>"<n/a>"));return nc(pg([],`Expected ${c.description} with name ${a}`))}return nz(a)}))));case"Sequence":return dL(py(b,a.patch),nh(d=>dL(a.enumerateChildren(d),nh(pP),nh(d=>0===d.length?nA(()=>ns(pL(a,b,c.config,!0),gP)):dL(nn(d,d=>pL(a,gk(b,`[${d}]`),c.config,!0)),ns(a=>{let b=gS(a);return 0===b.length?gP(gO()):gP(b)}))))));case"HashMap":return nA(()=>dL(py(b,a.patch),nh(b=>dL(a.enumerateChildren(b),nh(e=>dL(e,nn(e=>pL(a,pF(b,gP(e)),c.valueConfig,d)),ns(a=>0===a.length?gP(ir):dL(pO(a),gQ(a=>k1(gC(gf(e),a)))))))))));case pE:return nA(()=>dL(pL(a,b,c.left,d),na,nh(e=>dL(pL(a,b,c.right,d),na,nh(a=>{if(fp(e)&&fp(a))return nc(pd(e.left,a.left));if(fp(e)&&fq(a))return nc(e.left);if(fq(e)&&fp(a))return nc(a.left);if(fq(e)&&fq(a)){var d,f;let g,h,i=dL(b,g_(".")),j=pM(b,i),[k,l]=(d=dL(e.right,gQ(fs)),f=dL(a.right,gQ(fs)),g=gX(d.length,a=>a>=f.length?fP():fQ([j(a),a+1])),h=gX(f.length,a=>a>=d.length?fP():fQ([j(a),a+1])),[pF(d,g),pF(f,h)]);return dL(k,gC(l),nn(([a,b])=>dL(nN(a,b),ns(([a,b])=>c.zip(a,b)))))}throw Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},pM=(a,b)=>c=>fr(pg(a,`The element at index ${c} in a sequence at path "${b}" was missing`)),pN=((a,b)=>pK(pJ({load:(b,c)=>a.flattened.load(b,c,!0),enumerateChildren:b=>a.flattened.enumerateChildren(b),patch:pw(a.flattened.patch,b)})),(a,b)=>pJ({load:(c,d,e)=>dL(py(c,a.patch),nh(b=>a.load(b,d,e)),m5(a=>dL(nB(b),nh(b=>dL(py(c,b.patch),nh(a=>b.load(a,d,e)),m5(b=>nc(pe(a,b)))))))),enumerateChildren:c=>dL(py(c,a.patch),nh(b=>a.enumerateChildren(b)),na,nh(a=>dL(nB(b),nh(b=>dL(py(c,b.patch),nh(a=>b.enumerateChildren(a)),na,nh(b=>{if(fp(a)&&fp(b))return nc(pd(a.left,b.left));if(fp(a)&&fq(b))return nz(b.right);if(fq(a)&&fp(b))return nz(a.right);if(fq(a)&&fq(b))return nz(dL(a.right,iX(b.right)));throw Error("BUG: ConfigProvider.orElseFlat - please report an issue at https://github.com/Effect-TS/effect/issues")})))))),patch:pt})),pO=a=>Object.keys(a[0]).map(b=>a.map(a=>a[b])),pP=a=>dL(nn(a,pR),nt({onFailure:()=>gO(),onSuccess:gB(fF)}),na,ns(fz)),pQ=/^(\[(\d+)\])$/,pR=a=>{let b=a.match(pQ);if(null!==b){let a=b[2];return dL(void 0!==a&&a.length>0?fQ(a):fP(),f0(pS))}return fP()},pS=a=>{let b=Number.parseInt(a);return Number.isNaN(b)?fP():fQ(b)},pT=Symbol.for("effect/Console"),pU=jX("effect/Console"),pV={[pT]:pT,assert:(a,...b)=>nB(()=>{console.assert(a,...b)}),clear:nB(()=>{console.clear()}),count:a=>nB(()=>{console.count(a)}),countReset:a=>nB(()=>{console.countReset(a)}),debug:(...a)=>nB(()=>{console.debug(...a)}),dir:(a,b)=>nB(()=>{console.dir(a,b)}),dirxml:(...a)=>nB(()=>{console.dirxml(...a)}),error:(...a)=>nB(()=>{console.error(...a)}),group:a=>a?.collapsed?nB(()=>console.groupCollapsed(a?.label)):nB(()=>console.group(a?.label)),groupEnd:nB(()=>{console.groupEnd()}),info:(...a)=>nB(()=>{console.info(...a)}),log:(...a)=>nB(()=>{console.log(...a)}),table:(a,b)=>nB(()=>{console.table(a,b)}),time:a=>nB(()=>console.time(a)),timeEnd:a=>nB(()=>console.timeEnd(a)),timeLog:(a,...b)=>nB(()=>{console.timeLog(a,...b)}),trace:(...a)=>nB(()=>{console.trace(...a)}),warn:(...a)=>nB(()=>{console.warn(...a)}),unsafe:console},pW=Symbol.for("effect/Random"),pX=jX("effect/Random"),pY=(a,b)=>nA(()=>dL(nB(()=>Array.from(a)),nh(a=>{let c=[];for(let b=a.length;b>=2;b-=1)c.push(b);return dL(c,no(c=>dL(b(c),ns(b=>pZ(a,c-1,b)))),m$(hO(a)))}))),pZ=(a,b,c)=>{let d=a[b];return a[b]=a[c],a[c]=d,a},p$=Symbol.for("effect/Tracer"),p_=jX("effect/Tracer"),p0=jX("effect/ParentSpan"),p1=(m=(l="abcdef0123456789").length,function(a){let b="";for(let c=0;c<a;c++)b+=l.charAt(Math.floor(Math.random()*m));return b});class p2{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(a,b,c,d,e,f){this.name=a,this.parent=b,this.context=c,this.startTime=e,this.kind=f,this.status={_tag:"Started",startTime:e},this.attributes=new Map,this.traceId="Some"===b._tag?b.value.traceId:p1(32),this.spanId=p1(16),this.links=Array.from(d)}end(a,b){this.status={_tag:"Ended",endTime:a,exit:b,startTime:this.status.startTime}}attribute(a,b){this.attributes.set(a,b)}event(a,b,c){this.events.push([a,b,c??{}])}addLinks(a){this.links.push(...a)}}let p3={[p$]:p$,...{span:(a,b,c,d,e,f)=>new p2(a,b,c,d,e,f),context:a=>a()}},p4=jZ()("effect/Tracer/DisablePropagation",{defaultValue:dI}),p5=dL(jP,jR(pk,new pp),jR(pU,pV),jR(pX,new class a{seed;[pW]=pW;PRNG;constructor(a){this.seed=a,this.PRNG=new ed(a)}get next(){return nB(()=>this.PRNG.number())}get nextBoolean(){return ns(this.next,a=>a>.5)}get nextInt(){return nB(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(a,b){return ns(this.next,c=>(b-a)*c+a)}nextIntBetween(a,b){return nB(()=>this.PRNG.integer(b-a)+a)}shuffle(a){return pY(a,a=>this.nextIntBetween(0,a))}}(em(Math.random()))),jR(pH,(a=>{let{pathDelim:b,seqDelim:c}=Object.assign({},{pathDelim:"_",seqDelim:","},a),d=()=>"u">typeof process&&"env"in process&&"object"==typeof process.env?process.env:{};return pK(pJ({load:(a,e,f=!0)=>{let g=dL(a,g_(b)),h=d();return dL(g in h?fQ(h[g]):fP(),nu(()=>pg(a,`Expected ${g} to exist in the process context`)),nh(b=>((a,b,c,d,e)=>e?dL(a.split(RegExp(`\\s*${ps(d)}\\s*`)),nn(a=>c.parse(a.trim())),nu(ph(b))):dL(c.parse(a),nt({onFailure:ph(b),onSuccess:gP})))(b,a,e,c,f)))},enumerateChildren:a=>nB(()=>i$(Object.keys(d()).map(a=>a.toUpperCase().split(b)).filter(b=>{for(let c=0;c<a.length;c++){let d=dL(a,gr(c)),e=b[c];if(void 0===e||d!==e)return!1}return!0}).flatMap(b=>b.slice(a.length,a.length+1)))),patch:pt}))})()),jR(p_,p3)),p6=dS(Symbol.for("effect/DefaultServices/currentServices"),()=>oa(p5)),p7=a=>mY(b=>a(b.currentDefaultServices)),p8=a=>p7(b=>a(b.unsafeMap.get(pk.key))),p9=p8(a=>a.currentTimeMillis),qa=(p7(a=>a.unsafeMap.get(pX.key).next),"effect/Redacted"),qb=dS("effect/Redacted/redactedRegistry",()=>new WeakMap),qc=Symbol.for(qa),qd={[qc]:{_A:a=>a},pipe(){return eM(this,arguments)},toString:()=>"<redacted>",toJSON:()=>"<redacted>",[eA]:()=>"<redacted>",[el](){return dL(em(qa),eo(em(qb.get(this))),ev(this))},[ew](a){return qe(a)&&ex(qb.get(this),qb.get(a))}},qe=a=>d3(a,qc),qf=Symbol.for("effect/Secret");({...qd,[qf]:qf});let qg=Symbol.for("effect/Config"),qh={...e7,[qg]:{_A:a=>a},commit(){var a;let b;return a=this,b=b=>b.load(a),p7(a=>b(a.unsafeMap.get(pH.key)))}},qi=((a,b)=>qi(a,a=>fs(b(a))),dE(2,(a,b)=>{let c=Object.create(qh);return c._tag=pB,c.original=a,c.mapOrFail=b,c})),qj=dE(2,(a,b)=>{let c=Object.create(qh);return c._tag=pC,c.name=b,c.config=a,c}),qk=((a,b)=>{let c=Object.create(qh);return c._tag=pz,c.first=a,c.second=qk(b.orElse),c.condition=b.if,c},a=>{let b=Object.create(qh);return b._tag=pA,b.config=a,b}),ql=((a,b,c)=>{let d=Object.create(qh);return d._tag=pE,d.left=a,d.right=b,d.zip=c,d},lr),qm=(n=Symbol.for("effect/Data/Error/plainArgs"),({BaseEffectError:class extends os{constructor(a){super(a?.message,a?.cause?{cause:a.cause}:void 0),a&&(Object.assign(this,a),Object.defineProperty(this,n,{value:a,enumerable:!1}))}toJSON(){return{...this[n],...this}}}}).BaseEffectError),qn=a=>{let b=class extends qm{_tag=a};return b.prototype.name=a,b},qo=e9;class qp extends qo{}let qq="Sequential",qr="Parallel",qs={_tag:qq},qt={_tag:qr},qu=a=>({_tag:"ParallelN",parallelism:a}),qv=Symbol.for("effect/FiberRefs");class qw{locals;[qv]=qv;constructor(a){this.locals=a}pipe(){return eM(this,arguments)}}let qx=dE(3,(a,b,c)=>{let d=new Map(a.locals);return c.locals.forEach((a,c)=>{let e=a[0][1];if(!a[0][0][ew](b)){if(!d.has(c)){if(ex(e,c.initial))return;d.set(c,[[b,c.join(c.initial,e)]]);return}let f=d.get(c),[g,h]=((a,b,c,d=!1)=>{let e,f=b,g=c,h=d;for(;void 0===e;)if(gn(f)&&gn(g)){let a=gt(f)[0],b=gw(f),c=gt(g)[0],d=gt(g)[1],i=gw(g);a.startTimeMillis<c.startTimeMillis?(g=i,h=!0):a.startTimeMillis>c.startTimeMillis?f=b:a.id<c.id?(g=i,h=!0):a.id>c.id?f=b:e=[d,h]}else e=[a.initial,!0];return e})(c,f,a);if(h){let a=c.diff(g,e),h=f[0][1],i=c.join(h,c.patch(a)(h));if(!ex(h,i)){let a,e=f[0][0];a=e[ew](b)?[[e,i],...f.slice(1)]:[[b,i],...f],d.set(c,a)}}}}),new qw(d)}),qy=dE(2,(a,b)=>{let c=new Map;return qz(a,c,b),new qw(c)}),qz=(a,b,c)=>{a.locals.forEach((a,d)=>{let e=a[0][1],f=d.patch(d.fork)(e);ex(e,f)?b.set(d,a):b.set(d,[[c,f],...a])})},qA=dE(2,(a,b)=>{let c=new Map(a.locals);return c.delete(b),new qw(c)}),qB=dE(2,(a,b)=>a.locals.has(b)?fQ(gt(a.locals.get(b))[1]):fP()),qC=dE(2,(a,b)=>dL(qB(a,b),fS(()=>b.initial))),qD=dE(2,(a,{fiberId:b,fiberRef:c,value:d})=>{if(0===a.locals.size)return new qw(new Map([[c,[[b,d]]]]));let e=new Map(a.locals);return qE(e,b,c,d),new qw(e)}),qE=(a,b,c,d)=>{let e,f=a.get(c)??[];if(gn(f)){let[a,c]=gt(f);if(a[ew](b))if(ex(c,d))return;else e=[[b,d],...f.slice(1)];else e=[[b,d],...f]}else e=[[b,d]];a.set(c,e)},qF=dE(2,(a,{entries:b,forkAs:c})=>{if(0===a.locals.size)return new qw(new Map(b));let d=new Map(a.locals);return void 0!==c&&qz(a,d,c),b.forEach(([a,b])=>{1===b.length?qE(d,b[0][0],a,b[0][1]):b.forEach(([b,c])=>{qE(d,b,a,c)})}),new qw(d)}),qG="Empty",qH="Remove",qI="Update",qJ="AndThen",qK={_tag:qG},qL=(a,b)=>{let c=new Map(a.locals),d=qK;for(let[a,e]of b.locals.entries()){let b=gt(e)[1],f=c.get(a);if(void 0!==f){let c=gt(f)[1];ex(c,b)||(d=qM({_tag:qI,fiberRef:a,patch:a.diff(c,b)})(d))}else d=qM({_tag:"Add",fiberRef:a,value:b})(d);c.delete(a)}for(let[a]of c.entries())d=qM({_tag:qH,fiberRef:a})(d);return d},qM=dE(2,(a,b)=>({_tag:qJ,first:a,second:b})),qN=dE(3,(a,b,c)=>{let d=c,e=gP(a);for(;gn(e);){let a=gt(e),c=gw(e);switch(a._tag){case qG:e=c;break;case"Add":d=qD(d,{fiberId:b,fiberRef:a.fiberRef,value:a.value}),e=c;break;case qH:d=qA(d,a.fiberRef),e=c;break;case qI:{let f=qC(d,a.fiberRef);d=qD(d,{fiberId:b,fiberRef:a.fiberRef,value:a.fiberRef.patch(a.patch)(f)}),e=c;break}case qJ:e=gj(a.first)(gj(a.second)(c))}}return d}),qO="effect/FiberStatus",qP=Symbol.for(qO),qQ="Done",qR="Running",qS="Suspended",qT=es(`${qO}-${qQ}`);class qU{runtimeFlags;[qP]=qP;_tag=qR;constructor(a){this.runtimeFlags=a}[el](){return dL(em(qO),eo(em(this._tag)),eo(em(this.runtimeFlags)),ev(this))}[ew](a){return qX(a)&&a._tag===qR&&this.runtimeFlags===a.runtimeFlags}}class qV{runtimeFlags;blockingOn;[qP]=qP;_tag=qS;constructor(a,b){this.runtimeFlags=a,this.blockingOn=b}[el](){return dL(em(qO),eo(em(this._tag)),eo(em(this.runtimeFlags)),eo(em(this.blockingOn)),ev(this))}[ew](a){return qX(a)&&a._tag===qS&&this.runtimeFlags===a.runtimeFlags&&ex(this.blockingOn,a.blockingOn)}}let qW=new class{[qP]=qP;_tag=qQ;[el](){return qT}[ew](a){return qX(a)&&a._tag===qQ}},qX=a=>d3(a,qP),qY=a=>new qU(a),qZ={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:5e4,pipe(){return eM(this,arguments)}},q$={_tag:"Error",syslog:3,label:"ERROR",ordinal:4e4,pipe(){return eM(this,arguments)}},q_={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return eM(this,arguments)}},q0=fJ(dL(fF,fH(a=>a.ordinal))),q1=Symbol.for("effect/Micro"),q2=Symbol.for("effect/Micro/MicroExit"),q3=a=>"object"==typeof a&&null!==a&&q1 in a,q4=Symbol.for("effect/Micro/MicroCause"),q5={_E:dF};class q6 extends globalThis.Error{_tag;traces;[q4];constructor(a,b,c){let d,e,f;const g=`MicroCause.${a}`;if(b instanceof globalThis.Error){d=`(${g}) ${b.name}`;const a=(e=b.message).split("\n").length;f=b.stack?`(${g}) ${b.stack.split("\n").slice(0,a+3).join("\n")}`:`${d}: ${e}`}else d=g,e=eG(b,0),f=`${d}: ${e}`;c.length>0&&(f+=`
    ${c.join("\n    ")}`),super(e),this._tag=a,this.traces=c,this[q4]=q5,this.name=d,this.stack=f}pipe(){return eM(this,arguments)}toString(){return this.stack}[eA](){return this.stack}}class q7 extends q6{error;constructor(a,b=[]){super("Fail",a,b),this.error=a}}class q8 extends q6{defect;constructor(a,b=[]){super("Die",a,b),this.defect=a}}class q9 extends q6{constructor(a=[]){super("Interrupt","interrupted",a)}}let ra=a=>"Fail"===a._tag,rb=a=>"Interrupt"===a._tag,rc=Symbol.for("effect/Micro/MicroFiber"),rd={_A:dF,_E:dF};class re{context;interruptible;[rc];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(a,b=!0){this.context=a,this.interruptible=b,this[rc]=rd}getRef(a){let b;return b=this.context,b.unsafeMap.has(a.key)?b.unsafeMap.get(a.key):jT(a)}addObserver(a){return this._exit?(a(this._exit),dK):(this._observers.push(a),()=>{let b=this._observers.indexOf(a);b>=0&&this._observers.splice(b,1)})}_interrupted=!1;unsafeInterrupt(){!this._exit&&(this._interrupted=!0,this.interruptible&&this.evaluate(rN))}unsafePoll(){return this._exit}evaluate(a){if(this._exit)return;if(void 0!==this._yielded){let a=this._yielded;this._yielded=void 0,a()}let b=this.runLoop(a);if(b===rn)return;let c=rf.interruptChildren&&rf.interruptChildren(this);if(void 0!==c)return this.evaluate(rH(c,()=>b));this._exit=b;for(let a=0;a<this._observers.length;a++)this._observers[a](b);this._observers.length=0}runLoop(a){let b=!1,c=a;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!b&&this.getRef(rX).shouldYield(this)){b=!0;let a=c;c=rH(rx,()=>a)}if((c=c[rj](this))===rn){let a=this._yielded;if(q2 in a)return this._yielded=void 0,a;return rn}}}catch(a){if(!d3(c,rj))return rO(`MicroFiber.runLoop: Not a valid effect: ${String(c)}`);return rO(a)}}getCont(a){for(;;){let b=this._stack.pop();if(!b)return;let c=b[rm]&&b[rm](this);if(c)return{[a]:c};if(b[a])return b}}_yielded=void 0;yieldWith(a){return this._yielded=a,rn}children(){return this._children??=new Set}}let rf=dS("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),rg=a=>rw(()=>{for(let b of a)b.unsafeInterrupt();let b=a[Symbol.iterator](),c=rw(()=>{let a=b.next();for(;!a.done;){if(a.value.unsafePoll()){a=b.next();continue}let d=a.value;return rC(a=>{d.addObserver(b=>{a(c)})})}return rP});return c}),rh=Symbol.for("effect/Micro/identifier"),ri=Symbol.for("effect/Micro/args"),rj=Symbol.for("effect/Micro/evaluate"),rk=Symbol.for("effect/Micro/successCont"),rl=Symbol.for("effect/Micro/failureCont"),rm=Symbol.for("effect/Micro/ensureCont"),rn=Symbol.for("effect/Micro/Yield"),ro={...e5,_op:"Micro",[q1]:{_A:dF,_E:dF,_R:dF},pipe(){return eM(this,arguments)},[Symbol.iterator](){return new ec(new eg(this))},toJSON(){return{_id:"Micro",op:this[rh],...ri in this?{args:this[ri]}:void 0}},toString(){return JSON.stringify(this,null,2)},[eA](){return JSON.stringify(this,null,2)}};function rp(a){return rO("Micro.evaluate: Not implemented")}let rq=a=>({...ro,[rh]:a.op,[rj]:a.eval??rp,[rk]:a.contA,[rl]:a.contE,[rm]:a.ensure}),rr=a=>{let b=rq(a);return function(){let c=Object.create(b);return c[ri]=!1===a.single?arguments:arguments[0],c}},rs=a=>{let b={...rq(a),[q2]:q2,_tag:a.op,get[a.prop](){return this[ri]},toJSON(){return{_id:"MicroExit",_tag:a.op,[a.prop]:this[ri]}},[ew](b){return rK(b)&&b._tag===a.op&&ex(this[ri],b[ri])},[el](){return ev(this,eo(es(a.op))(em(this[ri])))}};return function(a){let c=Object.create(b);return c[ri]=a,c[rk]=void 0,c[rl]=void 0,c[rm]=void 0,c}},rt=rs({op:"Success",prop:"value",eval(a){let b=a.getCont(rk);return b?b[rk](this[ri],a):a.yieldWith(this)}}),ru=rs({op:"Failure",prop:"cause",eval(a){let b=a.getCont(rl);for(;rb(this[ri])&&b&&a.interruptible;)b=a.getCont(rl);return b?b[rl](this[ri],a):a.yieldWith(this)}}),rv=rr({op:"Sync",eval(a){let b=this[ri](),c=a.getCont(rk);return c?c[rk](b,a):a.yieldWith(rL(b))}}),rw=rr({op:"Suspend",eval(a){return this[ri]()}}),rx=rr({op:"Yield",eval(a){let b=!1;return a.getRef(rX).scheduleTask(()=>{b||a.evaluate(rP)},this[ri]??0),a.yieldWith(()=>{b=!0})}})(0),ry=rt(void 0),rz=rr({op:"WithMicroFiber",eval(a){return this[ri](a)}}),rA=rr({op:"Async",single:!1,eval(a){let b=this[ri][0],c=!1,d=!1,e=this[ri][1]?new AbortController:void 0,f=b(b=>{c||(c=!0,d?a.evaluate(b):d=b)},e?.signal);return!1!==d?d:(d=!0,a._yielded=()=>{c=!0},void 0===e&&void 0===f||a._stack.push(rB(()=>(c=!0,e?.abort(),f??rP))),rn)}}),rB=rr({op:"AsyncFinalizer",ensure(a){a.interruptible&&(a.interruptible=!1,a._stack.push(r6(!0)))},contE(a,b){return rb(a)?rH(this[ri](),()=>ru(a)):ru(a)}}),rC=a=>rA(a,a.length>=2),rD=dE(2,(a,b)=>rJ(a,a=>b)),rE=dE(2,(a,b)=>rH(a,a=>{let c=q3(b)?b:"function"==typeof b?b(a):b;return q3(c)?c:rt(c)})),rF=((a,b)=>rH(a,a=>{let c=q3(b)?b:"function"==typeof b?b(a):b;return q3(c)?rD(c,a):rt(a)}),a=>r1(a,{onFailure:rM,onSuccess:rL})),rG=dE(2,(a,b)=>{let c;return c=[a,b],rz(a=>rC(b=>{let d=!1,e=new Set,f=a=>{d=!0,b(0===e.size?a:rH(rg(e),()=>a))};for(let b of c){if(d)break;let c=sc(a,r7(b),!0,!0);e.add(c),c.addObserver(a=>{e.delete(c),f(a)})}return rg(e)}))}),rH=dE(2,(a,b)=>{let c=Object.create(rI);return c[ri]=a,c[rk]=b,c}),rI=rq({op:"OnSuccess",eval(a){return a._stack.push(this),this[ri]}}),rJ=dE(2,(a,b)=>rH(a,a=>rt(b(a)))),rK=a=>d3(a,q2),rL=rt,rM=ru,rN=rM(((a=[])=>new q9(a))()),rO=a=>rM(((a,b=[])=>new q8(a,b))(a)),rP=rL(void 0),rQ=a=>{for(let b of a)if("Failure"===b._tag)return b;return rP},rR="setImmediate"in globalThis?globalThis.setImmediate:a=>setTimeout(a,0);class rS{tasks=[];running=!1;scheduleTask(a,b){this.tasks.push(a),this.running||(this.running=!0,rR(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let a=this.tasks;this.tasks=[];for(let b=0,c=a.length;b<c;b++)a[b]()}shouldYield(a){return a.currentOpCount>=a.getRef(rV)}flush(){for(;this.tasks.length>0;)this.runTasks()}}let rT=dE(2,(a,b)=>rz(c=>{let d=c.context;return c.context=b(d),r5(a,()=>(c.context=d,ry))})),rU=dE(2,(a,b)=>rT(a,jW(b)));(a,b,c)=>rT(a,jR(b,c));class rV extends jZ()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class rW extends jZ()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){}class rX extends jZ()("effect/Micro/currentScheduler",{defaultValue:()=>new rS}){}a=>q3(a[1]),(a,b)=>Array.from({length:b},()=>a);let rY=dE(2,(a,b)=>{let c=Object.create(rZ);return c[ri]=a,c[rl]=b,c}),rZ=rq({op:"OnFailure",eval(a){return a._stack.push(this),this[ri]}}),r$=dE(3,(a,b,c)=>rY(a,a=>b(a)?c(a):ru(a))),r_=((a,b)=>r$(a,ra,a=>b(a.error)),dE(2,(a,b)=>{let c=Object.create(r0);return c[ri]=a,c[rk]=b.onSuccess,c[rl]=b.onFailure,c})),r0=rq({op:"OnSuccessAndFailure",eval(a){return a._stack.push(this),this[ri]}}),r1=dE(2,(a,b)=>r_(a,{onFailure:a=>rv(()=>b.onFailure(a)),onSuccess:a=>rv(()=>b.onSuccess(a))})),r2=((a,b)=>r_(a,{onFailure:a=>"Fail"===a._tag?b.onFailure(a.error):ru(a),onSuccess:b.onSuccess}),a=>rC(b=>{let c=setTimeout(()=>{b(ry)},a);return rv(()=>{clearTimeout(c)})})),r3=((a,b)=>rG(a,rE(r7(r2(b.duration)),b.onTimeout)),Symbol.for("effect/Micro/MicroScope"));class r4{[r3];state={_tag:"Open",finalizers:new Set};constructor(){this[r3]=r3}unsafeAddFinalizer(a){"Open"===this.state._tag&&this.state.finalizers.add(a)}addFinalizer(a){return rw(()=>"Open"===this.state._tag?(this.state.finalizers.add(a),ry):a(this.state.exit))}unsafeRemoveFinalizer(a){"Open"===this.state._tag&&this.state.finalizers.delete(a)}close(a){return rw(()=>{if("Open"===this.state._tag){let b=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:a},rH(sb(b,b=>rF(b(a))),rQ)}return ry})}get fork(){return rv(()=>{let a=new r4;if("Closed"===this.state._tag)return a.state=this.state,a;function b(b){return a.close(b)}return this.state.finalizers.add(b),a.unsafeAddFinalizer(a=>rv(()=>this.unsafeRemoveFinalizer(b))),a})}}let r5=dE(2,(a,b)=>r8(c=>r_(c(a),{onFailure:a=>rH(b(rM(a)),()=>ru(a)),onSuccess:a=>rH(b(rL(a)),()=>rt(a))}))),r6=((a,b,c)=>r5(a,a=>b(a)?c(a):rP),rr({op:"SetInterruptible",ensure(a){if(a.interruptible=this[ri],a._interrupted&&a.interruptible)return()=>rN}})),r7=a=>rz(b=>b.interruptible?a:(b.interruptible=!0,b._stack.push(r6(!1)),b._interrupted)?rN:a),r8=a=>rz(b=>b.interruptible?(b.interruptible=!1,b._stack.push(r6(!0)),a(r7)):a(dF)),r9=(a,b)=>Array.isArray(a)||d8(a)?sb(a,dF,b):b?.discard?sb(Object.values(a),dF,b):rw(()=>{let c={};return rD(sb(Object.entries(a),([a,b])=>rJ(b,b=>{c[a]=b}),{discard:!0,concurrency:b?.concurrency}),c)}),sa=rr({op:"While",contA(a,b){return(this[ri].step(a),this[ri].while())?(b._stack.push(this),this[ri].body()):rP},eval(a){return this[ri].while()?(a._stack.push(this),this[ri].body()):rP}}),sb=(a,b,c)=>rz(d=>{let e=c?.concurrency==="inherit"?d.getRef(rW):c?.concurrency??1,f="unbounded"===e?1/0:Math.max(1,e),g=gf(a),h=g.length;if(0===h)return c?.discard?ry:rt([]);let i=c?.discard?void 0:Array(h),j=0;return 1===f?rD(sa({while:()=>j<g.length,body:()=>b(g[j],j),step:i?a=>i[j++]=a:a=>j++}),i):rC(a=>{let c,e=new Set,k=0,l=0,m=!1,n=!1;return!function o(){for(m=!0;k<f&&j<h;){let p=j,q=g[p];j++,k++;try{let g=sc(d,b(q,p),!0,!0);e.add(g),g.addObserver(b=>{e.delete(g),n||("Failure"===b._tag?void 0===c&&(c=b,h=j,e.forEach(a=>a.unsafeInterrupt())):void 0!==i&&(i[p]=b.value),l++,k--,l===h?a(c??rt(i)):!m&&k<f&&o())})}catch(a){c=rO(a),h=j,e.forEach(a=>a.unsafeInterrupt())}}m=!1}(),rw(()=>(n=!0,j=h,rg(e)))})}),sc=(a,b,c=!1,d=!1)=>{let e=new re(a.context,a.interruptible);return d||(a.children().add(e),e.addObserver(()=>a.children().delete(e))),c?e.evaluate(b):a.getRef(rX).scheduleTask(()=>e.evaluate(b),0),e},sd=function(){class a extends globalThis.Error{}return Object.assign(a.prototype,ro,e6,{[rh]:"Failure",[rj](){return ru(((a,b=[])=>new q7(a,b))(this))},toString(){return this.message?`${this.name}: ${this.message}`:this.name},toJSON(){return{...this}},[eA](){let a=this.stack;return a?`${this.toString()}
${a.split("\n").slice(1).join("\n")}`:this.toString()}}),a}(),se=class extends sd{constructor(a){super(),a&&Object.assign(this,a)}},sf=a=>{class b extends se{_tag=a}return b.prototype.name=a,b},sg=Symbol.for("effect/Readable"),sh=Symbol.for("effect/Ref"),si={_A:a=>a};class sj extends qp{ref;commit(){return this.get}[sh]=si;[sg]=sg;constructor(a){super(),this.ref=a,this.get=nB(()=>this.ref.current)}get;modify(a){return nB(()=>{let b=this.ref.current,[c,d]=a(b);return b!==d&&kI(d)(this.ref),c})}}let sk=a=>new sj(kG(a)),sl=a=>nB(()=>sk(a)),sm=dE(2,(a,b)=>a.modify(()=>[void 0,b])),sn=dE(2,(a,b)=>a.modify(b)),so=dE(2,(a,b)=>a.modify(a=>[void 0,b(a)]));class sp{buckets=[];scheduleTask(a,b){let c,d=this.buckets.length,e=0;for(;e<d;e++)if(this.buckets[e][0]<=b)c=this.buckets[e];else break;c&&c[0]===b?c[1].push(a):e===d?this.buckets.push([b,[a]]):this.buckets.splice(e,0,[b,[a]])}}class sq{maxNextTickBeforeTimer;running=!1;tasks=new sp;constructor(a){this.maxNextTickBeforeTimer=a}starveInternal(a){let b=this.tasks.buckets;for(let[a,c]of(this.tasks.buckets=[],b))for(let a=0;a<c.length;a++)c[a]();0===this.tasks.buckets.length?this.running=!1:this.starve(a)}starve(a=0){a>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(a+1))}shouldYield(a){return a.currentOpCount>a.getFiberRef(oe)&&a.getFiberRef(od)}scheduleTask(a,b){this.tasks.scheduleTask(a,b),this.running||(this.running=!0,this.starve())}}let sr=dS(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new sq(2048));class ss{tasks=new sp;deferred=!1;scheduleTask(a,b){this.deferred?sr.scheduleTask(a,b):this.tasks.scheduleTask(a,b)}shouldYield(a){return a.currentOpCount>a.getFiberRef(oe)&&a.getFiberRef(od)}flush(){for(;this.tasks.buckets.length>0;){let a=this.tasks.buckets;for(let[b,c]of(this.tasks.buckets=[],a))for(let a=0;a<c.length;a++)c[a]()}this.deferred=!0}}let st=dS(Symbol.for("effect/FiberRef/currentScheduler"),()=>n9(sr)),su=dS(Symbol.for("effect/FiberRef/currentRequestMap"),()=>n9(new Map)),sv=(a,b,c,d)=>{switch(a){case void 0:return b();case"unbounded":return c();case"inherit":return n0(oj,a=>"unbounded"===a?c():a>1?d(a):b());default:return a>1?d(a):b()}},sw=a=>{let b=j6(a);return p8(a=>a.sleep(b))},sx=a=>a.replace(/[\s="]/g,"_"),sy=a=>b=>{let c=sx(b.label);return`${c}=${a-b.startTime}ms`},sz="effect/MetricLabel",sA=Symbol.for(sz);class sB{key;value;[sA]=sA;_hash;constructor(a,b){this.key=a,this.value=b,this._hash=es(sz+this.key+this.value)}[el](){return this._hash}[ew](a){return sC(a)&&this.key===a.key&&this.value===a.value}pipe(){return eM(this,arguments)}}let sC=a=>d3(a,sA),sD=((a,b,c)=>nh(a,a=>b(a)?nz(a):c(a)),mY(a=>nz(a.getFiberRefs()))),sE=dE(2,(a,b)=>nl(a,{onFailure:a=>ne(()=>b(a)),onSuccess:nz})),sF=dE(3,(a,b,c)=>nh(o2,d=>o3(a,jR(d,b,c)))),sG=dE(3,(a,b,c)=>{let d;return d=d=>nh(c,c=>o3(a,dL(d,jR(b,c)))),nh(o2,d)}),sH=nz(fP()),sI=dE(3,(a,b,c)=>nh(b,d=>nh(a,a=>ns(b,b=>[c(d,b),a])))),sJ=dE(2,(a,b)=>m4(a,a=>fR(ju(a,{onEmpty:fP(),onFail:()=>fP(),onDie:a=>fQ(jb(a)),onInterrupt:()=>fP(),onSequential:f6(je),onParallel:f6(jd)}),{onNone:()=>nd(a),onSome:c=>nP(b(c),nd(a))}))),sK=dE(2,(a,b)=>nl(a,{onFailure:a=>{let c=jj(a);switch(c._tag){case"Left":return nP(b(c.left),nd(a));case"Right":return nd(a)}},onSuccess:nz})),sL=dE(2,(a,b)=>nA(()=>b()?ns(a,fQ):nz(fP()))),sM=f0(a=>jU(a.context,p4)?"Span"===a._tag?sM(a.parent):fP():fQ(a)),sN="InterruptSignal",sO="Stateful",sP="Resume",sQ="YieldNow",sR=a=>({_tag:sN,cause:a}),sS=a=>({_tag:sO,onFiber:a}),sT=a=>({_tag:sP,effect:a}),sU=()=>({_tag:sQ}),sV=Symbol.for("effect/FiberScope");class sW{[sV]=sV;fiberId=k$;roots=new Set;add(a,b){this.roots.add(b),b.addObserver(()=>{this.roots.delete(b)})}}class sX{fiberId;parent;[sV]=sV;constructor(a,b){this.fiberId=a,this.parent=b}add(a,b){this.parent.tell(sS(a=>{a.addChild(b),b.addObserver(()=>{a.removeChild(b)})}))}}let sY=dS(Symbol.for("effect/FiberScope/Global"),()=>new sW),sZ=Symbol.for("effect/Fiber"),s$={_E:a=>a,_A:a=>a},s_={[sZ]:s$,pipe(){return eM(this,arguments)}},s0=Symbol.for("effect/Fiber"),s1=a=>nO(nj(a.await),a.inheritAll),s2=((a,b)=>s2(a,a=>nB(()=>b(a))),dE(2,(a,b)=>({...e7,commit(){return s1(this)},...s_,id:()=>a.id(),await:nh(a.await,oM(b)),children:a.children,inheritAll:a.inheritAll,poll:nh(a.poll,a=>{switch(a._tag){case"None":return nz(fP());case"Some":return dL(oM(a.value,b),ns(fQ))}}),interruptAsFork:b=>a.interruptAsFork(b)})));({...e7,commit(){return s1(this)},...s_,id:()=>k$,await:nR,children:nz([]),inheritAll:nR,poll:nz(fP()),interruptAsFork:()=>nR}),(a,b)=>({...e7,commit(){return s1(this)},...s_,id:()=>kV(a.id(),b.id()),await:nQ(a.await,b.await,(a,b)=>oG(a)?a:b),children:a.children,inheritAll:nP(b.inheritAll,a.inheritAll),poll:nQ(a.poll,b.poll,(a,b)=>{switch(a._tag){case"None":return fP();case"Some":return oG(a.value)?a:b}}),interruptAsFork:c=>dL(nT(a,c),nP(dL(b,nT(c))),m_)});let s3="effect/FiberCurrent",s4=Symbol.for("effect/Logger"),s5={_Message:a=>a,_Output:a=>a},s6=a=>({[s4]:s5,log:a,pipe(){return eM(this,arguments)}}),s7=dE(2,(a,b)=>s6(c=>b(a.log(c)))),s8=((a,b)=>s6(c=>[a.log(c),b.log(c)]),/^[^\s"=]*$/),s9=(a,b)=>({annotations:c,cause:d,date:e,fiberId:f,logLevel:g,message:h,spans:i})=>{let j=b=>b.match(s8)?b:a(b),k=(a,b)=>`${sx(a)}=${j(b)}`,l=(a,b)=>" "+k(a,b),m=k("timestamp",e.toISOString());m+=l("level",g.label),m+=l("fiber",kY(f));let n=gg(h);for(let a=0;a<n.length;a++)m+=l("message",eG(n[a],b));for(let a of(d._tag!==i1&&(m+=l("cause",jx(d,{renderErrorCause:!0}))),i))m+=" "+sy(e.getTime())(a);for(let[a,d]of c)m+=l(a,eG(d,b));return m},ta=s6(s9(a=>`"${a.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)),tb=(JSON.stringify,s6(({annotations:a,cause:b,date:c,fiberId:d,logLevel:e,message:f,spans:g})=>{let h=c.getTime(),i={},j={};if(a._size>0)for(let[b,c]of a)i[b]=tc(c);if(lb(g))for(let a of g)j[a.label]=h-a.startTime;let k=gg(f);return{message:1===k.length?tc(k[0]):k.map(tc),logLevel:e.label,timestamp:c.toISOString(),cause:jg(b)?void 0:jx(b,{renderErrorCause:!0}),annotations:i,spans:j,fiberId:kY(d)}})),tc=a=>{switch(typeof a){case"bigint":case"function":case"symbol":return String(a);default:return eB(a)}},td=(a,...b)=>{let c="";for(let a=0;a<b.length;a++)c+=`\x1b[${b[a]}m`;return c+a+"\x1b[0m"},te=(a,...b)=>a,tf={None:[],All:[],Trace:["90"],Debug:["34"],Info:["32"],Warning:["33"],Error:["31"],Fatal:["101","30"]},tg={None:"",All:"",Trace:"color:gray",Debug:"color:blue",Info:"color:green",Warning:"color:orange",Error:"color:red",Fatal:"background-color:red;color:white"},th=a=>`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}:${a.getSeconds().toString().padStart(2,"0")}.${a.getMilliseconds().toString().padStart(3,"0")}`,ti="object"==typeof process&&null!==process&&"object"==typeof process.stdout&&null!==process.stdout,tj=ti&&!0===process.stdout.isTTY,tk=ti||"Deno"in globalThis,tl=(()=>{var a,b,c;let d,e,f,g,h,i;return e="browser"===("auto"===(d=a?.mode??"auto")?tk?"tty":"browser":d),f="boolean"==typeof a?.colors?a.colors:tj||e,g=a?.formatDate??th,e?(h=(b={colors:f,formatDate:g}).colors?"%c":"",s6(({annotations:a,cause:c,context:d,date:e,fiberId:f,logLevel:g,message:i,spans:j})=>{let k=jU(qC(d,p6),pU).unsafe,l=gg(i),m=`${h}[${b.formatDate(e)}]`,n=[];if(b.colors&&n.push("color:gray"),m+=` ${h}${g.label}${h} (${kY(f)})`,b.colors&&n.push(tg[g._tag],""),lb(j)){let a=sy(e.getTime());for(let b of j)m+=" "+a(b)}m+=":";let o=0;if(l.length>0){let a=tc(l[0]);"string"==typeof a&&(m+=` ${h}${a}`,b.colors&&n.push("color:deepskyblue"),o++)}if(k.groupCollapsed(m,...n),jg(c)||k.error(jx(c,{renderErrorCause:!0})),o<l.length)for(;o<l.length;o++)k.log(eL(l[o]));if(a._size>0)for(let[c,d]of a){let a=eL(d);b.colors?k.log(`%c${c}:`,"color:gray",a):k.log(`${c}:`,a)}k.groupEnd()})):(i=(c={colors:f,formatDate:g,stderr:a?.stderr===!0}).colors?td:te,s6(({annotations:a,cause:b,context:d,date:e,fiberId:f,logLevel:g,message:h,spans:j})=>{let k=jU(qC(d,p6),pU).unsafe,l=!0===c.stderr?k.error:k.log,m=gg(h),n=i(`[${c.formatDate(e)}]`,"37")+` ${i(g.label,...tf[g._tag])}`+` (${kY(f)})`;if(lb(j)){let a=sy(e.getTime());for(let b of j)n+=" "+a(b)}n+=":";let o=0;if(m.length>0){let a=tc(m[0]);"string"==typeof a&&(n+=" "+i(a,"1","36"),o++)}if(l(n),k.group(),jg(b)||l(jx(b,{renderErrorCause:!0})),o<m.length)for(;o<m.length;o++)l(eL(m[o]));if(a._size>0)for(let[b,c]of a)l(i(`${b}:`,"1","37"),eL(c));k.groupEnd()}))},"effect/MetricBoundaries"),tm=Symbol.for(tl);class tn{values;[tm]=tm;constructor(a){this.values=a,this._hash=dL(es(tl),eo(eu(this.values)))}_hash;[el](){return this._hash}[ew](a){return to(a)&&ex(this.values,a.values)}pipe(){return eM(this,arguments)}}let to=a=>d3(a,tm),tp=Symbol.for("effect/MetricKeyType"),tq="effect/MetricKeyType/Counter",tr=Symbol.for(tq),ts="effect/MetricKeyType/Frequency",tt=Symbol.for(ts),tu="effect/MetricKeyType/Gauge",tv=Symbol.for(tu),tw="effect/MetricKeyType/Histogram",tx=Symbol.for(tw),ty=Symbol.for("effect/MetricKeyType/Summary"),tz={_In:a=>a,_Out:a=>a};class tA{incremental;bigint;[tp]=tz;[tr]=tr;constructor(a,b){this.incremental=a,this.bigint=b,this._hash=es(tq)}_hash;[el](){return this._hash}[ew](a){return tB(a)}pipe(){return eM(this,arguments)}}let tB=a=>d3(a,tr),tC=a=>d3(a,tx),tD=Symbol.for("effect/MetricKey"),tE={_Type:a=>a},tF=gY(ex);class tG{name;keyType;description;tags;[tD]=tE;constructor(a,b,c,d=[]){this.name=a,this.keyType=b,this.description=c,this.tags=d,this._hash=dL(es(this.name+this.description),eo(em(this.keyType)),eo(eu(this.tags)))}_hash;[el](){return this._hash}[ew](a){return tH(a)&&this.name===a.name&&ex(this.keyType,a.keyType)&&ex(this.description,a.description)&&tF(this.tags,a.tags)}pipe(){return eM(this,arguments)}}let tH=a=>d3(a,tD),tI=dE(2,(a,b)=>0===b.length?a:new tG(a.name,a.keyType,a.description,gL(a.tags,b))),tJ=Symbol.for("effect/MutableHashMap"),tK={[tJ]:tJ,[Symbol.iterator](){return new tL(this)},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}};class tL{self;referentialIterator;bucketIterator;constructor(a){this.self=a,this.referentialIterator=a.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();let a=this.referentialIterator.next();return a.done?(this.bucketIterator=new tM(this.self.buckets.values()),this.next()):a}[Symbol.iterator](){return new tL(this.self)}}class tM{backing;constructor(a){this.backing=a}currentBucket;next(){if(void 0===this.currentBucket){let a=this.backing.next();if(a.done)return a;this.currentBucket=a.value[Symbol.iterator]()}let a=this.currentBucket.next();return a.done?(this.currentBucket=void 0,this.next()):a}}let tN=()=>{let a=Object.create(tK);return a.referential=new Map,a.buckets=new Map,a.bucketsSize=0,a},tO=dE(2,(a,b)=>{if(!1===ez(b))return a.referential.has(b)?fQ(a.referential.get(b)):fP();let c=b[el](),d=a.buckets.get(c);return void 0===d?fP():tP(a,d,b)}),tP=(a,b,c,d=!1)=>{for(let e=0,f=b.length;e<f;e++)if(c[ew](b[e][0])){let c=b[e][1];return d&&(b.splice(e,1),a.bucketsSize--),fQ(c)}return fP()},tQ=dE(2,(a,b)=>fh(tO(a,b))),tR=dE(3,(a,b,c)=>{if(!1===ez(b))return a.referential.set(b,c),a;let d=b[el](),e=a.buckets.get(d);return void 0===e?a.buckets.set(d,[[b,c]]):(tS(a,e,b),e.push([b,c])),a.bucketsSize++,a}),tS=(a,b,c)=>{for(let d=0,e=b.length;d<e;d++)if(c[ew](b[d][0])){b.splice(d,1),a.bucketsSize--;return}},tT=dE(2,(a,b)=>{if(!1===ez(b))return a.referential.delete(b),a;let c=b[el](),d=a.buckets.get(c);return void 0===d||(tS(a,d,b),0===d.length&&a.buckets.delete(c)),a}),tU=a=>a.referential.size+a.bucketsSize,tV=Symbol.for("effect/MetricState"),tW="effect/MetricState/Counter",tX=Symbol.for(tW),tY="effect/MetricState/Frequency",tZ=Symbol.for(tY),t$="effect/MetricState/Gauge",t_=Symbol.for(t$),t0="effect/MetricState/Histogram",t1=Symbol.for(t0),t2="effect/MetricState/Summary",t3=Symbol.for(t2),t4={_A:a=>a};class t5{count;[tV]=t4;[tX]=tX;constructor(a){this.count=a}[el](){return dL(em(tW),eo(em(this.count)),ev(this))}[ew](a){return ub(a)&&this.count===a.count}pipe(){return eM(this,arguments)}}let t6=gY(ex);class t7{occurrences;[tV]=t4;[tZ]=tZ;constructor(a){this.occurrences=a}_hash;[el](){return dL(es(tY),eo(eu(gf(this.occurrences.entries()))),ev(this))}[ew](a){return uc(a)&&t6(gf(this.occurrences.entries()),gf(a.occurrences.entries()))}pipe(){return eM(this,arguments)}}class t8{value;[tV]=t4;[t_]=t_;constructor(a){this.value=a}[el](){return dL(em(t$),eo(em(this.value)),ev(this))}[ew](a){return ud(a)&&this.value===a.value}pipe(){return eM(this,arguments)}}class t9{buckets;count;min;max;sum;[tV]=t4;[t1]=t1;constructor(a,b,c,d,e){this.buckets=a,this.count=b,this.min=c,this.max=d,this.sum=e}[el](){return dL(em(t0),eo(em(this.buckets)),eo(em(this.count)),eo(em(this.min)),eo(em(this.max)),eo(em(this.sum)),ev(this))}[ew](a){return ue(a)&&ex(this.buckets,a.buckets)&&this.count===a.count&&this.min===a.min&&this.max===a.max&&this.sum===a.sum}pipe(){return eM(this,arguments)}}class ua{error;quantiles;count;min;max;sum;[tV]=t4;[t3]=t3;constructor(a,b,c,d,e,f){this.error=a,this.quantiles=b,this.count=c,this.min=d,this.max=e,this.sum=f}[el](){return dL(em(t2),eo(em(this.error)),eo(em(this.quantiles)),eo(em(this.count)),eo(em(this.min)),eo(em(this.max)),eo(em(this.sum)),ev(this))}[ew](a){return uf(a)&&this.error===a.error&&ex(this.quantiles,a.quantiles)&&this.count===a.count&&this.min===a.min&&this.max===a.max&&this.sum===a.sum}pipe(){return eM(this,arguments)}}let ub=a=>d3(a,tX),uc=a=>d3(a,tZ),ud=a=>d3(a,t_),ue=a=>d3(a,t1),uf=a=>d3(a,t3),ug=Symbol.for("effect/MetricHook"),uh={_In:a=>a,_Out:a=>a},ui=a=>({[ug]:uh,pipe(){return eM(this,arguments)},...a}),uj=BigInt(0),uk=(a,b,c,d,e,f)=>{let g=a,h=b,i=c,j=d,k=e,l=f,m=a,n=b,o=c,p=d,q=e,r=f;for(;;){if(!gn(l))return{quantile:k,value:fP(),consumed:j,rest:[]};if(1===k)return{quantile:k,value:fQ(gv(l)),consumed:j+l.length,rest:[]};let a=gt(l),b=gx(l,b=>b===a),c=k*h,d=g/2*c,e=j+b[0].length,f=Math.abs(e-c);if(e<c-d){m=g,n=h,o=gs(l),p=e,q=k,r=b[1],g=m,h=n,i=o,j=p,k=q,l=r;continue}if(e>c+d)return{quantile:k,value:fg(i)?fQ(a):i,consumed:j,rest:l};switch(i._tag){case"None":m=g,n=h,o=gs(l),p=e,q=k,r=b[1],g=m,h=n,i=o,j=p,k=q,l=r;continue;case"Some":if(f<Math.abs(c-i.value)){m=g,n=h,o=gs(l),p=e,q=k,r=b[1],g=m,h=n,i=o,j=p,k=q,l=r;continue}return{quantile:k,value:fQ(i.value),consumed:j,rest:l}}}throw Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},ul=Symbol.for("effect/MetricPair"),um={_Type:a=>a},un=(a,b)=>({[ul]:um,metricKey:a,metricState:b,pipe(){return eM(this,arguments)}}),uo=Symbol.for("effect/MetricRegistry");class up{[uo]=uo;map=tN();snapshot(){let a=[];for(let[b,c]of this.map)a.push(un(b,c.get()));return a}get(a){let b=dL(this.map,tO(a),fX);if(null!=b)return b;if(tB(a.keyType))return this.getCounter(a);if(d3(a.keyType,tv))return this.getGauge(a);if(d3(a.keyType,tt))return this.getFrequency(a);if(tC(a.keyType))return this.getHistogram(a);if(d3(a.keyType,ty))return this.getSummary(a);throw Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}getCounter(a){let b=dL(this.map,tO(a),fX);if(null==b){let c,d,e,f=(c=a.keyType.bigint?uj:0,d=a.keyType.incremental?a.keyType.bigint?a=>a>=uj:a=>a>=0:a=>!0,ui({get:()=>new t5(c),update:e=a=>{d(a)&&(c+=a)},modify:e}));dL(this.map,tQ(a))||dL(this.map,tR(a,f)),b=f}return b}getFrequency(a){let b=dL(this.map,tO(a),fX);if(null==b){let c=(a=>{let b=new Map;for(let c of a.keyType.preregisteredWords)b.set(c,0);let c=a=>{let c=b.get(a)??0;b.set(a,c+1)};return ui({get:()=>new t7(b),update:c,modify:c})})(a);dL(this.map,tQ(a))||dL(this.map,tR(a,c)),b=c}return b}getGauge(a){let b=dL(this.map,tO(a),fX);if(null==b){let c,d=(c=a.keyType.bigint?BigInt(0):0,ui({get:()=>new t8(c),update:a=>{c=a},modify:a=>{c+=a}}));dL(this.map,tQ(a))||dL(this.map,tR(a,d)),b=d}return b}getHistogram(a){let b=dL(this.map,tO(a),fX);if(null==b){let c,d,e,f,g,h,i,j,k,l=(e=new Uint32Array((d=(c=a.keyType.boundaries.values).length)+1),f=new Float64Array(d),g=0,h=0,i=Number.MAX_VALUE,j=5e-324,dL(c,gB(fF),gQ((a,b)=>{f[b]=a})),ui({get:()=>{let a;return new t9((a={buckets:(()=>{let a=Array(d),b=0;for(let c=0;c<d;c++){let d=f[c];b+=e[c],a[c]=[d,b]}return a})(),count:g,min:i,max:j,sum:h}).buckets,a.count,a.min,a.max,a.sum)},update:k=a=>{let b=0,c=d;for(;b!==c;){let d=Math.floor(b+(c-b)/2);a<=f[d]?c=d:b=d,c===b+1&&(a<=f[b]?c=b:b=c)}e[b]=e[b]+1,g+=1,h+=a,a<i&&(i=a),a>j&&(j=a)},modify:k}));dL(this.map,tQ(a))||dL(this.map,tR(a,l)),b=l}return b}getSummary(a){let b=dL(this.map,tO(a),fX);if(null==b){let c=(a=>{let{error:b,maxAge:c,maxSize:d,quantiles:e}=a.keyType,f=dL(e,gB(fF)),g=Array(d),h=0,i=0,j=0,k=0,l=0,m=(a,b)=>{d>0&&(g[(h+=1)%d]=[b,a]),k=0===i?a:Math.min(k,a),l=0===i?a:Math.max(l,a),i+=1,j+=a};return ui({get:()=>{let a;return a={error:b,quantiles:(a=>{let e=[],h=0;for(;h!==d-1;){let b=g[h];if(null!=b){let[d,f]=b,g=kh(a-d);kB(g,kd)&&kz(g,c)&&e.push(f)}h+=1}return((a,b,c)=>{let d=c.length;if(!gn(b))return gO();let e=b[0],f=b.slice(1),g=uk(a,d,fP(),0,e,c),h=gP(g);return f.forEach(b=>{h.push(uk(a,d,g.value,g.consumed,b,g.rest))}),gQ(h,a=>[a.quantile,a.value])})(b,f,gB(e,fF))})(Date.now()),count:i,min:k,max:l,sum:j},new ua(a.error,a.quantiles,a.count,a.min,a.max,a.sum)},update:([a,b])=>m(a,b),modify:([a,b])=>m(a,b)})})(a);dL(this.map,tQ(a))||dL(this.map,tR(a,c)),b=c}return b}}let uq=Symbol.for("effect/Metric"),ur={_Type:a=>a,_In:a=>a,_Out:a=>a},us=dS(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new up),ut=function(a,b,c,d){let e=Object.assign(a=>nC(a,a=>uy(e,a)),{[uq]:ur,keyType:a,unsafeUpdate:b,unsafeValue:c,unsafeModify:d,register(){return this.unsafeValue([]),this},pipe(){return eM(this,arguments)}});return e},uu=((a,b)=>ut(a.keyType,(c,d)=>a.unsafeUpdate(b(c),d),a.unsafeValue,(c,d)=>a.unsafeModify(b(c),d)),(a,b)=>uv(new tG(a,new tA(b?.incremental??!1,b?.bigint??!1),fV(b?.description)))),uv=a=>{let b,c=new WeakMap,d=d=>{if(0===d.length)return void 0!==b?b:b=us.get(a);let e=c.get(d);return void 0!==e||(e=us.get(tI(a,d)),c.set(d,e)),e};return ut(a.keyType,(a,b)=>d(b).update(a),a=>d(a).get(),(a,b)=>d(b).modify(a))},uw=((a,b)=>ut(a.keyType,a.unsafeUpdate,c=>b(a.unsafeValue(c)),a.unsafeModify),dE(3,(a,b,c)=>ux(a,[new sB(b,c)]))),ux=dE(2,(a,b)=>ut(a.keyType,(c,d)=>a.unsafeUpdate(c,gL(b,d)),c=>a.unsafeValue(gL(b,c)),(c,d)=>a.unsafeModify(c,gL(b,d)))),uy=((a,b,c)=>{let d=a=>uy(b,c(a));return sJ(a,a=>no(ji(a),d))},dE(2,(a,b)=>n0(on,c=>nB(()=>a.unsafeUpdate(b,c))))),uz=Symbol.for("effect/Request"),uA={...e6,[uz]:{_E:a=>a,_A:a=>a}},uB=function(){function a(a){a&&Object.assign(this,a)}return a.prototype=uA,a}(),uC=dE(2,(a,b)=>n0(su,c=>nB(()=>{if(c.has(a)){let d=c.get(a);d.state.completed||(d.state.completed=!0,o0(d.result,b))}})));class uD{count=0;observers=new Set;interrupted=!1;addObserver(a){this.observers.add(a)}removeObserver(a){this.observers.delete(a)}increment(){this.count++,this.observers.forEach(a=>a(this.count))}decrement(){this.count--,this.observers.forEach(a=>a(this.count))}}let uE=0;class uF{self;stack;direction;count=0;constructor(a,b,c){this.self=a,this.stack=b,this.direction=c}clone(){return new uF(this.self,this.stack.slice(),this.direction)}reversed(){return new uF(this.self,this.stack.slice(),this.direction===uE?1:uE)}next(){let a=this.entry;switch(this.count++,this.direction===uE?this.moveNext():this.movePrev(),a._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:a.value}}}get key(){return this.stack.length>0?fQ(this.stack[this.stack.length-1].key):fP()}get value(){return this.stack.length>0?fQ(this.stack[this.stack.length-1].value):fP()}get entry(){return f_(gu(this.stack),a=>[a.key,a.value])}get index(){let a=0,b=this.stack;if(0===b.length){let a=this.self._root;return null!=a?a.count:0}null!=b[b.length-1].left&&(a=b[b.length-1].left.count);for(let c=b.length-2;c>=0;--c)b[c+1]===b[c].right&&(++a,null!=b[c].left&&(a+=b[c].left.count));return a}moveNext(){let a=this.stack;if(0===a.length)return;let b=a[a.length-1];if(null!=b.right)for(b=b.right;null!=b;)a.push(b),b=b.left;else for(a.pop();a.length>0&&a[a.length-1].right===b;)b=a[a.length-1],a.pop()}get hasNext(){let a=this.stack;if(0===a.length)return!1;if(null!=a[a.length-1].right)return!0;for(let b=a.length-1;b>0;--b)if(a[b-1].left===a[b])return!0;return!1}movePrev(){let a=this.stack;if(0===a.length)return;let b=a[a.length-1];if(null!=b&&null!=b.left)for(b=b.left;null!=b;)a.push(b),b=b.right;else for(a.pop();a.length>0&&a[a.length-1].left===b;)b=a[a.length-1],a.pop()}get hasPrev(){let a=this.stack;if(0===a.length)return!1;if(null!=a[a.length-1].left)return!0;for(let b=a.length-1;b>0;--b)if(a[b-1].right===a[b])return!0;return!1}}let uG=({color:a,count:b,key:c,left:d,right:e,value:f})=>({color:a,key:c,value:f,left:d,right:e,count:b});function uH(a,b){a.key=b.key,a.value=b.value,a.left=b.left,a.right=b.right,a.color=b.color,a.count=b.count}let uI=({count:a,key:b,left:c,right:d,value:e},f)=>({color:f,key:b,value:e,left:c,right:d,count:a}),uJ=a=>{a.count=1+(a.left?.count??0)+(a.right?.count??0)},uK="effect/RedBlackTree",uL=Symbol.for(uK),uM={[uL]:{_Key:a=>a,_Value:a=>a},[el](){let a=em(uK);for(let b of this)a^=dL(em(b[0]),eo(em(b[1])));return ev(this,a)},[ew](a){if(uO(a)){if((this._root?.count??0)!==(a._root?.count??0))return!1;let b=Array.from(a);return Array.from(this).every((a,c)=>{let d=b[c];return ex(a[0],d[0])&&ex(a[1],d[1])})}return!1},[Symbol.iterator](){let a=[],b=this._root;for(;null!=b;)a.push(b),b=b.left;return new uF(this,a,uE)},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},uN=(a,b)=>{let c=Object.create(uM);return c._ord=a,c._root=b,c},uO=a=>d3(a,uL),uP=dE(2,(a,b)=>{let c=uN(b,void 0);for(let[b,d]of a)c=uS(c,b,d);return c}),uQ=dE(2,(a,b)=>{let c=a._ord,d=a._root;for(;void 0!==d;){let a=c(b,d.key);if(ex(b,d.key))return fQ(d.value);d=a<=0?d.left:d.right}return fP()}),uR=dE(2,(a,b)=>fh(uQ(a,b))),uS=dE(3,(a,b,c)=>{let d=a._ord,e=a._root,f=[],g=[];for(;null!=e;){let a=d(b,e.key);f.push(e),g.push(a),e=a<=0?e.left:e.right}f.push({color:0,key:b,value:c,left:void 0,right:void 0,count:1});for(let a=f.length-2;a>=0;--a){let b=f[a];g[a]<=0?f[a]={color:b.color,key:b.key,value:b.value,left:f[a+1],right:b.right,count:b.count+1}:f[a]={color:b.color,key:b.key,value:b.value,left:b.left,right:f[a+1],count:b.count+1}}for(let a=f.length-1;a>1;--a){let b=f[a-1],c=f[a];if(1===b.color||1===c.color)break;let d=f[a-2];if(d.left===b)if(b.left===c){let e=d.right;if(e&&0===e.color)b.color=1,d.right=uI(e,1),d.color=0,a-=1;else{if(d.color=0,d.left=b.right,b.color=1,b.right=d,f[a-2]=b,f[a-1]=c,uJ(d),uJ(b),a>=3){let c=f[a-3];c.left===d?c.left=b:c.right=b}break}}else{let e=d.right;if(e&&0===e.color)b.color=1,d.right=uI(e,1),d.color=0,a-=1;else{if(b.right=c.left,d.color=0,d.left=c.right,c.color=1,c.left=b,c.right=d,f[a-2]=c,f[a-1]=b,uJ(d),uJ(b),uJ(c),a>=3){let b=f[a-3];b.left===d?b.left=c:b.right=c}break}}else if(b.right===c){let e=d.left;if(e&&0===e.color)b.color=1,d.left=uI(e,1),d.color=0,a-=1;else{if(d.color=0,d.right=b.left,b.color=1,b.left=d,f[a-2]=b,f[a-1]=c,uJ(d),uJ(b),a>=3){let c=f[a-3];c.right===d?c.right=b:c.left=b}break}}else{let e=d.left;if(e&&0===e.color)b.color=1,d.left=uI(e,1),d.color=0,a-=1;else{if(b.left=c.right,d.color=0,d.right=c.left,c.color=1,c.right=b,c.left=d,f[a-2]=c,f[a-1]=b,uJ(d),uJ(b),uJ(c),a>=3){let b=f[a-3];b.right===d?b.right=c:b.left=c}break}}}return f[0].color=1,uN(a._ord,f[0])}),uT=(a,b)=>{let c=a[Symbol.iterator](),d=0;return{[Symbol.iterator]:()=>uT(a,b),next:()=>{d++;let a=c.key;switch(b===uE?c.moveNext():c.movePrev(),a._tag){case"None":return{done:!0,value:d};case"Some":return{done:!1,value:a.value}}}}},uU=dE(2,(a,b)=>{let c=a._root;void 0!==c&&uW(c,(a,c)=>(b(a,c),fP()))}),uV=dE(2,(a,b)=>{if(!uR(a,b))return a;let c=a._ord,d=a._root,e=[];for(;void 0!==d;){let a=c(b,d.key);e.push(d),d=ex(b,d.key)?void 0:a<=0?d.left:d.right}if(0===e.length)return a;let f=Array(e.length),g=e[e.length-1];f[f.length-1]={color:g.color,key:g.key,value:g.value,left:g.left,right:g.right,count:g.count};for(let a=e.length-2;a>=0;--a)(g=e[a]).left===e[a+1]?f[a]={color:g.color,key:g.key,value:g.value,left:f[a+1],right:g.right,count:g.count}:f[a]={color:g.color,key:g.key,value:g.value,left:g.left,right:f[a+1],count:g.count};if(void 0!==(g=f[f.length-1]).left&&void 0!==g.right){let a=f.length;for(g=g.left;null!=g.right;)f.push(g),g=g.right;let b=f[a-1];f.push({color:g.color,key:b.key,value:b.value,left:g.left,right:g.right,count:g.count}),f[a-1].key=g.key,f[a-1].value=g.value;for(let b=f.length-2;b>=a;--b)g=f[b],f[b]={color:g.color,key:g.key,value:g.value,left:g.left,right:f[b+1],count:g.count};f[a-1].left=f[a]}if(0===(g=f[f.length-1]).color){let a=f[f.length-2];a.left===g?a.left=void 0:a.right===g&&(a.right=void 0),f.pop();for(let a=0;a<f.length;++a)f[a].count--}else if(void 0!==g.left||void 0!==g.right){void 0!==g.left?uH(g,g.left):void 0!==g.right&&uH(g,g.right),g.color=1;for(let a=0;a<f.length-1;++a)f[a].count--}else{if(1===f.length)return uN(c,void 0);for(let a=0;a<f.length;++a)f[a].count--;let a=f[f.length-2];uX(f),a.left===g?a.left=void 0:a.right=void 0}return uN(c,f[0])}),uW=(a,b)=>{let c,d=a,e=!1;for(;!e;)if(null!=d)c=h6(d,c),d=d.left;else if(null!=c){let a=b(c.value.key,c.value.value);if(fh(a))return a;d=c.value.right,c=c.previous}else e=!0;return fP()},uX=a=>{let b,c,d,e;for(let f=a.length-1;f>=0;--f){if(b=a[f],0===f){b.color=1;return}if((c=a[f-1]).left===b){if(void 0!==(d=c.right)&&void 0!==d.right&&0===d.right.color){if(e=(d=c.right=uG(d)).right=uG(d.right),c.right=d.left,d.left=c,d.right=e,d.color=c.color,b.color=1,c.color=1,e.color=1,uJ(c),uJ(d),f>1){let b=a[f-2];b.left===c?b.left=d:b.right=d}a[f-1]=d;return}if(void 0!==d&&void 0!==d.left&&0===d.left.color){if(e=(d=c.right=uG(d)).left=uG(d.left),c.right=e.left,d.left=e.right,e.left=c,e.right=d,e.color=c.color,c.color=1,d.color=1,b.color=1,uJ(c),uJ(d),uJ(e),f>1){let b=a[f-2];b.left===c?b.left=e:b.right=e}a[f-1]=e;return}if(void 0!==d&&1===d.color)if(0===c.color){c.color=1,c.right=uI(d,0);return}else{c.right=uI(d,0);continue}if(void 0!==d){if(c.right=(d=uG(d)).left,d.left=c,d.color=c.color,c.color=0,uJ(c),uJ(d),f>1){let b=a[f-2];b.left===c?b.left=d:b.right=d}a[f-1]=d,a[f]=c,f+1<a.length?a[f+1]=b:a.push(b),f+=2}}else{if(void 0!==(d=c.left)&&void 0!==d.left&&0===d.left.color){if(e=(d=c.left=uG(d)).left=uG(d.left),c.left=d.right,d.right=c,d.left=e,d.color=c.color,b.color=1,c.color=1,e.color=1,uJ(c),uJ(d),f>1){let b=a[f-2];b.right===c?b.right=d:b.left=d}a[f-1]=d;return}if(void 0!==d&&void 0!==d.right&&0===d.right.color){if(e=(d=c.left=uG(d)).right=uG(d.right),c.left=e.right,d.right=e.left,e.right=c,e.left=d,e.color=c.color,c.color=1,d.color=1,b.color=1,uJ(c),uJ(d),uJ(e),f>1){let b=a[f-2];b.right===c?b.right=e:b.left=e}a[f-1]=e;return}if(void 0!==d&&1===d.color)if(0===c.color){c.color=1,c.left=uI(d,0);return}else{c.left=uI(d,0);continue}if(void 0!==d){if(c.left=(d=uG(d)).right,d.right=c,d.color=c.color,c.color=0,uJ(c),uJ(d),f>1){let b=a[f-2];b.right===c?b.right=d:b.left=d}a[f-1]=d,a[f]=c,f+1<a.length?a[f+1]=b:a.push(b),f+=2}}}},uY=Symbol.for("effect/SortedSet"),uZ={[uY]:{_A:a=>a},[el](){return dL(em(this.keyTree),eo(em(uY)),ev(this))},[ew](a){return u_(a)&&ex(this.keyTree,a.keyTree)},[Symbol.iterator](){return uT(this.keyTree,uE)},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},u$=a=>{let b=Object.create(uZ);return b.keyTree=a,b},u_=a=>d3(a,uY),u0=dE(2,(a,b)=>u$(uP(Array.from(a).map(a=>[a,!0]),b))),u1=((a,b)=>uR(a.keyTree,b)?a:u$(uS(a.keyTree,b,!0)),dE(2,(a,b)=>{for(let c of a)if(!b(c))return!1;return!0})),u2=((a,b)=>uU(a.keyTree,b),dE(2,(a,b)=>uR(a.keyTree,b))),u3=dE(2,(a,b)=>u1(a,a=>u2(b,a))),u4=((a,b)=>u$(uV(a.keyTree,b)),Symbol.for("effect/Supervisor")),u5={_T:a=>a};class u6{underlying;value0;[u4]=u5;constructor(a,b){this.underlying=a,this.value0=b}get value(){return this.value0}onStart(a,b,c,d){this.underlying.onStart(a,b,c,d)}onEnd(a,b){this.underlying.onEnd(a,b)}onEffect(a,b){this.underlying.onEffect(a,b)}onSuspend(a){this.underlying.onSuspend(a)}onResume(a){this.underlying.onResume(a)}map(a){return new u6(this,dL(this.value,ns(a)))}zip(a){return new u7(this,a)}}class u7{left;right;_tag="Zip";[u4]=u5;constructor(a,b){this.left=a,this.right=b}get value(){return nN(this.left.value,this.right.value)}onStart(a,b,c,d){this.left.onStart(a,b,c,d),this.right.onStart(a,b,c,d)}onEnd(a,b){this.left.onEnd(a,b),this.right.onEnd(a,b)}onEffect(a,b){this.left.onEffect(a,b),this.right.onEffect(a,b)}onSuspend(a){this.left.onSuspend(a),this.right.onSuspend(a)}onResume(a){this.left.onResume(a),this.right.onResume(a)}map(a){return new u6(this,dL(this.value,ns(a)))}zip(a){return new u7(this,a)}}let u8=a=>d3(a,u4)&&d4(a,"Zip");class u9{[u4]=u5;fibers=new Set;get value(){return nB(()=>Array.from(this.fibers))}onStart(a,b,c,d){this.fibers.add(d)}onEnd(a,b){this.fibers.delete(b)}onEffect(a,b){}onSuspend(a){}onResume(a){}map(a){return new u6(this,dL(this.value,ns(a)))}zip(a){return new u7(this,a)}onRun(a,b){return a()}}class va{effect;[u4]=u5;constructor(a){this.effect=a}get value(){return this.effect}onStart(a,b,c,d){}onEnd(a,b){}onEffect(a,b){}onSuspend(a){}onResume(a){}map(a){return new u6(this,dL(this.value,ns(a)))}zip(a){return new u7(this,a)}onRun(a,b){return a()}}let vb=nB(()=>new u9),vc=dS("effect/Supervisor/none",()=>new va(nG)),vd="Empty",ve="AddSupervisor",vf="RemoveSupervisor",vg="AndThen",vh={_tag:vd},vi=(a,b)=>({_tag:vg,first:a,second:b}),vj=(a,b)=>ex(a,b)?vc:u8(a)?vj(a.left,b).zip(vj(a.right,b)):a,vk=a=>ex(a,vc)?iN():u8(a)?dL(vk(a.left),iX(vk(a.right))):i_(a),vl=l7({empty:vh,patch:(a,b)=>((a,b)=>{let c=a,d=b;for(;h0(d);){let a=h2(d);switch(a._tag){case vd:d=h3(d);break;case ve:c=c.zip(a.supervisor),d=h3(d);break;case vf:c=vj(c,a.supervisor),d=h3(d);break;case vg:d=hX(a.first)(hX(a.second)(h3(d)))}}return c})(b,hN(a)),combine:vi,diff:(a,b)=>{if(ex(a,b))return vh;let c=vk(a),d=vk(b),e=dL(d,iW(c),iZ(vh,(a,b)=>vi(a,{_tag:ve,supervisor:b}))),f=dL(c,iW(d),iZ(vh,(a,b)=>vi(a,{_tag:vf,supervisor:b})));return vi(e,f)}}),vm=uu("effect_fiber_started",{incremental:!0}),vn=uu("effect_fiber_active"),vo=uu("effect_fiber_successes",{incremental:!0}),vp=uu("effect_fiber_failures",{incremental:!0}),vq=uw(uv((p=dL(ge((o={start:.5,factor:2,count:35}).count-1,a=>o.start*Math.pow(o.factor,a)),hT,a=>new tn(dL(a,gl(hN(1/0)),g$))),new tG("effect_fiber_lifetimes",new class a{boundaries;[tp]=tz;[tx]=tx;constructor(a){this.boundaries=a,this._hash=dL(es(tw),eo(em(this.boundaries)))}_hash;[el](){return this._hash}[ew](a){return tC(a)&&ex(this.boundaries,a.boundaries)}pipe(){return eM(this,arguments)}}(p),fV(q)))),"time_unit","milliseconds"),vr="Continue",vs="Yield",vt={_E:a=>a,_A:a=>a},vu=a=>{throw Error(`BUG: FiberRuntime - ${eG(a)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},vv=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),vw=dS("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),vx={[eR]:(a,b,c)=>ej(()=>b.effect_instruction_i1(c)),OnStep:(a,b,c)=>oQ(oQ(c)),[eS]:(a,b,c)=>ej(()=>b.effect_instruction_i2(c)),[e$]:(a,b,c)=>(a.patchRuntimeFlags(a.currentRuntimeFlags,b.patch),mh(a.currentRuntimeFlags)&&a.isInterrupted())?oK(a.getInterruptedCause()):oQ(c),[eW]:(a,b,c)=>(ej(()=>b.effect_instruction_i2(c)),ej(()=>b.effect_instruction_i0()))?(a.pushStack(b),ej(()=>b.effect_instruction_i1())):nG,[eX]:(a,b,c)=>{for(;;){let d=ej(()=>b.effect_instruction_i0.next(c));if(d.done)return oQ(d.value);let e=function(a){if("object"==typeof a&&null!==a&&ef in a)return a[ef]();throw Error(ea("yieldWrapGet"))}(d.value);if(!oF(e))return a.pushStack(b),e;if("Failure"===e._tag)return e;c=e.value}}},vy={[sN]:(a,b,c,d)=>(a.processNewInterruptSignal(d.cause),mh(b)?oK(d.cause):c),[sP]:(a,b,c,d)=>{throw Error("It is illegal to have multiple concurrent run loops in a single fiber")},[sO]:(a,b,c,d)=>(d.onFiber(a,qY(b)),c),[sQ]:(a,b,c,d)=>nh(nM(),()=>c)},vz=e_();class vA extends qp{[sZ]=s$;[s0]=vt;_fiberRefs;_fiberId;_queue=[];_children=null;_observers=[];_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(a,b,c){if(super(),this.currentRuntimeFlags=c,this._fiberId=a,this._fiberRefs=b,mj(c,4)){const a=this.getFiberRef(on);vm.unsafeUpdate(1,a),vn.unsafeUpdate(1,a)}this.refreshRefCache()}commit(){return s1(this)}id(){return this._fiberId}resume(a){this.tell(sT(a))}get status(){return this.ask((a,b)=>b)}get runtimeFlags(){return this.ask((a,b)=>b._tag===qQ?a.currentRuntimeFlags:b.runtimeFlags)}scope(){return new sX(this.id(),this)}get children(){return this.ask(a=>Array.from(a.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(op)}fiberRefs(){return this.ask(a=>a.getFiberRefs())}ask(a){return nA(()=>{let b=oU(this._fiberId);return this.tell(sS((c,d)=>{o0(b,nB(()=>a(c,d)))})),oX(b)})}tell(a){this._queue.push(a),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return m3(a=>{let b=b=>a(nz(b));return this.tell(sS((a,c)=>{null!==a._exitValue?b(this._exitValue):a.addObserver(b)})),nB(()=>this.tell(sS((a,c)=>{a.removeObserver(b)})))},this.id())}get inheritAll(){return mY((a,b)=>{var c;let d,e=a.id(),f=a.getFiberRefs(),g=b.runtimeFlags,h=qx(f,e,this.getFiberRefs());return a.setFiberRefs(h),c=dL(mn(g,a.getFiberRef(v1)),mc(1),mc(16)),(d=new mV(eV)).effect_instruction_i0=c,d.effect_instruction_i1=void 0,d})}get poll(){return nB(()=>fV(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(a){return nB(()=>this.tell(sR(jc(a))))}unsafeInterruptAsFork(a){this.tell(sR(jc(a)))}addObserver(a){null!==this._exitValue?a(this._exitValue):this._observers.push(a)}removeObserver(a){this._observers=this._observers.filter(b=>b!==a)}getFiberRefs(){return this.setFiberRef(v1,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(a){this._fiberRefs=qA(this._fiberRefs,a)}getFiberRef(a){return this._fiberRefs.locals.has(a)?this._fiberRefs.locals.get(a)[0][1]:a.initial}setFiberRef(a,b){this._fiberRefs=qD(this._fiberRefs,{fiberId:this._fiberId,fiberRef:a,value:b}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(p6),this.currentTracer=this.currentDefaultServices.unsafeMap.get(p_.key),this.currentSupervisor=this.getFiberRef(v2),this.currentScheduler=this.getFiberRef(st),this.currentContext=this.getFiberRef(oc),this.currentSpan=this.currentContext.unsafeMap.get(p0.key)}setFiberRefs(a){this._fiberRefs=a,this.refreshRefCache()}addChild(a){this.getChildren().add(a)}removeChild(a){this.getChildren().delete(a)}transferChildren(a){let b=this._children;if(this._children=null,null!==b&&b.size>0)for(let c of b)null===c._exitValue&&a.add(this.currentRuntimeFlags,c)}drainQueueOnCurrentThread(){let a=!0;for(;a;){let b=vr,c=globalThis[s3];globalThis[s3]=this;try{for(;b===vr;)b=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[s3]=c}this._queue.length>0&&!this._running?(this._running=!0,b===vs?(this.drainQueueLaterOnExecutor(),a=!1):a=!0):a=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(od))}drainQueueWhileRunning(a,b){let c=b;for(;this._queue.length>0;){let b=this._queue.splice(0,1)[0];c=vy[b._tag](this,a,c,b)}return c}isInterrupted(){return!jg(this.getFiberRef(op))}addInterruptedCause(a){let b=this.getFiberRef(op);this.setFiberRef(op,je(b,a))}processNewInterruptSignal(a){this.addInterruptedCause(a),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let a=!1;for(let b of this._children)b.tell(sR(jc(this.id()))),a=!0;return a}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let a=this._children.values();this._children=null;let b=!1;return nI({while:()=>!b,body:()=>{let c=a.next();return c.done?nB(()=>{b=!0}):m_(c.value.await)},step:()=>{}})}return null}reportExitValue(a){if(mj(this.currentRuntimeFlags,4)){let b=this.getFiberRef(on),c=this.id().startTimeMillis,d=Date.now();switch(vq.unsafeUpdate(d-c,b),vn.unsafeUpdate(-1,b),a._tag){case eT:vo.unsafeUpdate(1,b);break;case eP:vp.unsafeUpdate(1,b)}}if("Failure"===a._tag){let b=this.getFiberRef(ol);jh(a.cause)||"Some"!==b._tag||this.log("Fiber terminated with an unhandled error",a.cause,b)}}setExitValue(a){this._exitValue=a,this.reportExitValue(a);for(let b=this._observers.length-1;b>=0;b--)this._observers[b](a);this._observers=[]}getLoggers(){return this.getFiberRef(vE)}log(a,b,c){let d=fh(c)?c.value:this.getFiberRef(og);if(q0(this.getFiberRef(vB),d))return;let e=this.getFiberRef(oh),f=this.getFiberRef(of),g=this.getLoggers(),h=this.getFiberRefs();if(i0(g)>0){let c=new Date(jU(this.getFiberRef(p6),pk).unsafeCurrentTimeMillis());((a,b)=>{let c=eK.fiberRefs;eK.fiberRefs=a;try{return b()}finally{eK.fiberRefs=c}})(h,()=>{for(let i of g)i.log({fiberId:this.id(),logLevel:d,message:a,cause:b,context:h,spans:e,annotations:f,date:c})})}}evaluateMessageWhileSuspended(a){switch(a._tag){case sQ:return vs;case sN:return this.processNewInterruptSignal(a.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(oK(a.cause)),this._asyncInterruptor=null),vr;case sP:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(a.effect),vr;case sO:return a.onFiber(this,null!==this._exitValue?qW:new qV(this.currentRuntimeFlags,this._asyncBlockingOn)),vr;default:return vu(a)}}evaluateEffect(a){this.currentSupervisor.onResume(this);try{let b=mh(this.currentRuntimeFlags)&&this.isInterrupted()?oK(this.getInterruptedCause()):a;for(;null!==b;){let a=b,c=this.runLoop(a);if(c===vv){let a=vw.currentOp;vw.currentOp=null,a._op===eZ?me(this.currentRuntimeFlags)?(this.tell(sU()),this.tell(sT(oR)),b=null):b=oR:a._op===eN&&(b=null)}else{this.currentRuntimeFlags=dL(this.currentRuntimeFlags,mg(16));let a=this.interruptAllChildren();null!==a?b=nh(a,()=>c):(0===this._queue.length?this.setExitValue(c):this.tell(sT(c)),b=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(a){if(this._running)this.tell(sT(a));else{this._running=!0;let b=globalThis[s3];globalThis[s3]=this;try{this.evaluateEffect(a)}finally{this._running=!1,globalThis[s3]=b,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(a){this.tell(sT(a))}patchRuntimeFlags(a,b){let c=mo(a,b);return globalThis[s3]=this,this.currentRuntimeFlags=c,c}initiateAsync(a,b){let c=!1,d=a=>{c||(c=!0,this.tell(sT(a)))};mh(a)&&(this._asyncInterruptor=d);try{b(d)}catch(a){d(nd(jb(a)))}}pushStack(a){this._stack.push(a),"OnStep"===a._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let a=this._stack.pop();if(a)return"OnStep"===a._op&&this._steps.pop(),a}getNextSuccessCont(){let a=this.popStack();for(;a;){if(a._op!==eQ)return a;a=this.popStack()}}getNextFailCont(){let a=this.popStack();for(;a;){if(a._op!==eR&&a._op!==eW&&a._op!==eX)return a;a=this.popStack()}}Tag(a){return nB(()=>jU(this.currentContext,a))}Left(a){return nc(a.left)}None(a){return nc(new oB)}Right(a){return oQ(a.right)}Some(a){return oQ(a.value)}Micro(a){return m1(b=>{let c=b,d=((a,b)=>{let c=new re(rX.context(b?.scheduler??new rS));if(c.evaluate(a),b?.signal)if(b.signal.aborted)c.unsafeInterrupt();else{let a=()=>c.unsafeInterrupt();b.signal.addEventListener("abort",a,{once:!0}),c.addObserver(()=>b.signal.removeEventListener("abort",a))}return c})(rU(a,this.currentContext));return d.addObserver(a=>{if("Success"===a._tag)return c(oQ(a.value));switch(a.cause._tag){case"Interrupt":return c(oK(jc(k$)));case"Fail":return c(nc(a.cause.error));case"Die":return c(m8(a.cause.defect))}}),m1(a=>{c=b=>{a(nG)},d.unsafeInterrupt()})})}[eU](a){let b=ej(()=>a.effect_instruction_i0()),c=this.getNextSuccessCont();return void 0!==c?(c._op in vx||vu(c),vx[c._op](this,c,b)):(vw.currentOp=oQ(b),vv)}[eT](a){let b=this.getNextSuccessCont();return void 0!==b?(b._op in vx||vu(b),vx[b._op](this,b,a.effect_instruction_i0)):(vw.currentOp=a,vv)}[eP](a){let b=a.effect_instruction_i0,c=this.getNextFailCont();if(void 0===c)return vw.currentOp=oK(b),vv;switch(c._op){case eQ:case eS:if(!(mh(this.currentRuntimeFlags)&&this.isInterrupted()))return ej(()=>c.effect_instruction_i1(b));return oK(jk(b));case"OnStep":if(!(mh(this.currentRuntimeFlags)&&this.isInterrupted()))return oQ(oK(b));return oK(jk(b));case e$:if(this.patchRuntimeFlags(this.currentRuntimeFlags,c.patch),mh(this.currentRuntimeFlags)&&this.isInterrupted())return oK(je(b,this.getInterruptedCause()));return oK(b);default:vu(c)}}[eY](a){return ej(()=>a.effect_instruction_i0(this,qY(this.currentRuntimeFlags)))}Blocked(a){let b=this.getFiberRefs(),c=this.currentRuntimeFlags;if(this._steps.length>0){let d=[],e=this._steps[this._steps.length-1],f=this.popStack();for(;f&&"OnStep"!==f._op;)d.push(f),f=this.popStack();this.setFiberRefs(e.refs),this.currentRuntimeFlags=e.flags;let g=qL(e.refs,b),h=mn(e.flags,c);return oQ(mS(a.effect_instruction_i0,mY(b=>{for(;d.length>0;)b.pushStack(d.pop());return b.setFiberRefs(qN(b.id(),b.getFiberRefs())(g)),b.currentRuntimeFlags=mo(h)(b.currentRuntimeFlags),a.effect_instruction_i1})))}return nF(b=>{var c;let d;return nh(vL((c=a.effect_instruction_i0,(d=new mV("RunBlocked")).effect_instruction_i0=c,d)),()=>b(a.effect_instruction_i1))})}RunBlocked(a){return no((a=>{let b=k6(a,k8),c=le();for(;;){let[a,d]=ll(b,[mA(),le()],([a,b],c)=>{let[d,e]=ms(c);return[mC(a,d),lg(b,e)]});if(c=mt(c,a),la(d))return lm(c);b=d}throw Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")})(a.effect_instruction_i0),a=>vJ(Array.from(a.map),([a,b])=>{let c=new Map,d=[];for(let a of b)for(let b of(d.push(hQ(a)),a))c.set(b.request,b);let e=d.flat();return n7(v7(a.runAll(d),e,()=>e.forEach(a=>{a.listeners.interrupted=!0})),su,c)},!1,!1))}[eV](a){let b=a.effect_instruction_i0,c=this.currentRuntimeFlags,d=mo(c,b);if(mh(d)&&this.isInterrupted())return oK(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,b),!a.effect_instruction_i1)return oR;{let b=mn(d,c);return this.pushStack(new mU(b,a)),ej(()=>a.effect_instruction_i1(c))}}[eR](a){return this.pushStack(a),a.effect_instruction_i0}OnStep(a){return this.pushStack(a),a.effect_instruction_i0}[eQ](a){return this.pushStack(a),a.effect_instruction_i0}[eS](a){return this.pushStack(a),a.effect_instruction_i0}[eN](a){return this._asyncBlockingOn=a.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,a.effect_instruction_i0),vw.currentOp=a,vv}[eZ](a){return this._isYielding=!1,vw.currentOp=a,vv}[eW](a){let b=a.effect_instruction_i0,c=a.effect_instruction_i1;return b()?(this.pushStack(a),c()):oR}[eX](a){return vx[eX](this,a,void 0)}[eO](a){return ej(()=>a.commit())}runLoop(a){let b=a;for(this.currentOpCount=0;;){if((2&this.currentRuntimeFlags)!=0&&this.currentSupervisor.onEffect(this,b),this._queue.length>0&&(b=this.drainQueueWhileRunning(this.currentRuntimeFlags,b)),!this._isYielding){this.currentOpCount+=1;let a=this.currentScheduler.shouldYield(this);if(!1!==a){this._isYielding=!0,this.currentOpCount=0;let c=b;b=nh(nM({priority:a}),()=>c)}}try{if((b=this.currentTracer.context(()=>{if(vz!==b[mT]._V){let a=this.getFiberRef(om);if("Some"===a._tag){let c=b[mT]._V;this.log(`Executing an Effect versioned ${c} with a Runtime of version ${e_()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,i9,a)}}return this[b._op](b)},this))===vv){let a=vw.currentOp;if(a._op===eZ||a._op===eN)return vv;return vw.currentOp=null,a._op===eT||a._op===eP?a:oK(jb(a))}}catch(a){b=(b===vv||d3(b,"_op"))&&b._op in this?ox(a)?oK(je(jb(a),jc(k$))):m8(a):m9(`Not a valid effect: ${eG(b)}`)}}}run=()=>{this.drainQueueOnCurrentThread()}}let vB=dS("effect/FiberRef/currentMinimumLogLevel",()=>n9((a=>{switch(a){case"All":return nU;case"Debug":return nX;case"Error":return q$;case"Fatal":return qZ;case"Info":return nW;case"Trace":return q_;case"None":return nY;case"Warning":return nV}})("Info"))),vC=dS(Symbol.for("effect/Logger/defaultLogger"),()=>{let a;return a=ta,s6(b=>{jU(qC(b.context,p6),pU).unsafe.log(a.log(b))})}),vD=dS(Symbol.for("effect/Logger/tracerLogger"),()=>s6(({annotations:a,cause:b,context:c,fiberId:d,logLevel:e,message:f})=>{let g=jV(qC(c,oc),p0);if("None"===g._tag||"ExternalSpan"===g.value._tag)return;let h=jU(qC(c,p6),pk),i={};for(let[b,c]of a)i[b]=c;i["effect.fiberId"]=kY(d),i["effect.logLevel"]=e.label,null!==b&&"Empty"!==b._tag&&(i["effect.cause"]=jx(b,{renderErrorCause:!0})),g.value.event(eG(Array.isArray(f)&&1===f.length?f[0]:f),h.unsafeCurrentTimeNanos(),i)})),vE=dS(Symbol.for("effect/FiberRef/currentLoggers"),()=>{var a;let b;return a=i_(vC,vD),ob(a,{differ:b=l7({empty:lN,combine:(a,b)=>lR(b)(a),diff:(a,b)=>((a,b)=>{let[c,d]=iZ([a,lN],([a,b],c)=>{let d;return iO(c)(a)?[iV(c)(a),b]:[a,lR(((d=Object.create(lP)).value=c,d))(b)]})(b);return iZ(d,(a,b)=>{let c;return lR(((c=Object.create(lQ)).value=b,c))(a)})(c)})(a,b),patch:(a,b)=>lS(b)(a)}),fork:b.empty})}),vF=dE(a=>d3(a[0],mT),(a,b)=>nE(nC(a,a=>vG(c=>b(a,c))))),vG=a=>mY(b=>{let c=b.getFiberRefs(),d=mf(b.currentRuntimeFlags,1);return nh(vW,b=>{let e;return e=b=>mY(e=>{let f=e.getFiberRefs(),g=e.currentRuntimeFlags,h=qL(f,c),i=mn(g,d),j=qL(c,f);return e.setFiberRefs(qN(h,e.id(),c)),v6(nL(a(b),i),nB(()=>{e.setFiberRefs(qN(j,e.id(),e.getFiberRefs()))}))}),b.addFinalizer(e)})}),vH=((a,b)=>Array.from({length:b},()=>a),dE(a=>d8(a[0]),(a,b,c)=>mY(d=>{let e=c?.batching===!0||c?.batching==="inherit"&&d.getFiberRef(ok);return c?.discard?sv(c.concurrency,()=>vS(qs,c?.concurrentFinalizers)(c=>e?vJ(a,(a,d)=>c(b(a,d)),!0,!1,1):no(a,(a,d)=>c(b(a,d)))),()=>vS(qt,c?.concurrentFinalizers)(c=>vJ(a,(a,d)=>c(b(a,d)),e,!1)),d=>vS(qu(d),c?.concurrentFinalizers)(c=>vJ(a,(a,d)=>c(b(a,d)),e,!1,d))):sv(c?.concurrency,()=>vS(qs,c?.concurrentFinalizers)(c=>e?vK(a,1,(a,d)=>c(b(a,d)),!0):nn(a,(a,d)=>c(b(a,d)))),()=>vS(qt,c?.concurrentFinalizers)(c=>vI(a,(a,d)=>c(b(a,d)),e)),d=>vS(qu(d),c?.concurrentFinalizers)(c=>vK(a,d,(a,d)=>c(b(a,d)),e)))}))),vI=(a,b,c)=>nA(()=>{let d=gf(a),e=Array(d.length);return nP(vJ(d,(a,c)=>nh(b(a,c),a=>nB(()=>e[c]=a)),c,!1),nz(e))}),vJ=(a,b,c,d,e)=>nF(f=>{let g;return g=g=>mY(h=>{let i=Array.from(a).reverse(),j=i.length;if(0===j)return nG;let k=0,l=!1,m=e?Math.min(i.length,e):i.length,n=new Set,o=[],p=[],q=[],r=[],s=()=>{let a=o.filter(({exit:a})=>"Failure"===a._tag).sort((a,b)=>a.index<b.index?-1:+(a.index!==b.index)).map(({exit:a})=>a);return 0===a.length&&a.push(oR),a},t=(a,b=!1)=>{let c=nE(g(a)),d=vN(c,h,h.currentRuntimeFlags,sY);return h.currentScheduler.scheduleTask(()=>{b&&d.unsafeInterruptAsFork(h.id()),d.resume(c)},0),d},u=()=>{d||(j-=i.length,i=[]),l=!0,n.forEach(a=>{a.currentScheduler.scheduleTask(()=>{a.unsafeInterruptAsFork(h.id())},0)})},v=c?ni:nb,w=t(m3(a=>{let d=(a,b)=>{"Blocked"===a._op?r.push(a):(o.push({index:b,exit:a}),"Failure"!==a._op||l||u())},g=()=>{if(i.length>0){let m=i.pop(),u=k++,w=a=>{if(i.length>0&&(d(a,u),i.length>0)){let a;return a=i.pop(),u=k++,nh(nM(),()=>nh(v(f(b(a,u))),w))}return nz(a)},x=t(nh(v(f(b(m,u))),w));p.push(x),n.add(x),l&&x.currentScheduler.scheduleTask(()=>{x.unsafeInterruptAsFork(h.id())},0),x.addObserver(b=>{let f;if(f="Failure"===b._op?b:b.effect_instruction_i0,q.push(x),n.delete(x),d(f,u),o.length===j)a(nz(fS(oJ(s(),{parallel:!0}),()=>oR)));else if(r.length+o.length===j){let b=s();a(nz(mS(r.map(a=>a.effect_instruction_i0).reduce(mq),vJ([fS(oJ(b,{parallel:!0}),()=>oR),...r.map(a=>a.effect_instruction_i1)],a=>a,c,!0,e))))}else g()})}};for(let a=0;a<m;a++)g()}));return m_(nv(nj(f(s1(w))),oO({onFailure:a=>{u();let b=r.length+1,c=Math.min("number"==typeof e?e:r.length,r.length),d=Array.from(r);return m3(e=>{let f=[],g=0,h=0,i=(c,h)=>i=>{f[c]=i,++g===b&&e(oQ(oK(a))),d.length>0&&h&&j()},j=()=>{t(d.pop(),!0).addObserver(i(h,!0)),h++};w.addObserver(i(h,!1)),h++;for(let a=0;a<c;a++)j()})},onSuccess:()=>nn(q,a=>a.inheritAll)})))}),mY(a=>{let b=dL(a.getFiberRef(oo),fS(()=>a.scope()));return g(n7(oo,fQ(b)))})}),vK=(a,b,c,d)=>nA(()=>{let e=gf(a),f=Array(e.length);return nP(vJ(e,(a,b)=>ns(c(a,b),a=>f[b]=a),d,!1,b),nz(f))}),vL=a=>vP(a,sY),vM=(a,b,c,d=null)=>{let e=vO(a,b,c,d);return e.resume(a),e},vN=(a,b,c,d=null)=>vO(a,b,c,d),vO=(a,b,c,d=null)=>{let e=k0(),f=qy(b.getFiberRefs(),e),g=new vA(e,f,c),h=qC(f,oc),i=g.currentSupervisor;return i.onStart(h,a,fQ(b),g),g.addObserver(a=>i.onEnd(a,g)),(null!==d?d:dL(b.getFiberRef(oo),fS(()=>b.scope()))).add(c,g),g},vP=(a,b)=>mY((c,d)=>nz(vM(a,c,d.runtimeFlags,b))),vQ=((a=>"function"==typeof a[2],(a,b,c,d)=>((a,b,c)=>{switch(a){case void 0:return b();case"unbounded":return c();case"inherit":return n0(oj,a=>"unbounded"===a||a>1?c():b());default:return a>1?c():b()}})(d?.concurrency,()=>gf(a).reduce((a,b,d)=>nQ(a,b,(a,b)=>c(a,b,d)),nz(b)),()=>nh(sl(b),b=>nh(vH(a,(a,d)=>nh(a,a=>so(b,b=>c(b,a,d))),d),()=>b.get)))),a=>{let b;return b=b=>fR(jV(b,vV),{onNone:()=>a,onSome:b=>{switch(b.strategy._tag){case"Parallel":return a;case"Sequential":case"ParallelN":let c,d;return nh((c=b,d=qt,c.fork(d)),b=>v$(a,b))}}}),nh(o2,b)}),vR=a=>b=>{let c;return c=c=>fR(jV(c,vV),{onNone:()=>b,onSome:c=>{let d,e;return"ParallelN"===c.strategy._tag&&c.strategy.parallelism===a?b:nh((d=c,e=qu(a),d.fork(e)),a=>v$(b,a))}}),nh(o2,c)},vS=(a,b)=>c=>nh(o2,d=>fR(jV(d,vV),{onNone:()=>c(dF),onSome:d=>{if(!0!==b)return c(dF);{let b="Parallel"===a._tag?vQ:"Sequential"===a._tag?vT:vR(a.parallelism);switch(d.strategy._tag){case"Parallel":return b(c(vQ));case"Sequential":return b(c(vT));case"ParallelN":return b(c(vR(d.strategy.parallelism)))}}}})),vT=a=>{let b;return b=b=>fR(jV(b,vV),{onNone:()=>a,onSome:b=>{switch(b.strategy._tag){case"Sequential":return a;case"Parallel":case"ParallelN":let c,d;return nh((c=b,d=qs,c.fork(d)),b=>v$(a,b))}}}),nh(o2,b)},vU=((a=>d3(a[1],mT),(a,b,c,d)=>nj(vU(nb(a),nb(b),(a,b)=>oS(a,b,{onSuccess:c,onFailure:(a,b)=>d?.concurrent?jd(a,b):je(a,b)}),d))),dE(a=>d3(a[1],mT),(a,b,c,d)=>ns(((a,b)=>{let[c,d]=(a=>{if(Array.isArray(a)||d8(a))return[a,fP()];let b=Object.keys(a),c=b.length;return[b.map(b=>a[b]),fQ(a=>{let d={};for(let e=0;e<c;e++)d[b[e]]=a[e];return d})]})(a);if(b?.mode==="validate"){let a=[];for(let b of c)a.push(na(b));return nh(vH(a,dF,{concurrency:b?.concurrency,batching:b?.batching,concurrentFinalizers:b?.concurrentFinalizers}),a=>{let c=fP(),e=a.length,f=Array(e),g=Array(e),h=!1;for(let b=0;b<e;b++){let d=a[b];"Left"===d._tag?(f[b]=fQ(d.left),h=!0):(g[b]=d.right,f[b]=c)}return h?"Some"===d._tag?nc(d.value(f)):nc(f):b?.discard?nG:"Some"===d._tag?nz(d.value(g)):nz(g)})}if(b?.mode==="either"){let a=[];for(let b of c)a.push(na(b));return b?.discard?vH(a,dF,{concurrency:b?.concurrency,batching:b?.batching,discard:!0,concurrentFinalizers:b?.concurrentFinalizers}):ns(vH(a,dF,{concurrency:b?.concurrency,batching:b?.batching,concurrentFinalizers:b?.concurrentFinalizers}),a=>"Some"===d._tag?d.value(a):a)}return b?.discard!==!0&&"Some"===d._tag?ns(vH(c,dF,b),d.value):vH(c,dF,b)})([a,b],{concurrency:d?.concurrent?2:1,batching:d?.batching,concurrentFinalizers:d?.concurrentFinalizers}),([a,b])=>c(a,b)))),vV=jX("effect/Scope"),vW=vV,vX={[oq]:oq,[or]:or,pipe(){return eM(this,arguments)},fork(a){return nB(()=>{var b;let c=vY(a);if("Closed"===this.state._tag)return c.state=this.state,c;let d={};return this.state.finalizers.set(d,a=>c.close(a)),b=a=>nB(()=>{"Open"===this.state._tag&&this.state.finalizers.delete(d)}),"Open"===c.state._tag&&c.state.finalizers.set({},b),c})},close(a){return nA(()=>{if("Closed"===this.state._tag)return nG;let b=Array.from(this.state.finalizers.values()).reverse();return(this.state={_tag:"Closed",exit:a},0===b.length)?nG:this.strategy._tag===qq?dL(nn(b,b=>nb(b(a))),nh(a=>dL(oJ(a),f_(oI),fS(()=>oR)))):this.strategy._tag===qr?dL(vI(b,b=>nb(b(a)),!1),nh(a=>dL(oJ(a,{parallel:!0}),f_(oI),fS(()=>oR)))):dL(vK(b,this.strategy.parallelism,b=>nb(b(a)),!1),nh(a=>dL(oJ(a,{parallel:!0}),f_(oI),fS(()=>oR))))})},addFinalizer(a){return nA(()=>"Closed"===this.state._tag?a(this.state.exit):(this.state.finalizers.set({},a),nG))}},vY=(a=qs)=>{let b=Object.create(vX);return b.strategy=a,b.state={_tag:"Open",finalizers:new Map},b},vZ=(a=qs)=>nB(()=>vY(a)),v$=dE(2,(a,b)=>o5(a,jW(jQ(vV,b)))),v_=dE(2,(a,b)=>m_(vF(nh(n_(a),c=>m$(n1(a,b),c)),b=>n1(a,b)))),v0=dE(2,(a,b)=>n0(a,c=>v_(a,b(c)))),v1=ob(ml,{differ:mp,fork:mp.empty}),v2=ob(vc,{differ:vl,fork:vh}),v3=dE(3,(a,b,c)=>v4(a,b,{onSelfWin:(a,b)=>nh(a.await,d=>{switch(d._tag){case eT:return nh(a.inheritAll,()=>c.onSelfDone(d,b));case eP:return c.onSelfDone(d,b)}}),onOtherWin:(a,b)=>nh(a.await,d=>{switch(d._tag){case eT:return nh(a.inheritAll,()=>c.onOtherDone(d,b));case eP:return c.onOtherDone(d,b)}})})),v4=((a,b)=>ng(c=>v3(a,b,{onSelfDone:(a,b)=>oP(a,{onFailure:a=>dL(s1(b),sE(b=>jd(a,b))),onSuccess:a=>dL(b,nT(c),m$(a))}),onOtherDone:(a,b)=>oP(a,{onFailure:a=>dL(s1(b),sE(b=>jd(b,a))),onSuccess:a=>dL(b,nT(c),m$(a))})})),dE(3,(a,b,c)=>mY((d,e)=>{let f=e.runtimeFlags,g=kG(!0),h=vO(a,d,f,c.selfScope),i=vO(b,d,f,c.otherScope);return m3(d=>{h.addObserver(()=>v5(h,i,c.onSelfWin,g,d)),i.addObserver(()=>v5(i,h,c.onOtherWin,g,d)),h.startFork(a),i.startFork(b)},kU(h.id(),i.id()))}))),v5=(a,b,c,d,e)=>{kH(!0,!1)(d)&&e(c(a,b))},v6=dE(2,(a,b)=>nF(c=>nl(c(a),{onFailure:a=>nl(b,{onFailure:b=>nd(je(a,b)),onSuccess:()=>nd(a)}),onSuccess:a=>m$(b,a)}))),v7=(a,b,c)=>ng(d=>nh(nh(vL(nq(a)),a=>m3(d=>{let e=b.map(a=>a.listeners.count),f=()=>{e.every(a=>0===a)&&b.every(a=>{if("Pending"===a.result.state.current._tag)return!0;return!!("Done"===a.result.state.current._tag&&oF(a.result.state.current.effect)&&"Failure"===a.result.state.current.effect._tag&&fh(jp(a.result.state.current.effect.cause,a=>a._tag===i3?fQ(a.fiberId):fP())))||!1})&&(g.forEach(a=>a()),c?.(),d(nS(a)))};a.addObserver(a=>{g.forEach(a=>a()),d(a)});let g=b.map((a,b)=>{let c=a=>{e[b]=a,f()};return a.listeners.addObserver(c),()=>a.listeners.removeObserver(c)});return f(),nB(()=>{g.forEach(a=>a())})})),()=>nA(()=>no(b.flatMap(a=>a.state.completed?[]:[a]),a=>uC(a.request,oK(jc(d))))))),v8=Symbol.for("effect/ScheduleInterval"),v9={[v8]:v8,startMillis:0,endMillis:0},wa=(a,b)=>a>b?v9:{[v8]:v8,startMillis:a,endMillis:b},wb=dE(2,(a,b)=>wc(a,b)===a),wc=dE(2,(a,b)=>a.endMillis<=b.startMillis?a:b.endMillis<=a.startMillis?b:a.startMillis<b.startMillis?a:b.startMillis<a.startMillis?b:a.endMillis<=b.endMillis?a:b),wd=dE(2,(a,b)=>wa(Math.max(a.startMillis,b.startMillis),Math.min(a.endMillis,b.endMillis))),we=a=>a.startMillis>=a.endMillis,wf=Symbol.for("effect/ScheduleIntervals"),wg=a=>({[wf]:wf,intervals:a}),wh=dE(2,(a,b)=>h0(b.intervals)?h0(a.intervals)?h2(a.intervals).startMillis<h2(b.intervals).startMillis?wi(h3(a.intervals),b.intervals,h2(a.intervals),hL()):wi(a.intervals,h3(b.intervals),h2(b.intervals),hL()):b:a),wi=(a,b,c,d)=>{let e=a,f=b,g=c,h=d;for(;h0(e)||h0(f);)if(!h0(e)&&h0(f))g.endMillis<h2(f).startMillis?(h=dL(h,hX(g)),g=h2(f)):g=wa(g.startMillis,h2(f).endMillis),f=h3(f),e=hL();else if(h0(e)&&h_(f))g.endMillis<h2(e).startMillis?(h=dL(h,hX(g)),g=h2(e)):g=wa(g.startMillis,h2(e).endMillis),f=hL(),e=h3(e);else if(h0(e)&&h0(f))h2(e).startMillis<h2(f).startMillis?(g.endMillis<h2(e).startMillis?(h=dL(h,hX(g)),g=h2(e)):g=wa(g.startMillis,h2(e).endMillis),e=h3(e)):(g.endMillis<h2(f).startMillis?(h=dL(h,hX(g)),g=h2(f)):g=wa(g.startMillis,h2(f).endMillis),f=h3(f));else throw Error(ea("Intervals.unionLoop"));return wg(dL(h,hX(g),hR))},wj=dE(2,(a,b)=>wk(a.intervals,b.intervals,hL())),wk=(a,b,c)=>{let d=a,e=b,f=c;for(;h0(d)&&h0(e);){let a=dL(h2(d),wd(h2(e))),b=we(a)?f:dL(f,hX(a));dL(h2(d),wb(h2(e)))?d=h3(d):e=h3(e),f=b}return wg(hR(f))},wl=a=>dL(a.intervals,h1,fS(()=>v9)).startMillis,wm=dE(2,(a,b)=>wl(a)<wl(b)),wn=((a,b)=>wm(a,b)?b:a,a=>dL(a.intervals,h1,fS(()=>v9)).endMillis),wo="Continue",wp="Done",wq=a=>({_tag:wo,intervals:a}),wr=a=>({_tag:wo,intervals:wg(hN(a))}),ws={_tag:wp};class wt{permits;waiters=new Set;taken=0;constructor(a){this.permits=a}get free(){return this.permits-this.taken}take=a=>m2(b=>{if(this.free<a){let c=()=>{this.free<a||(this.waiters.delete(c),this.taken+=a,b(nz(a)))};return this.waiters.add(c),nB(()=>{this.waiters.delete(c)})}return this.taken+=a,b(nz(a))});updateTakenUnsafe(a,b){return this.taken=b(this.taken),this.waiters.size>0&&a.getFiberRef(st).scheduleTask(()=>{let a=this.waiters.values(),b=a.next();for(;!1===b.done&&this.free>0;)b.value(),b=a.next()},a.getFiberRef(od)),nz(this.free)}updateTaken(a){return mY(b=>this.updateTakenUnsafe(b,a))}resize=a=>m_(mY(b=>(this.permits=a,this.free<0)?nG:this.updateTakenUnsafe(b,a=>a)));release=a=>this.updateTaken(b=>b-a);releaseAll=this.updateTaken(a=>0);withPermits=a=>b=>nF(c=>nh(c(this.take(a)),a=>v6(c(b),this.release(a))));withPermitsIfAvailable=a=>b=>nF(c=>nA(()=>this.free<a?sH:(this.taken+=a,v6(c(ns(b,fQ)),this.release(a)))))}(a,b)=>{let c=j6(b);return nh(o2,b=>ns(wC(fP()),d=>[o3(wv(a,c,d),b),ww(d)]))};let wu=(a,b,c)=>{let d=kn(j6(b));return dL(oV(),nC(b=>nr(a,b)),ns(a=>fQ([c+d,a])))},wv=(a,b,c)=>nF(d=>dL(p8(a=>a.currentTimeMillis),nh(d=>wE(c,c=>{switch(c._tag){case"None":return fQ(wu(a,b,d));case"Some":{let[e]=c.value;return e-d<=0?fQ(wu(a,b,d)):fP()}}})),nh(a=>fg(a)?m9("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):d(oX(a.value[1]))))),ww=a=>sm(a,fP()),wx=((a,b)=>nh(vb,c=>dL(wx(a,c),v6(nh(c.value,b)))),dE(2,(a,b)=>n8(v2,a=>a.zip(b))(a))),wy=((a,{duration:b,onTimeout:c})=>nj(wy(a,{onTimeout:()=>nh(nB(c),nc),onSuccess:nz,duration:b})),dE(2,(a,{duration:b,onSuccess:c,onTimeout:d})=>ng(e=>nF(f=>v4(f(a),nq(sw(b)),{onSelfWin:(a,b)=>nh(a.await,d=>"Success"===d._tag?nh(a.inheritAll,()=>m$(nT(b,e),c(d.value))):nh(nT(b,e),()=>oK(d.cause))),onOtherWin:(a,b)=>nh(a.await,c=>"Success"===c._tag?nh(a.inheritAll,()=>m$(nT(b,e),d())):nh(nT(b,e),()=>oK(c.cause))),otherScope:sY}))))),wz=Symbol.for("effect/Ref/SynchronizedRef"),wA={_A:a=>a};class wB extends qp{ref;withLock;[wz]=wA;[sh]=si;[sg]=sg;constructor(a,b){super(),this.ref=a,this.withLock=b,this.get=this.ref.get}get;commit(){return this.get}modify(a){return this.modifyEffect(b=>nz(a(b)))}modifyEffect(a){return this.withLock(dL(nh(this.ref.get,a),nh(([a,b])=>m$(sm(this.ref,b),a))))}}let wC=a=>nB(()=>wD(a)),wD=a=>new wB(sk(a),new wt(1).withPermits(1)),wE=dE(2,(a,b)=>a.modifyEffect(a=>{let c=b(a);switch(c._tag){case"None":return nz([a,a]);case"Some":return ns(c.value,a=>[a,a])}})),wF=((a,b,c)=>({...e7,commit(){return s1(this)},[sZ]:s$,id:()=>dL(a.id(),kV(b.id())),await:dL(a.await,nj,vU(nj(b.await),c,{concurrent:!0}),nb),children:a.children,inheritAll:nP(b.inheritAll,a.inheritAll),poll:nQ(a.poll,b.poll,(a,b)=>dL(a,f0(a=>dL(b,f_(b=>oS(a,b,{onSuccess:c,onFailure:jd})))))),interruptAsFork:c=>nP(a.interruptAsFork(c),b.interruptAsFork(c)),pipe(){return eM(this,arguments)}}),Symbol.for("effect/ManagedRuntime")),wG="Fresh",wH=a=>function(){if(1==arguments.length){let b=arguments[0];return(c,...d)=>a(b,c,...d)}return a.apply(this,arguments)},wI=wH((a,b,c)=>{let d,e,f=k0(),g=[[oc,[[f,a.context]]]];c?.scheduler&&g.push([st,[[f,c.scheduler]]]);let h=qF(a.fiberRefs,{entries:g,forkAs:f});c?.updateRefs&&(h=c.updateRefs(h,f));let i=new vA(f,h,a.runtimeFlags),j=b;c?.scope&&(j=nh((d=c.scope,e=qs,d.fork(e)),a=>{let c,d;return nP((c=a,d=ng(a=>ex(a,i.id())?nG:nT(i,a)),c.addFinalizer(()=>m_(d))),nv(b,b=>{let c,d;return c=a,d=b,c.close(d)}))}));let k=i.currentSupervisor;return k!==vc&&(k.onStart(a.context,j,fP(),i),i.addObserver(a=>k.onEnd(a,i))),sY.add(a.runtimeFlags,i),c?.immediate===!1?i.resume(j):i.start(j),i}),wJ=wH((a,b,c={})=>{let d=wI(a,b,c);return c.onExit&&d.addObserver(a=>{c.onExit(a)}),(b,c)=>wJ(a)(dL(d,nT(b??k$)),{...c,onExit:c?.onExit?a=>c.onExit(dL(a,oL(dF))):void 0})}),wK=wH((a,b)=>{let c=wR(a)(b);if("Failure"===c._tag)throw wP(c.effect_instruction_i0);return c.effect_instruction_i0});class wL extends Error{fiber;_tag="AsyncFiberException";constructor(a){super(`Fiber #${a.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=a,this.name=this._tag,this.stack=this.message}}let wM=Symbol.for("effect/Runtime/FiberFailure"),wN=Symbol.for("effect/Runtime/FiberFailure/Cause");class wO extends Error{[wM];[wN];constructor(a){const b=jF(a)[0];super(b?.message||"An error has occurred"),this[wM]=wM,this[wN]=a,this.name=b?`(FiberFailure) ${b.name}`:"FiberFailure",b?.stack&&(this.stack=b.stack)}toJSON(){return{_id:"FiberFailure",cause:this[wN].toJSON()}}toString(){return"(FiberFailure) "+jx(this[wN],{renderErrorCause:!0})}[eA](){return this.toString()}}let wP=a=>{let b=Error.stackTraceLimit;Error.stackTraceLimit=0;let c=new wO(a);return Error.stackTraceLimit=b,c},wQ=a=>{switch(a._op){case"Failure":case"Success":return a;case"Left":return oK(ja(a.left));case"Right":return oQ(a.right);case"Some":return oQ(a.value);case"None":return oK(ja(new oB))}},wR=wH((a,b)=>{let c,d,e=wQ(b);if(e)return e;let f=new ss,g=wI(a)(b,{scheduler:f});f.flush();let h=g.unsafePoll();return h?h:oK(jb(m7((c=Error.stackTraceLimit,Error.stackTraceLimit=0,d=new wL(g),Error.stackTraceLimit=c,d),o6(g))))}),wS=wH((a,b,c)=>wT(a,b,c).then(a=>{switch(a._tag){case eT:return a.effect_instruction_i0;case eP:throw wP(a.effect_instruction_i0)}})),wT=wH((a,b,c)=>new Promise(d=>{let e=wQ(b);e&&d(e);let f=wI(a)(b);f.addObserver(a=>{d(a)}),c?.signal!==void 0&&(c.signal.aborted?f.unsafeInterruptAsFork(f.id()):c.signal.addEventListener("abort",()=>{f.unsafeInterruptAsFork(f.id())},{once:!0}))}));class wU{context;runtimeFlags;fiberRefs;constructor(a,b,c){this.context=a,this.runtimeFlags=b,this.fiberRefs=c}pipe(){return eM(this,arguments)}}let wV=a=>new wU(a.context,a.runtimeFlags,a.fiberRefs),wW=wV({context:jP,runtimeFlags:mk(1,32,4),fiberRefs:new qw(new Map)}),wX=((a,b)=>wV({context:a.context,runtimeFlags:b(a.runtimeFlags),fiberRefs:a.fiberRefs}),wI(wW)),wY=wS(wW),wZ=wK(wW),w$=dE(2,(a,b)=>a.modifyEffect(b)),w_=Symbol.for("effect/Layer"),w0={[w_]:{_RIn:a=>a,_E:a=>a,_ROut:a=>a},pipe(){return eM(this,arguments)}},w1=Symbol.for("effect/Layer/MemoMap"),w2=jZ()("effect/Layer/CurrentMemoMap",{defaultValue:()=>w5()});class w3{ref;[w1];constructor(a){this.ref=a,this[w1]=w1}getOrElseMemoize(a,b){return dL(w$(this.ref,c=>{let d=c.get(a);if(void 0!==d){let[a,e]=d;return nz([dL(a,nh(([a,b])=>{let c;return dL((c=(b,c)=>dL(a,qN(b,c)),mY(a=>(a.setFiberRefs(c(a.id(),a.getFiberRefs())),nG))),m$(b))}),nv(oO({onFailure:()=>nG,onSuccess:()=>b.addFinalizer(e)}))),c])}return dL(sl(0),nh(d=>dL(oV(),nh(e=>dL(sl(()=>nG),ns(f=>{let g=nF(g=>dL(vZ(),nh(h=>dL(g(nh(w8(a,h,!0),a=>sI(a(this),sD,qL))),nb,nh(g=>{switch(g._tag){case eP:let i,j;return dL(o$(e,g.effect_instruction_i0),nP((i=h,j=g,i.close(j))),nP(nd(g.effect_instruction_i0)));case eT:let k;return dL(sm(f,a=>{let b,c;return dL((b=h,c=a,b.close(c)),nH(sn(d,a=>[1===a,a-1])),m_)}),nP(so(d,a=>a+1)),nP((k=b=>dL(nB(()=>c.delete(a)),nP(f.get),nh(a=>a(b))),b.addFinalizer(k))),nP(o_(e,g.effect_instruction_i0)),m$(g.effect_instruction_i0[1]))}}))))),h=[dL(oX(e),nv(oP({onFailure:()=>nG,onSuccess:()=>so(d,a=>a+1)}))),a=>dL(f.get,nh(b=>b(a)))];return[g,a._op_layer===wG?c:c.set(a,h)]}))))))}),nj)}}let w4=nA(()=>ns(wC(new Map),a=>new w3(a))),w5=()=>new w3(wD(new Map)),w6=dE(2,(a,b)=>nh(w4,c=>w7(a,c,b))),w7=dE(3,(a,b,c)=>nh(w8(a,c),a=>sF(a(b),w2,b))),w8=(a,b,c=!1)=>{switch(a._op_layer){case"Locally":return nB(()=>c=>a.f(c.getOrElseMemoize(a.self,b)));case"ExtendScope":return nB(()=>b=>nh(vV,c=>b.getOrElseMemoize(a.layer,c)));case"Fold":return nB(()=>c=>dL(c.getOrElseMemoize(a.layer,b),nl({onFailure:d=>c.getOrElseMemoize(a.failureK(d),b),onSuccess:d=>c.getOrElseMemoize(a.successK(d),b)})));case"Fresh":return nB(()=>c=>dL(a.layer,w6(b)));case"FromEffect":return c?nB(()=>b=>a.effect):nB(()=>c=>c.getOrElseMemoize(a,b));case"Provide":return nB(()=>c=>dL(c.getOrElseMemoize(a.first,b),nh(d=>dL(c.getOrElseMemoize(a.second,b),o3(d)))));case"Scoped":return c?nB(()=>c=>v$(a.effect,b)):nB(()=>c=>c.getOrElseMemoize(a,b));case"Suspend":return nB(()=>c=>c.getOrElseMemoize(a.evaluate(),b));case"ProvideMerge":return nB(()=>c=>dL(c.getOrElseMemoize(a.first,b),nQ(c.getOrElseMemoize(a.second,b),a.zipK)));case"ZipWith":return nK(function*(){let c,d,e,f,g,h,i=yield*(c=b,d=qt,c.fork(d)),j=yield*(e=i,f=qs,e.fork(f)),k=yield*(g=i,h=qs,g.fork(h));return b=>dL(b.getOrElseMemoize(a.first,j),vU(b.getOrElseMemoize(a.second,k),a.zipK,{concurrent:!0}))});case"MergeAll":{let c,d,e=a.layers;return ns((c=b,d=qt,c.fork(d)),a=>b=>{let c=Array(e.length);return ns(vJ(e,((a,...b)=>Object.defineProperty(0===b.length?function(...b){return nJ(()=>a.apply(this,b))}:function(...c){let d=nJ(()=>a.apply(this,c));for(let a of b)d=a(d,...c);return d},"length",{value:a.length,configurable:!0}))(function*(d,e){let f,g,h=yield*(f=a,g=qs,f.fork(g)),i=yield*b.getOrElseMemoize(d,h);c[e]=i}),!1,!1),()=>((...a)=>{let b=new Map;for(let c=0;c<a.length;c++)a[c].unsafeMap.forEach((a,c)=>{b.set(c,a)});return jN(b)})(...c))})}}},w9=dE(2,(a,b)=>xg(a,{onFailure:b,onSuccess:xk})),xa=((a,b)=>xf(a,{onFailure:b,onSuccess:xk}),a=>xb(ja(a))),xb=a=>xe(nd(a)),xc=dE(2,(a,b)=>xg(a,{onFailure:xa,onSuccess:b})),xd=dE(2,(a,b)=>{let c=d3(a,jG),d=c?a:b;return xe(ns(c?b:a,a=>jQ(d,a)))});function xe(a){let b=Object.create(w0);return b._op_layer="FromEffect",b.effect=a,b}(a,b)=>{let c=Object.create(w0);return c._op_layer="Locally",c.self=a,c.f=b,c};(a,b)=>xc(a,a=>xk(b(a)));let xf=dE(2,(a,{onFailure:b,onSuccess:c})=>{let d=Object.create(w0);return d._op_layer="Fold",d.layer=a,d.failureK=b,d.successK=c,d}),xg=dE(2,(a,{onFailure:b,onSuccess:c})=>xf(a,{onFailure:a=>{let c=jj(a);switch(c._tag){case"Left":return b(c.left);case"Right":return xb(c.right)}},onSuccess:c})),xh=(...a)=>{let b=Object.create(w0);return b._op_layer="MergeAll",b.layers=a,b},xi=((a,b)=>{let c=d3(a,jG),d=c?a:b;return xj(ns(c?b:a,a=>jQ(d,a)))},a=>xj(dL(a,m$(jP)))),xj=a=>{let b=Object.create(w0);return b._op_layer="Scoped",b.effect=a,b},xk=((a,b)=>{let c=d3(a,jG);return xe(nz(jQ(c?a:b,c?b:a)))},a=>xe(nz(a))),xl=a=>{let b=Object.create(w0);return b._op_layer="Suspend",b.evaluate=a,b},xm=((a,b)=>{let c=d3(a,jG),d=c?a:b,e=c?b:a;return xe(nB(()=>jQ(d,e())))},dE(2,(a,b)=>{let c;return c=c=>nh(w6(b,c),b=>o4(a,b)),nh(vZ(),a=>nv(c(a),b=>a.close(b)))})),xn=dE(2,(a,b)=>{let c=qL(wW.fiberRefs,b.fiberRefs),d=mn(wW.runtimeFlags,b.runtimeFlags);return nF(e=>mY(f=>{let g=f.getFiberRef(oc),h=f.getFiberRefs(),i=qN(f.id(),h)(c),j=f.currentRuntimeFlags,k=mo(d)(j),l=qL(i,h),m=mn(k,j);return f.setFiberRefs(i),f.currentRuntimeFlags=k,v6(o4(e(a),jW(g,b.context)),mY(a=>(a.setFiberRefs(qN(a.id(),a.getFiberRefs())(l)),a.currentRuntimeFlags=mo(m)(a.currentRuntimeFlags),nG)))}))}),xo=((a,b)=>Array.isArray(b)?xm(a,xh(...b)):d3(b,w_)?xm(a,b):jO(b)?o4(a,b):wF in b?nh(b.runtimeEffect,b=>xn(a,b)):xn(a,b),Symbol.for("effect/DateTime")),xp=Symbol.for("effect/DateTime/TimeZone"),xq={[xo]:xo,pipe(){return eM(this,arguments)},[eA](){return this.toString()},toJSON(){return xQ(this).toJSON()}},xr={...xq,_tag:"Utc",[el](){return ev(this,er(this.epochMillis))},[ew](a){return xx(a)&&"Utc"===a._tag&&this.epochMillis===a.epochMillis},toString(){return`DateTime.Utc(${xQ(this).toJSON()})`}},xs={...xq,_tag:"Zoned",[el](){return dL(er(this.epochMillis),eo(em(this.zone)),ev(this))},[ew](a){return xx(a)&&"Zoned"===a._tag&&this.epochMillis===a.epochMillis&&ex(this.zone,a.zone)},toString(){return`DateTime.Zoned(${x3(this)})`}},xt={[xp]:xp,[eA](){return this.toString()}},xu={...xt,_tag:"Named",[el](){return ev(this,es(`Named:${this.id}`))},[ew](a){return xz(a)&&"Named"===a._tag&&this.id===a.id},toString(){return`TimeZone.Named(${this.id})`},toJSON(){return{_id:"TimeZone",_tag:"Named",id:this.id}}},xv={...xt,_tag:"Offset",[el](){return ev(this,es(`Offset:${this.offset}`))},[ew](a){return xz(a)&&"Offset"===a._tag&&this.offset===a.offset},toString(){return`TimeZone.Offset(${xT(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},xw=(a,b,c)=>{let d=Object.create(xs);return d.epochMillis=a,d.zone=b,Object.defineProperty(d,"partsUtc",{value:c,enumerable:!1,writable:!0}),Object.defineProperty(d,"adjustedEpochMillis",{value:void 0,enumerable:!1,writable:!0}),Object.defineProperty(d,"partsAdjusted",{value:void 0,enumerable:!1,writable:!0}),d},xx=a=>d3(a,xo),xy=a=>xx(a[0]),xz=a=>d3(a,xp),xA=a=>"Zoned"===a._tag,xB=dM((a,b)=>a.epochMillis===b.epochMillis),xC=a=>{let b=Object.create(xr);return b.epochMillis=a,Object.defineProperty(b,"partsUtc",{value:void 0,enumerable:!1,writable:!0}),b},xD=a=>{let b=a.getTime();if(Number.isNaN(b))throw new oz("Invalid date");return xC(b)},xE=a=>{if(xx(a))return a;if(a instanceof Date)return xD(a);if("object"==typeof a){let b=new Date(0);return xV(b,a),xD(b)}return"string"!=typeof a||xF(a)?xD(new Date(a)):xD(new Date(a+"Z"))},xF=a=>/Z|[+-]\d{2}$|[+-]\d{2}:?\d{2}$|\]$/.test(a),xG=(a,b)=>{let c;if(b?.timeZone===void 0&&xx(a)&&xA(a))return a;let d=xE(a);if(d.epochMillis<-86399999568e5||d.epochMillis>86399999496e5)throw RangeError(`Epoch millis out of range: ${d.epochMillis}`);if(b?.timeZone===void 0)c=xM(-60*new Date(d.epochMillis).getTimezoneOffset()*1e3);else if(xz(b?.timeZone))c=b.timeZone;else if("number"==typeof b?.timeZone)c=xM(b.timeZone);else{let a=xP(b.timeZone);if(fg(a))throw new oz(`Invalid time zone: ${b.timeZone}`);c=a.value}return b?.adjustForTimeZone!==!0?xw(d.epochMillis,c,d.partsUtc):xW(d.epochMillis,c,b?.disambiguation??"compatible")},xH=fY(xG),xI=/^(.{17,35})\[(.+)\]$/,xJ=((a,b,c)=>c?.adjustForTimeZone===!0?xW(a.epochMillis,b,c?.disambiguation??"compatible"):xw(a.epochMillis,b,a.partsUtc),dS("effect/DateTime/validZoneCache",()=>new Map)),xK={day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"longOffset",fractionalSecondDigits:3,hourCycle:"h23"},xL=a=>{if(xJ.has(a))return xJ.get(a);try{var b=new Intl.DateTimeFormat("en-US",{...xK,timeZone:a});let c=b.resolvedOptions().timeZone;if(xJ.has(c))return xJ.get(c);let d=Object.create(xu);return d.id=c,d.format=b,xJ.set(c,d),d}catch{throw new oz(`Invalid time zone: ${a}`)}},xM=a=>{let b=Object.create(xv);return b.offset=a,b},xN=fY(xL),xO=/^(?:GMT|[+-])/,xP=a=>{if(xO.test(a)){let b=xY(a);return null===b?fP():fQ(xM(b))}return xN(a)},xQ=((a,b)=>xU(b)-xU(a),a=>new Date(a.epochMillis)),xR=a=>{if("Utc"===a._tag)return new Date(a.epochMillis);if("Offset"===a.zone._tag)return new Date(a.epochMillis+a.zone.offset);if(void 0!==a.adjustedEpochMillis)return new Date(a.adjustedEpochMillis);let b=a.zone.format.formatToParts(a.epochMillis).filter(a=>"literal"!==a.type),c=new Date(0);return c.setUTCFullYear(Number(b[2].value),Number(b[0].value)-1,Number(b[1].value)),c.setUTCHours(Number(b[3].value),Number(b[4].value),Number(b[5].value),Number(b[6].value)),a.adjustedEpochMillis=c.getTime(),c},xS=a=>xR(a).getTime()-xU(a),xT=a=>{let b=Math.abs(a),c=Math.floor(b/36e5),d=Math.round(b%36e5/6e4);return 60===d&&(c+=1,d=0),`${a<0?"-":"+"}${String(c).padStart(2,"0")}:${String(d).padStart(2,"0")}`},xU=a=>a.epochMillis,xV=(a,b)=>{if(void 0!==b.year&&a.setUTCFullYear(b.year),void 0!==b.month&&a.setUTCMonth(b.month-1),void 0!==b.day&&a.setUTCDate(b.day),void 0!==b.weekDay){let c=b.weekDay-a.getUTCDay();a.setUTCDate(a.getUTCDate()+c)}void 0!==b.hours&&a.setUTCHours(b.hours),void 0!==b.minutes&&a.setUTCMinutes(b.minutes),void 0!==b.seconds&&a.setUTCSeconds(b.seconds),void 0!==b.millis&&a.setUTCMilliseconds(b.millis)},xW=(a,b,c)=>{if("Offset"===b._tag)return xw(a-b.offset,b);let d=xZ(a-864e5,a,b),e=xZ(a+864e5,a,b);if(d===e)return xw(a-d,b);let f=d-e;if(d<e){if(xZ(a-e,a,b)===e)return xw(a-e,b);let f=xw(a-d,b);if(a!==xR(f).getTime())switch(c){case"reject":{let c=new Date(a).toISOString();throw RangeError(`Gap time: ${c} does not exist in time zone ${b.id}`)}case"earlier":return xw(a-e,b)}return f}if(xZ(a-d,a,b)===d){if("earlier"===c||"compatible"===c||xZ(a-d+f,a+f,b)===d)return xw(a-d,b);if("reject"===c){let c=new Date(a).toISOString();throw RangeError(`Ambiguous time: ${c} occurs twice in time zone ${b.id}`)}}return xw(a-e,b)},xX=/([+-])(\d{2}):(\d{2})$/,xY=a=>{let b=xX.exec(a);if(null===b)return null;let[,c,d,e]=b;return("+"===c?1:-1)*(60*Number(d)+Number(e))*6e4},xZ=(a,b,c)=>{let d=c.format.formatToParts(a).find(a=>"timeZoneName"===a.type)?.value??"";if("GMT"===d)return 0;let e=xY(d);return null===e?xS(xw(b,c)):e},x$=dE(xy,(a,b,c)=>{if("Utc"===a._tag){let c=xQ(a);return b(c),xC(c.getTime())}let d=new Date(xR(a).getTime());return b(d),xW(d.getTime(),a.zone,c?.disambiguation??"compatible")}),x_=((a,b)=>x_(a,a=>{let c=new Date(a);return b(c),c.getTime()}),dE(2,(a,b)=>{let c=b(xU(a));return"Utc"===a._tag?xC(c):xw(c,a.zone)})),x0=((a,b)=>b(xR(a)),dE(2,(a,b)=>b(xQ(a)))),x1=(a,b)=>{a.setTime(a.getTime()+b)},x2=((a,b)=>x$(a,a=>{if(b.millis&&x1(a,b.millis),b.seconds&&x1(a,1e3*b.seconds),b.minutes&&x1(a,60*b.minutes*1e3),b.hours&&x1(a,60*b.hours*6e4),b.days&&a.setUTCDate(a.getUTCDate()+b.days),b.weeks&&a.setUTCDate(a.getUTCDate()+7*b.weeks),b.months){let c=a.getUTCDate();a.setUTCMonth(a.getUTCMonth()+b.months+1,0),c<a.getUTCDate()&&a.setUTCDate(c)}if(b.years){let c=a.getUTCDate(),d=a.getUTCMonth();a.setUTCFullYear(a.getUTCFullYear()+b.years,d+1,0),c<a.getUTCDate()&&a.setUTCDate(c)}}),a=>{let b=xR(a);return"Utc"===a._tag?b.toISOString():`${b.toISOString().slice(0,-1)}${xT(xS(a))}`}),x3=a=>"Offset"===a.zone._tag?x2(a):`${x2(a)}[${a.zone.id}]`,x4=a=>0===a.length?a:a[0].toUpperCase()+a.slice(1),x5=a=>0===a.length?a:a[0].toLowerCase()+a.slice(1),x6=a=>a.length>0;class x7{s;stripped;index;length;constructor(a,b=!1){this.s=a,this.stripped=b,this.index=0,this.length=a.length}next(){if(this.done)return{done:!0,value:void 0};let a=this.index;for(;!this.done&&!x8(this.s[this.index]);)this.index=this.index+1;let b=this.index;if(!this.done){let a=this.s[this.index];this.index=this.index+1,!this.done&&x9(a,this.s[this.index])&&(this.index=this.index+1),this.stripped||(b=this.index)}return{done:!1,value:this.s.substring(a,b)}}[Symbol.iterator](){return new x7(this.s,this.stripped)}get done(){return this.index>=this.length}}let x8=a=>{let b=a.charCodeAt(0);return 13===b||10===b},x9=(a,b)=>13===a.charCodeAt(0)&&10===b.charCodeAt(0),ya=((a,b)=>yb(a.seconds,b.seconds)&&yb(a.minutes,b.minutes)&&yb(a.hours,b.hours)&&yb(a.days,b.days)&&yb(a.months,b.months)&&yb(a.weekdays,b.weekdays),dQ(dN)),yb=(a,b)=>ya(gf(a),gf(b)),yc=Symbol.for("effect/Schedule"),yd=Symbol.for("effect/ScheduleDriver"),ye={start:0,now:0,input:void 0,output:void 0,elapsed:kd,elapsedSincePrevious:kd,recurrence:0},yf=jZ()("effect/Schedule/CurrentIterationMetadata",{defaultValue:()=>ye}),yg={_Out:a=>a,_In:a=>a,_R:a=>a},yh={_Out:a=>a,_In:a=>a,_R:a=>a};class yi{initial;step;[yc]=yg;constructor(a,b){this.initial=a,this.step=b}pipe(){return eM(this,arguments)}}let yj=(a,b,c,d)=>so(a,a=>0===a.recurrence?{now:b,input:c,output:d,recurrence:a.recurrence+1,elapsed:kd,elapsedSincePrevious:kd,start:b}:{now:b,input:c,output:d,recurrence:a.recurrence+1,elapsed:kh(b-a.start),elapsedSincePrevious:kh(b-a.now),start:a.start});class yk{schedule;ref;[yd]=yh;constructor(a,b){this.schedule=a,this.ref=b}get state(){return ns(this.ref.get,a=>a[1])}get last(){return nh(this.ref.get,([a,b])=>{switch(a._tag){case"None":return nh(nB(()=>new oB),nc);case"Some":return nz(a.value)}})}iterationMeta=sk(ye);get reset(){return sm(this.ref,[fP(),this.schedule.initial]).pipe(nO(sm(this.iterationMeta,ye)))}next(a){return dL(ns(this.ref.get,a=>a[1]),nh(b=>dL(p9,nh(c=>dL(nA(()=>this.schedule.step(c,a,b)),nh(([b,d,e])=>{let f=sm(this.ref,[fQ(d),b]);if(e._tag===wp)return f.pipe(nP(nc(fP())));let g=wl(e.intervals)-c;if(g<=0)return f.pipe(nP(yj(this.iterationMeta,c,a,d)),m$(d));let h=kh(g);return dL(f,nP(yj(this.iterationMeta,c,a,d)),nP(sw(h)),m$(d))}))))))}}let yl=(a,b)=>new yi(a,b),ym=((a,b)=>yv(a,(a,c)=>ns(b(a),a=>kx(c,j6(a)))),dE(2,(a,b)=>yn(a,(a,c)=>nB(()=>b(a,c))))),yn=dE(2,(a,b)=>yl(a.initial,(c,d,e)=>nh(a.step(c,d,e),([a,c,e])=>e._tag===wp?nz([a,c,ws]):ns(b(d,c),b=>b?[a,c,e]:[a,c,ws])))),yo=((a,b)=>yo(a,a=>nB(()=>b(a))),dE(2,(a,b)=>yl(a.initial,(c,d,e)=>nh(b(d),b=>a.step(c,b,e))))),yp=((a,b)=>yv(a,(a,c)=>b(c)),a=>dL(sl([fP(),a.initial]),ns(b=>new yk(a,b)))),yq=dE(2,(a,b)=>yr(a,b,wj)),yr=dE(3,(a,b,c)=>yl([a.initial,b.initial],(d,e,f)=>dL(nQ(a.step(d,e,f[0]),b.step(d,e,f[1]),(a,b)=>[a,b]),nh(([[d,f,g],[h,i,j]])=>g._tag===wo&&j._tag===wo?ys(a,b,e,d,f,g.intervals,h,i,j.intervals,c):nz([[d,h],[f,i],ws]))))),ys=(a,b,c,d,e,f,g,h,i,j)=>{let k=j(f,i);return h0(k.intervals)?nz([[d,g],[e,h],wq(k)]):dL(f,wm(i))?nh(a.step(wn(f),c,d),([d,e,f])=>f._tag===wp?nz([[d,g],[e,h],ws]):ys(a,b,c,d,e,f.intervals,g,h,i,j)):nh(b.step(wn(i),c,g),([g,h,i])=>i._tag===wp?nz([[d,g],[e,h],ws]):ys(a,b,c,d,e,f,g,h,i.intervals,j))},yt=dE(2,(a,b)=>yu(a,a=>nB(()=>b(a)))),yu=dE(2,(a,b)=>yl(a.initial,(c,d,e)=>nh(a.step(c,d,e),([a,c,d])=>ns(b(c),b=>[a,b,d])))),yv=dE(2,(a,b)=>yl(a.initial,(c,d,e)=>nh(a.step(c,d,e),([a,d,e])=>{let f;if(e._tag===wp)return nz([a,d,e]);let g=e.intervals;return ns(b(d,kh((f=wa(c,wl(g))).endMillis-f.startMillis)),b=>{let e=j6(b),f=wl(g),h=c+kn(e),i=h-f;return[a,d,wr(wa(h,Math.max(0,wn(g)+i)))]})}))),yw=a=>yA(yL,b=>b<a),yx=((a,b,c)=>yl([a.initial,b],(b,d,[e,f])=>nh(a.step(b,d,e),([a,b,d])=>d._tag===wp?nz([[a,f],f,d]):ns(c(f,b),b=>[[a,b],f,d]))),dE(3,(a,b,c)=>yl([a.initial,b.initial],(d,e,f)=>nQ(a.step(d,e,f[0]),b.step(d,e,f[1]),([a,b,d],[e,f,g])=>{if(d._tag===wp&&g._tag===wp)return[[a,e],[b,f],ws];if(d._tag===wp&&g._tag===wo)return[[a,e],[b,f],wq(g.intervals)];if(d._tag===wo&&g._tag===wp)return[[a,e],[b,f],wq(d.intervals)];if(d._tag===wo&&g._tag===wo)return[[a,e],[b,f],wq(c(d.intervals,g.intervals))];throw Error("BUG: Schedule.unionWith - please report an issue at https://github.com/Effect-TS/effect/issues")})))),yy=dE(2,(a,b)=>yn(a,(a,c)=>ns(b(a),a=>!a))),yz=dE(2,(a,b)=>yn(a,(a,c)=>b(a))),yA=dE(2,(a,b)=>ym(a,(a,c)=>b(c))),yB=((a,b)=>yt(yq(a,b),a=>a[0]),Symbol.for("effect/Schedule/ScheduleDefect"));class yC{error;[yB];constructor(a){this.error=a,this[yB]=yB}}let yD=a=>m5(a,a=>m8(new yC(a))),yE=((a,b)=>yE(a,b,(a,b)=>nc(a)),dE(3,(a,b,c)=>nh(yp(b),b=>nm(a,{onFailure:a=>c(a,fP()),onSuccess:d=>yF(sG(a,yf,b.iterationMeta.get),b,(a,d)=>sG(c(a,d),yf,b.iterationMeta.get),d)})))),yF=(a,b,c,d)=>nm(b.next(d),{onFailure:()=>nx(b.last),onSuccess:d=>nm(a,{onFailure:a=>c(a,fQ(d)),onSuccess:d=>yF(a,b,c,d)})}),yG=((a,b)=>yH(a,b,(a,b)=>nc(a)),a=>{let b=a.schedule??yL,c=a.while?yz(b,b=>{let c=a.while(b);return"boolean"==typeof c?nz(c):yD(c)}):b,d=a.until?yy(c,b=>{let c=a.until(b);return"boolean"==typeof c?nz(c):yD(c)}):c;return void 0!==a.times?yq(d,yw(a.times)):d}),yH=dE(3,(a,b,c)=>nh(yp(b),b=>yI(sG(a,yf,b.iterationMeta.get),b,(a,d)=>sG(c(a,d),yf,b.iterationMeta.get)))),yI=(a,b,c)=>m5(a,d=>nm(b.next(d),{onFailure:()=>dL(b.last,nx,nh(a=>c(d,a))),onSuccess:()=>yI(a,b,c)})),yJ=((a,b)=>yJ(a,void 0,b),dE(3,(a,b,c)=>nh(yp(c),c=>yK(sG(a,yf,c.iterationMeta.get),b,c)))),yK=(a,b,c)=>nm(c.next(b),{onFailure:()=>nx(c.last),onSuccess:()=>nh(a,b=>yK(a,b,c))}),yL=(r=a=>a+1,yl(0,(a,b,c)=>nB(()=>[r(c),c,wr(wa(a,1/0))]))),yM=yt(yw(1),dK),yN=Symbol.for("effect/MutableList"),yO={[yN]:yN,[Symbol.iterator](){let a=!1,b=this.head;return{next(){if(a)return this.return();if(null==b)return a=!0,this.return();let c=b.value;return b=b.next,{done:a,value:c}},return:b=>(a||(a=!0),{done:!0,value:b})}},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"MutableList",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},yP=dE(2,(a,b)=>{let c={value:b,removed:!1,prev:void 0,next:void 0};return void 0===a.head&&(a.head=c),void 0===a.tail||(a.tail.next=c,c.prev=a.tail),a.tail=c,a._length+=1,a}),yQ=Symbol.for("effect/MutableQueue"),yR=Symbol.for("effect/mutable/MutableQueue/Empty"),yS={[yQ]:yQ,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return JSON.stringify(this.toJSON(),null,2)},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(eB)}},[eA](){return this.toJSON()},pipe(){return eM(this,arguments)}},yT=dE(2,(a,b)=>{let c=a.queue._length;return(void 0===a.capacity||c!==a.capacity)&&(yP(b)(a.queue),!0)}),yU=dE(2,(a,b)=>{if(0===a.queue._length)return b;var c,d,e=a.queue;let f=e.head;return void 0!==f?(c=e,!(d=f).removed&&(d.removed=!0,void 0!==d.prev&&void 0!==d.next?(d.prev.next=d.next,d.next.prev=d.prev):void 0!==d.prev?(c.tail=d.prev,d.prev.next=void 0):void 0!==d.next?(c.head=d.next,d.next.prev=void 0):(c.tail=void 0,c.head=void 0),c._length>0&&(c._length-=1)),f.value):void 0}),yV=(a,b,c,d)=>ls({_tag:"Complete",key:a,exit:b,entryStats:c,timeToLiveMillis:d}),yW=(a,b)=>ls({_tag:"Pending",key:a,deferred:b}),yX=Symbol.for("effect/Cache/MapKey");class yY{current;[yX]=yX;previous=void 0;next=void 0;constructor(a){this.current=a}[el](){return dL(em(this.current),eo(em(this.previous)),eo(em(this.next)),ev(this))}[ew](a){return this===a||y$(a)&&ex(this.current,a.current)&&ex(this.previous,a.previous)&&ex(this.next,a.next)}}let yZ=a=>new yY(a),y$=a=>d3(a,yX);class y_{head=void 0;tail=void 0;add(a){if(a!==this.tail)if(void 0===this.tail)this.head=a,this.tail=a;else{let b=a.previous,c=a.next;void 0!==c&&(a.next=void 0,void 0!==b?(b.next=c,c.previous=b):(this.head=c,this.head.previous=void 0)),this.tail.next=a,a.previous=this.tail,this.tail=a}}remove(){let a=this.head;if(void 0!==a){let b=a.next;void 0!==b?(a.next=void 0,this.head=b,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return a}}let y0=Symbol.for("effect/Cache"),y1={_Key:a=>a,_Error:a=>a,_Value:a=>a},y2=Symbol.for("effect/ConsumerCache"),y3={_Key:a=>a,_Error:a=>a,_Value:a=>a},y4=a=>({loadedMillis:a});class y5{capacity;context;fiberId;lookup;timeToLive;[y0]=y1;[y2]=y3;cacheState;constructor(a,b,c,d,e){this.capacity=a,this.context=b,this.fiberId=c,this.lookup=d,this.timeToLive=e,this.cacheState=(()=>{var a;let b,c,d,e;return d=tN(),e=new y_,a=void 0,b=Object.create(yS),(c=Object.create(yO)).head=void 0,c.tail=void 0,c._length=0,b.queue=c,b.capacity=a,{map:d,keys:e,accesses:b,updating:kG(!1),hits:0,misses:0}})()}get(a){return ns(this.getEither(a),fz)}get cacheStats(){return nB(()=>({hits:this.cacheState.hits,misses:this.cacheState.misses,size:tU(this.cacheState.map)}))}getOption(a){return nA(()=>fR(tO(this.cacheState.map,a),{onNone:()=>{let b=yZ(a);return this.trackAccess(b),this.trackMiss(),nz(fP())},onSome:a=>this.resolveMapValue(a)}))}getOptionComplete(a){return nA(()=>fR(tO(this.cacheState.map,a),{onNone:()=>{let b=yZ(a);return this.trackAccess(b),this.trackMiss(),nz(fP())},onSome:a=>this.resolveMapValue(a,!0)}))}contains(a){return nB(()=>tQ(this.cacheState.map,a))}entryStats(a){return nB(()=>{let b=tO(this.cacheState.map,a);if(fh(b))switch(b.value._tag){case"Complete":return fQ(y4(b.value.entryStats.loadedMillis));case"Pending":break;case"Refreshing":return fQ(y4(b.value.complete.entryStats.loadedMillis))}return fP()})}getEither(a){return nA(()=>{let b,c,d=fX(tO(this.cacheState.map,a));return(void 0===d&&(c=oU(this.fiberId),b=yZ(a),tQ(this.cacheState.map,a)?d=fX(tO(this.cacheState.map,a)):tR(this.cacheState.map,a,yW(b,c))),void 0===d)?(this.trackAccess(b),this.trackMiss(),ns(this.lookupValueOf(a,c),fs)):nh(this.resolveMapValue(d),fR({onNone:()=>this.getEither(a),onSome:a=>nz(fr(a))}))})}invalidate(a){return nB(()=>{tT(this.cacheState.map,a)})}invalidateWhen(a,b){return nB(()=>{let c=tO(this.cacheState.map,a);fh(c)&&"Complete"===c.value._tag&&"Success"===c.value.exit._tag&&b(c.value.exit.value)&&tT(this.cacheState.map,a)})}get invalidateAll(){return nB(()=>{this.cacheState.map=tN()})}refresh(a){return p8(b=>nA(()=>{let c=oU(this.fiberId),d=fX(tO(this.cacheState.map,a));if(void 0===d&&(tQ(this.cacheState.map,a)?d=fX(tO(this.cacheState.map,a)):tR(this.cacheState.map,a,yW(yZ(a),c))),void 0===d)return m_(this.lookupValueOf(a,c));switch(d._tag){case"Complete":if(this.hasExpired(b,d.timeToLiveMillis))return ex(fX(tO(this.cacheState.map,a)),d)&&tT(this.cacheState.map,a),m_(this.get(a));return dL(this.lookupValueOf(a,c),sL(()=>{if(ex(fX(tO(this.cacheState.map,a)),d)){let b=ls({_tag:"Refreshing",deferred:c,complete:d});return tR(this.cacheState.map,a,b),!0}return!1}),m_);case"Pending":case"Refreshing":return oX(d.deferred)}}))}set(a,b){return p8(c=>nB(()=>{let d=c.unsafeCurrentTimeMillis(),e=oQ(b),f=yV(yZ(a),e,y4(d),d+kn(j6(this.timeToLive(e))));tR(this.cacheState.map,a,f)}))}get size(){return nB(()=>tU(this.cacheState.map))}get values(){return nB(()=>{let a=[];for(let b of this.cacheState.map)"Complete"===b[1]._tag&&"Success"===b[1].exit._tag&&a.push(b[1].exit.value);return a})}get entries(){return nB(()=>{let a=[];for(let b of this.cacheState.map)"Complete"===b[1]._tag&&"Success"===b[1].exit._tag&&a.push([b[0],b[1].exit.value]);return a})}get keys(){return nB(()=>{let a=[];for(let b of this.cacheState.map)"Complete"===b[1]._tag&&"Success"===b[1].exit._tag&&a.push(b[0]);return a})}resolveMapValue(a,b=!1){return p8(c=>{switch(a._tag){case"Complete":if(this.trackAccess(a.key),this.hasExpired(c,a.timeToLiveMillis))return tT(this.cacheState.map,a.key.current),nz(fP());return this.trackHit(),ns(a.exit,fQ);case"Pending":if(this.trackAccess(a.key),this.trackHit(),b)return nz(fP());return ns(oX(a.deferred),fQ);case"Refreshing":if(this.trackAccess(a.complete.key),this.trackHit(),this.hasExpired(c,a.complete.timeToLiveMillis)){if(b)return nz(fP());return ns(oX(a.deferred),fQ)}return ns(a.complete.exit,fQ)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(a){if(yT(this.cacheState.accesses,a),kH(this.cacheState.updating,!1,!0)){let a=!0;for(;a;){let b=yU(this.cacheState.accesses,yR);b===yR?a=!1:this.cacheState.keys.add(b)}let b=tU(this.cacheState.map);for(a=b>this.capacity;a;){let c=this.cacheState.keys.remove();void 0!==c?tQ(this.cacheState.map,c.current)&&(tT(this.cacheState.map,c.current),b-=1,a=b>this.capacity):a=!1}kI(this.cacheState.updating,!1)}}hasExpired(a,b){return a.unsafeCurrentTimeMillis()>b}lookupValueOf(a,b){return p8(c=>nA(()=>dL(this.lookup(a),o3(this.context),nb,nh(d=>{let e=c.unsafeCurrentTimeMillis(),f=y4(e),g=yV(yZ(a),d,f,e+kn(j6(this.timeToLive(d))));return tR(this.cacheState.map,a,g),nP(oZ(b,d),d)}),nw(()=>nP(nh(nf,a=>oY(b,np(a))),nB(()=>{tT(this.cacheState.map,a)}))))))}}()=>{let a,b;return n9((a=()=>ns(oV(),a=>({listeners:new uD,handle:a})),b=()=>ki(60),new y5(65536,jP,kR,a,a=>j6(b(a)))))},()=>n9(!1);let y6=uB,y7=xx,y8=a=>xz(a)&&"Offset"===a._tag,y9=a=>xz(a)&&"Named"===a._tag,za=a=>"Utc"===a._tag,zb=xA,zc=xB,zd=xD,ze=xG,zf=a=>{let b=xI.exec(a);if(null===b){let b=xY(a);return null!==b?xH(a,{timeZone:b}):fP()}let[,c,d]=b;return xH(c,{timeZone:d})},zg=xL,zh=xM,zi=xP,zj=a=>"Offset"===a._tag?xT(a.offset):a.id,zk=xQ,zl=xU,zm=a=>xQ(a).toISOString(),zn=x3,zo=Symbol.for("effect/Encoding/errors/Decode"),zp=(a,b)=>{let c={_tag:"DecodeException",[zo]:zo,input:a};return dU(b)&&(c.message=b),c},zq=Symbol.for("effect/Encoding/errors/Encode"),zr=new TextEncoder,zs=new TextDecoder,zt=a=>{let b,c=a.length,d="";for(b=2;b<c;b+=3)d+=zx[a[b-2]>>2],d+=zx[(3&a[b-2])<<4|a[b-1]>>4],d+=zx[(15&a[b-1])<<2|a[b]>>6],d+=zx[63&a[b]];return b===c+1&&(d+=zx[a[b-2]>>2],d+=zx[(3&a[b-2])<<4],d+="=="),b===c&&(d+=zx[a[b-2]>>2],d+=zx[(3&a[b-2])<<4|a[b-1]>>4],d+=zx[(15&a[b-1])<<2],d+="="),d},zu=a=>{let b=zv(a),c=b.length;if(c%4!=0)return fr(zp(b,`Length must be a multiple of 4, but is ${c}`));let d=b.indexOf("=");if(-1!==d&&(d<c-2||d===c-2&&"="!==b[c-1]))return fr(zp(b,"Found a '=' character, but it is not at the end"));try{let a=b.endsWith("==")?2:+!!b.endsWith("="),d=new Uint8Array(c/4*3-a);for(let a=0,e=0;a<c;a+=4,e+=3){let c=zw(b.charCodeAt(a))<<18|zw(b.charCodeAt(a+1))<<12|zw(b.charCodeAt(a+2))<<6|zw(b.charCodeAt(a+3));d[e]=c>>16,d[e+1]=c>>8&255,d[e+2]=255&c}return fs(d)}catch(a){return fr(zp(b,a instanceof Error?a.message:"Invalid input"))}},zv=a=>a.replace(/[\n\r]/g,"");function zw(a){if(a>=zy.length)throw TypeError(`Invalid character ${String.fromCharCode(a)}`);let b=zy[a];if(255===b)throw TypeError(`Invalid character ${String.fromCharCode(a)}`);return b}let zx=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],zy=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],zz=a=>zt(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),zA=a=>{let b="";for(let c=0;c<a.length;++c)b+=zB[a[c]];return b},zB=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],zC=a=>{if(48<=a&&a<=57)return a-48;if(97<=a&&a<=102)return a-97+10;if(65<=a&&a<=70)return a-65+10;throw TypeError("Invalid input")},zD=a=>"string"==typeof a?zt(zr.encode(a)):zt(a),zE=a=>zu(a),zF=a=>"string"==typeof a?zz(zr.encode(a)):zz(a),zG=a=>(a=>{let b=zv(a),c=b.length;if(c%4==1)return fr(zp(b,`Length should be a multiple of 4, but is ${c}`));if(!/^[-_A-Z0-9]*?={0,2}$/i.test(b))return fr(zp(b,"Invalid input"));let d=c%4==2?`${b}==`:c%4==3?`${b}=`:b;return zu(d=d.replace(/-/g,"+").replace(/_/g,"/"))})(a),zH=a=>"string"==typeof a?zA(zr.encode(a)):zA(a),zI=a=>(a=>{let b=new TextEncoder().encode(a);if(b.length%2!=0)return fr(zp(a,`Length must be a multiple of 2, but is ${b.length}`));try{let a=b.length/2,c=new Uint8Array(a);for(let d=0;d<a;d++){let a=zC(b[2*d]),e=zC(b[2*d+1]);c[d]=a<<4|e}return fs(c)}catch(b){return fr(zp(a,b instanceof Error?b.message:"Invalid input"))}})(a);class zJ extends Error{constructor(a=!1){super(),this.interruptExecution=a,this.footprint=zJ.SharedFootPrint}static isFailure(a){return null!=a&&a.footprint===zJ.SharedFootPrint}}zJ.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");class zK{[Symbol.iterator](){return this}next(a){return{value:a,done:!0}}}zK.nil=new zK;let zL=Symbol.iterator;class zM{static nil(){return new zM(zK.nil)}static of(...a){return new zM(a[zL]())}constructor(a){this.g=a}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(a){return new zM(function*(a,b){for(let c of a)yield b(c)}(this.g,a))}flatMap(a){return new zM(function*(a,b){for(let c of a)yield*b(c)}(this.g,a))}dropWhile(a){let b=!1;return this.flatMap(function*(c){(b||!a(c))&&(b=!0,yield c)})}drop(a){if(a<=0)return this;let b=0;return this.dropWhile(function(){return b++<a})}takeWhile(a){return new zM(function*(a,b){let c=a.next();for(;!c.done&&b(c.value);)yield c.value,c=a.next()}(this.g,a))}take(a){return new zM(function*(a,b){for(let c=0;c<b;++c){let b=a.next();if(b.done)break;yield b.value}}(this.g,a))}filter(a){return new zM(function*(a,b){for(let c of a)b(c)&&(yield c)}(this.g,a))}every(a){for(let b of this.g)if(!a(b))return!1;return!0}has(a){for(let b of this.g)if(a(b))return[!0,b];return[!1,null]}join(...a){return new zM(function*(a,b){for(let b=a.next();!b.done;b=a.next())yield b.value;for(let a of b)for(let b=a.next();!b.done;b=a.next())yield b.value}(this.g,a))}getNthOrLast(a){let b=a,c=null;for(let a of this.g){if(0==b--)return a;c=a}return c}}let zN=Symbol.for("fast-check/cloneMethod");function zO(a){return null!==a&&("object"==typeof a||"function"==typeof a)&&zN in a&&"function"==typeof a[zN]}function zP(a){return zO(a)?a[zN]():a}let zQ=Object.defineProperty;class zR{constructor(a,b,c){this.value_=a,this.context=b,this.hasToBeCloned=void 0!==c||zO(a),this.readOnce=!1,this.hasToBeCloned?zQ(this,"value",{get:void 0!==c?c:this.getValue}):this.value=a}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[zN]():(this.readOnce=!0,this.value_):this.value_}}let zS=Object.assign;class zT{filter(a){return new zW(this,a)}map(a,b){return new zV(this,a,b)}chain(a){return new zU(this,a)}noShrink(){return new zX(this)}noBias(){return new zY(this)}}class zU extends zT{constructor(a,b){super(),this.arb=a,this.chainer=b}generate(a,b){let c=a.clone(),d=this.arb.generate(a,b);return this.valueChainer(d,a,c,b)}canShrinkWithoutContext(a){return!1}shrink(a,b){return this.isSafeContext(b)?(!b.stoppedForOriginal?this.arb.shrink(b.originalValue,b.originalContext).map(a=>this.valueChainer(a,b.clonedMrng.clone(),b.clonedMrng,b.originalBias)):zM.nil()).join(b.chainedArbitrary.shrink(a,b.chainedContext).map(a=>{let c=zS(zS({},b),{chainedContext:a.context,stoppedForOriginal:!0});return new zR(a.value_,c)})):zM.nil()}valueChainer(a,b,c,d){let e=this.chainer(a.value_),f=e.generate(b,d),g={originalBias:d,originalValue:a.value_,originalContext:a.context,stoppedForOriginal:!1,chainedArbitrary:e,chainedContext:f.context,clonedMrng:c};return new zR(f.value_,g)}isSafeContext(a){return null!=a&&"object"==typeof a&&"originalBias"in a&&"originalValue"in a&&"originalContext"in a&&"stoppedForOriginal"in a&&"chainedArbitrary"in a&&"chainedContext"in a&&"clonedMrng"in a}}class zV extends zT{constructor(a,b,c){super(),this.arb=a,this.mapper=b,this.unmapper=c,this.bindValueMapper=a=>this.valueMapper(a)}generate(a,b){let c=this.arb.generate(a,b);return this.valueMapper(c)}canShrinkWithoutContext(a){if(void 0!==this.unmapper)try{let b=this.unmapper(a);return this.arb.canShrinkWithoutContext(b)}catch(a){}return!1}shrink(a,b){if(this.isSafeContext(b))return this.arb.shrink(b.originalValue,b.originalContext).map(this.bindValueMapper);if(void 0!==this.unmapper){let b=this.unmapper(a);return this.arb.shrink(b,void 0).map(this.bindValueMapper)}return zM.nil()}mapperWithCloneIfNeeded(a){let b=a.value,c=this.mapper(b);return a.hasToBeCloned&&("object"==typeof c&&null!==c||"function"==typeof c)&&Object.isExtensible(c)&&!zO(c)&&Object.defineProperty(c,zN,{get:()=>()=>this.mapperWithCloneIfNeeded(a)[0]}),[c,b]}valueMapper(a){let[b,c]=this.mapperWithCloneIfNeeded(a);return new zR(b,{originalValue:c,originalContext:a.context})}isSafeContext(a){return null!=a&&"object"==typeof a&&"originalValue"in a&&"originalContext"in a}}class zW extends zT{constructor(a,b){super(),this.arb=a,this.refinement=b,this.bindRefinementOnValue=a=>this.refinementOnValue(a)}generate(a,b){for(;;){let c=this.arb.generate(a,b);if(this.refinementOnValue(c))return c}}canShrinkWithoutContext(a){return this.arb.canShrinkWithoutContext(a)&&this.refinement(a)}shrink(a,b){return this.arb.shrink(a,b).filter(this.bindRefinementOnValue)}refinementOnValue(a){return this.refinement(a.value)}}class zX extends zT{constructor(a){super(),this.arb=a}generate(a,b){return this.arb.generate(a,b)}canShrinkWithoutContext(a){return this.arb.canShrinkWithoutContext(a)}shrink(a,b){return zM.nil()}noShrink(){return this}}class zY extends zT{constructor(a){super(),this.arb=a}generate(a,b){return this.arb.generate(a,void 0)}canShrinkWithoutContext(a){return this.arb.canShrinkWithoutContext(a)}shrink(a,b){return this.arb.shrink(a,b)}noBias(){return this}}let zZ=Function.prototype.apply,z$=Symbol("apply");function z_(a,b,c){let d;return function(a){try{return a.apply}catch(a){return}}(a)===zZ?a.apply(b,c):(a[z$]=zZ,d=a[z$](b,c),delete a[z$],d)}let z0="u">typeof Array?Array:void 0;"u">typeof BigInt64Array&&BigInt64Array,"u">typeof BigUint64Array&&BigUint64Array;let z1="u">typeof Error?Error:void 0;"u">typeof Float32Array&&Float32Array,"u">typeof Float64Array&&Float64Array,"u">typeof Int8Array&&Int8Array,"u">typeof Int16Array&&Int16Array,"u">typeof Int32Array&&Int32Array;let z2="u">typeof String?String:void 0;"u">typeof Uint8Array&&Uint8Array,"u">typeof Uint8ClampedArray&&Uint8ClampedArray,"u">typeof Uint16Array&&Uint16Array,"u">typeof Uint32Array&&Uint32Array;let z3="u">typeof encodeURIComponent?encodeURIComponent:void 0,z4=Symbol;Array.prototype.forEach;let z5=Array.prototype.indexOf,z6=Array.prototype.join,z7=Array.prototype.map,z8=Array.prototype.filter,z9=Array.prototype.push;Array.prototype.pop,Array.prototype.splice;let Aa=Array.prototype.slice;function Ab(a,...b){return function(a){try{return a.indexOf}catch(a){return}}(a)===z5?a.indexOf(...b):z_(z5,a,b)}function Ac(a,...b){return function(a){try{return a.join}catch(a){return}}(a)===z6?a.join(...b):z_(z6,a,b)}function Ad(a,b){return function(a){try{return a.map}catch(a){return}}(a)===z7?a.map(b):z_(z7,a,[b])}function Ae(a,...b){return function(a){try{return a.push}catch(a){return}}(a)===z9?a.push(...b):z_(z9,a,b)}function Af(a,...b){return function(a){try{return a.slice}catch(a){return}}(a)===Aa?a.slice(...b):z_(Aa,a,b)}Array.prototype.sort,Array.prototype.every;let Ag=Date.prototype.getTime,Ah=Date.prototype.toISOString;Set.prototype.add,Set.prototype.has,WeakMap.prototype.set,WeakMap.prototype.get;let Ai=Map.prototype.set,Aj=Map.prototype.get,Ak=String.prototype.split;String.prototype.startsWith,String.prototype.endsWith,String.prototype.substring,String.prototype.toLowerCase,String.prototype.toUpperCase,String.prototype.padStart;let Al=String.prototype.charCodeAt;function Am(a,...b){return function(a){try{return a.split}catch(a){return}}(a)===Ak?a.split(...b):z_(Ak,a,b)}function An(a,b){return function(a){try{return a.charCodeAt}catch(a){return}}(a)===Al?a.charCodeAt(b):z_(Al,a,[b])}String.prototype.normalize,String.prototype.replace;let Ao=Number.prototype.toString;Object.prototype.hasOwnProperty;let Ap=Object.prototype.toString;class Aq{constructor(a){this.producer=a}[Symbol.iterator](){return void 0===this.it&&(this.it=this.producer()),this.it}next(){return void 0===this.it&&(this.it=this.producer()),this.it.next()}}let Ar=Math.log;function As(a){return 2+~~(.4342944819032518*Ar(a+1))}let At={},Au=Symbol("UndefinedContextPlaceholder");function Av(a){return void 0!==a.context?a:a.hasToBeCloned?new zR(a.value_,Au,()=>a.value):new zR(a.value_,Au)}class Aw{constructor(a,b){this.arb=a,this.predicate=b;const{asyncBeforeEach:c,asyncAfterEach:d,beforeEach:e,afterEach:f}=At||{};if(void 0!==c&&void 0!==e)throw z1('Global "asyncBeforeEach" and "beforeEach" parameters can\'t be set at the same time when running async properties');if(void 0!==d&&void 0!==f)throw z1('Global "asyncAfterEach" and "afterEach" parameters can\'t be set at the same time when running async properties');this.beforeEachHook=c||e||Aw.dummyHook,this.afterEachHook=d||f||Aw.dummyHook}isAsync(){return!0}generate(a,b){return Av(this.arb.generate(a,null!=b?As(b):void 0))}shrink(a){if(void 0===a.context&&!this.arb.canShrinkWithoutContext(a.value_))return zM.nil();let b=a.context!==Au?a.context:void 0;return this.arb.shrink(a.value_,b).map(Av)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(a,b){b||await this.beforeEachHook();try{let b=await this.predicate(a);return null==b||!0===b?null:{error:new z1("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(a){if(zJ.isFailure(a))return a;if(a instanceof z1&&a.stack)return{error:a,errorMessage:a.stack};return{error:a,errorMessage:z2(a)}}finally{b||await this.afterEachHook()}}beforeEach(a){let b=this.beforeEachHook;return this.beforeEachHook=()=>a(b),this}afterEach(a){let b=this.afterEachHook;return this.afterEachHook=()=>a(b),this}}Aw.dummyHook=()=>{};class Ax{constructor(a,b){this.arb=a,this.predicate=b;const{beforeEach:c=Ax.dummyHook,afterEach:d=Ax.dummyHook,asyncBeforeEach:e,asyncAfterEach:f}=At||{};if(void 0!==e)throw z1('"asyncBeforeEach" can\'t be set when running synchronous properties');if(void 0!==f)throw z1('"asyncAfterEach" can\'t be set when running synchronous properties');this.beforeEachHook=c,this.afterEachHook=d}isAsync(){return!1}generate(a,b){return Av(this.arb.generate(a,null!=b?As(b):void 0))}shrink(a){if(void 0===a.context&&!this.arb.canShrinkWithoutContext(a.value_))return zM.nil();let b=a.context!==Au?a.context:void 0;return this.arb.shrink(a.value_,b).map(Av)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(a,b){b||this.beforeEachHook();try{let b=this.predicate(a);return null==b||!0===b?null:{error:new z1("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(a){if(zJ.isFailure(a))return a;if(a instanceof z1&&a.stack)return{error:a,errorMessage:a.stack};return{error:a,errorMessage:z2(a)}}finally{b||this.afterEachHook()}}beforeEach(a){let b=this.beforeEachHook;return this.beforeEachHook=()=>a(b),this}afterEach(a){let b=this.afterEachHook;return this.afterEachHook=()=>a(b),this}}function Ay(a,b){for(var c=[],d=0;d!=b;++d)c.push(a.unsafeNext());return c}function Az(a,b){var c=a.clone();return[Ay(c,b),c]}function AA(a,b){for(var c=0;c!=b;++c)a.unsafeNext()}function AB(a,b){var c=a.clone();return AA(c,b),c}Ax.dummyHook=()=>{};var AC=-0x80000000-1,AD=function(a){return 214013*a+2531011|0},AE=function(a){return(a&AC)>>16},AF=function(){function a(a){this.seed=a}return a.prototype.clone=function(){return new a(this.seed)},a.prototype.next=function(){var b=new a(this.seed);return[b.unsafeNext(),b]},a.prototype.unsafeNext=function(){var a=AD(this.seed),b=AE(a),c=AD(a),d=AE(c);return this.seed=AD(c),0|AE(this.seed)+(d+(b<<15)<<15)},a.prototype.getState=function(){return[this.seed]},a}(),AG=Object.assign(function(a){return new AF(a)},{fromState:function(a){if(1!==a.length)throw Error("The state must have been produced by a congruential32 RandomGenerator");return new AF(a[0])}}),AH=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},AI=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},AJ=function(){function a(a,b){this.states=a,this.index=b}return a.twist=function(b){for(var c=b.slice(),d=0;d!==a.N-a.M;++d){var e=(c[d]&a.MASK_UPPER)+(c[d+1]&a.MASK_LOWER);c[d]=c[d+a.M]^e>>>1^-(1&e)&a.A}for(var d=a.N-a.M;d!==a.N-1;++d){var f=(c[d]&a.MASK_UPPER)+(c[d+1]&a.MASK_LOWER);c[d]=c[d+a.M-a.N]^f>>>1^-(1&f)&a.A}var g=(c[a.N-1]&a.MASK_UPPER)+(c[0]&a.MASK_LOWER);return c[a.N-1]=c[a.M-1]^g>>>1^-(1&g)&a.A,c},a.seeded=function(b){var c=Array(a.N);c[0]=b;for(var d=1;d!==a.N;++d){var e=c[d-1]^c[d-1]>>>30;c[d]=Math.imul(a.F,e)+d|0}return c},a.from=function(b){return new a(a.twist(a.seeded(b)),0)},a.prototype.clone=function(){return new a(this.states,this.index)},a.prototype.next=function(){var b=new a(this.states,this.index);return[b.unsafeNext(),b]},a.prototype.unsafeNext=function(){var b=this.states[this.index];return b^=this.states[this.index]>>>a.U,b^=b<<a.S&a.B,b^=b<<a.T&a.C,b^=b>>>a.L,++this.index>=a.N&&(this.states=a.twist(this.states),this.index=0),b},a.prototype.getState=function(){return AI([this.index],AH(this.states),!1)},a.fromState=function(b){if(!(b.length===a.N+1&&b[0]>=0&&b[0]<a.N))throw Error("The state must have been produced by a mersenne RandomGenerator");return new a(b.slice(1),b[0])},a.N=624,a.M=397,a.R=31,a.A=0x9908b0df,a.F=0x6c078965,a.U=11,a.S=7,a.B=0x9d2c5680,a.T=15,a.C=0xefc60000,a.L=18,a.MASK_LOWER=Math.pow(2,a.R)-1,a.MASK_UPPER=Math.pow(2,a.R),a}();let AK=Object.assign(function(a){return AJ.from(a)},{fromState:function(a){return AJ.fromState(a)}});var AL=function(){function a(a,b,c,d){this.s01=a,this.s00=b,this.s11=c,this.s10=d}return a.prototype.clone=function(){return new a(this.s01,this.s00,this.s11,this.s10)},a.prototype.next=function(){var b=new a(this.s01,this.s00,this.s11,this.s10);return[b.unsafeNext(),b]},a.prototype.unsafeNext=function(){var a=this.s00^this.s00<<23,b=this.s01^(this.s01<<23|this.s00>>>9),c=a^this.s10^(a>>>18|b<<14)^(this.s10>>>5|this.s11<<27),d=b^this.s11^b>>>18^this.s11>>>5,e=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=d,this.s10=c,e},a.prototype.jump=function(){var b=new a(this.s01,this.s00,this.s11,this.s10);return b.unsafeJump(),b},a.prototype.unsafeJump=function(){for(var a=0,b=0,c=0,d=0,e=[0x635d2dff,0x8a5cd789,0x5c472f96,0x121fd215],f=0;4!==f;++f)for(var g=1;g;g<<=1)e[f]&g&&(a^=this.s01,b^=this.s00,c^=this.s11,d^=this.s10),this.unsafeNext();this.s01=a,this.s00=b,this.s11=c,this.s10=d},a.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},a}(),AM=Object.assign(function(a){return new AL(-1,~a,0|a,0)},{fromState:function(a){if(4!==a.length)throw Error("The state must have been produced by a xorshift128plus RandomGenerator");return new AL(a[0],a[1],a[2],a[3])}}),AN=function(){function a(a,b,c,d){this.s01=a,this.s00=b,this.s11=c,this.s10=d}return a.prototype.clone=function(){return new a(this.s01,this.s00,this.s11,this.s10)},a.prototype.next=function(){var b=new a(this.s01,this.s00,this.s11,this.s10);return[b.unsafeNext(),b]},a.prototype.unsafeNext=function(){var a=this.s00+this.s10|0,b=this.s10^this.s00,c=this.s11^this.s01,d=this.s00,e=this.s01;return this.s00=d<<24^e>>>8^b^b<<16,this.s01=e<<24^d>>>8^c^(c<<16|b>>>16),this.s10=c<<5^b>>>27,this.s11=b<<5^c>>>27,a},a.prototype.jump=function(){var b=new a(this.s01,this.s00,this.s11,this.s10);return b.unsafeJump(),b},a.prototype.unsafeJump=function(){for(var a=0,b=0,c=0,d=0,e=[0xd8f554a5,0xdf900294,0x4b3201fc,0x170865df],f=0;4!==f;++f)for(var g=1;g;g<<=1)e[f]&g&&(a^=this.s01,b^=this.s00,c^=this.s11,d^=this.s10),this.unsafeNext();this.s01=a,this.s00=b,this.s11=c,this.s10=d},a.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},a}(),AO=Object.assign(function(a){return new AN(-1,~a,0|a,0)},{fromState:function(a){if(4!==a.length)throw Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new AN(a[0],a[1],a[2],a[3])}});function AP(a,b){if(a.sign!==b.sign)return AQ(a,{sign:-b.sign,data:b.data});for(var c=[],d=0,e=a.data,f=b.data,g=e.length-1,h=f.length-1;g>=0||h>=0;--g,--h){var i=(g>=0?e[g]:0)+(h>=0?f[h]:0)+d;c.push(i>>>0),d=~~(i/0x100000000)}return 0!==d&&c.push(d),{sign:a.sign,data:c.reverse()}}function AQ(a,b){if(a.sign!==b.sign)return AP(a,{sign:-b.sign,data:b.data});var c=a.data,d=b.data;if(function(a,b){for(var c=Math.max(a.length,b.length),d=0;d<c;++d){var e=d+a.length-c,f=d+b.length-c,g=e>=0?a[e]:0,h=f>=0?b[f]:0;if(g<h)return!0;if(g>h)break}return!1}(c,d)){var e=AQ(b,a);return e.sign=-e.sign,e}for(var f=[],g=0,h=c.length-1,i=d.length-1;h>=0||i>=0;--h,--i){var j=(h>=0?c[h]:0)-(i>=0?d[i]:0)-g;f.push(j>>>0),g=+(j<0)}return{sign:a.sign,data:f.reverse()}}function AR(a){for(var b=a.data,c=0;c!==b.length&&0===b[c];++c);return c===b.length?(a.sign=1,a.data=[0]):b.splice(0,c),a}function AS(a,b){if(b<0){var c=-b;a.sign=-1,a.data[0]=~~(c/0x100000000),a.data[1]=c>>>0}else a.sign=1,a.data[0]=~~(b/0x100000000),a.data[1]=b>>>0;return a}function AT(a,b){for(var c=a>2?~~(0x100000000/a)*a:0x100000000,d=b.unsafeNext()+0x80000000;d>=c;)d=b.unsafeNext()+0x80000000;return d%a}function AU(a,b,c){for(var d=b.length;;){for(var e=0;e!==d;++e){var f=AT(0===e?b[0]+1:0x100000000,c);a[e]=f}for(var e=0;e!==d;++e){var g=a[e],h=b[e];if(g<h)return a;if(g>h)break}}}function AV(a,b,c){var d=AR(function(a){a.sign=1;for(var b=a.data,c=b.length-1;c>=0;--c)if(0xffffffff!==b[c])return b[c]+=1,a;else b[c]=0;return b.unshift(1),a}(AQ(b,a)));return AR(AP({sign:1,data:AU(d.data.slice(0),d.data,c)},a))}function AW(a,b,c){if(null!=c){var d=c.clone();return[AV(a,b,d),d]}return function(c){var d=c.clone();return[AV(a,b,d),d]}}var AX="u">typeof BigInt?BigInt:void 0;function AY(a,b,c){for(var d=b-a+AX(1),e=AX(-0x80000000),f=AX(0x100000000),g=f,h=1;g<d;)g*=f,++h;for(var i=g-g%d;;){for(var j=AX(0),k=0;k!==h;++k)j=f*j+(AX(c.unsafeNext())-e);if(j<i)return j%d+a}}function AZ(a,b,c){if(null!=c){var d=c.clone();return[AY(a,b,d),d]}return function(c){var d=c.clone();return[AY(a,b,d),d]}}var A$=Number.MAX_SAFE_INTEGER,A_={sign:1,data:[0,0]},A0={sign:1,data:[0,0]},A1={sign:1,data:[0,0]},A2=[0,0];function A3(a,b,c){var d,e=b-a;return e<=0xffffffff?AT(e+1,c)+a:(0xffffffff===(d=e<=A$?AS(A1,e):function(a,b,c){var d=b.data[1],e=b.data[0],f=b.sign,g=c.data[1],h=c.data[0],i=c.sign;if(a.sign=1,1===f&&-1===i){var j=d+g;return a.data[0]=e+h+ +(j>0xffffffff)>>>0,a.data[1]=j>>>0,a}var k=d,l=e,m=g,n=h;-1===f&&(k=g,l=h,m=d,n=e);var o=0,p=k-m;return p<0&&(o=1,p>>>=0),a.data[0]=l-n-o,a.data[1]=p,a}(A1,AS(A_,b),AS(A0,a))).data[1]?(d.data[0]+=1,d.data[1]=0):d.data[1]+=1,AU(A2,d.data,c),0x100000000*A2[0]+A2[1]+a)}function A4(a,b,c){if(null!=c){var d=c.clone();return[A3(a,b,d),d]}return function(c){var d=c.clone();return[A3(a,b,d),d]}}var A5="module",A6="6.1.0",A7="a413dd2b721516be2ef29adffb515c5ae67bfbad";a.s(["__commitHash",()=>A7,"__type",()=>A5,"__version",()=>A6],52055),a.i(52055),a.s(["__commitHash",()=>A7,"__type",()=>A5,"__version",()=>A6,"congruential32",()=>AG,"generateN",()=>Az,"mersenne",0,AK,"skipN",()=>AB,"uniformArrayIntDistribution",()=>AW,"uniformBigIntDistribution",()=>AZ,"uniformIntDistribution",()=>A4,"unsafeGenerateN",()=>Ay,"unsafeSkipN",()=>AA,"unsafeUniformArrayIntDistribution",()=>AV,"unsafeUniformBigIntDistribution",()=>AY,"unsafeUniformIntDistribution",()=>A3,"xoroshiro128plus",()=>AO,"xorshift128plus",()=>AM],65579);var A8=a.i(65579);(w=Z||(Z={}))[w.None=0]="None",w[w.Verbose=1]="Verbose",w[w.VeryVerbose=2]="VeryVerbose";let A9=Date.now,Ba=Math.min,Bb=Math.random;class Bc{constructor(a){const b=a||{};this.seed=Bc.readSeed(b),this.randomType=Bc.readRandomType(b),this.numRuns=Bc.readNumRuns(b),this.verbose=Bc.readVerbose(b),this.maxSkipsPerRun=Bc.readOrDefault(b,"maxSkipsPerRun",100),this.timeout=Bc.safeTimeout(Bc.readOrDefault(b,"timeout",null)),this.skipAllAfterTimeLimit=Bc.safeTimeout(Bc.readOrDefault(b,"skipAllAfterTimeLimit",null)),this.interruptAfterTimeLimit=Bc.safeTimeout(Bc.readOrDefault(b,"interruptAfterTimeLimit",null)),this.markInterruptAsFailure=Bc.readBoolean(b,"markInterruptAsFailure"),this.skipEqualValues=Bc.readBoolean(b,"skipEqualValues"),this.ignoreEqualValues=Bc.readBoolean(b,"ignoreEqualValues"),this.logger=Bc.readOrDefault(b,"logger",a=>{console.log(a)}),this.path=Bc.readOrDefault(b,"path",""),this.unbiased=Bc.readBoolean(b,"unbiased"),this.examples=Bc.readOrDefault(b,"examples",[]),this.endOnFailure=Bc.readBoolean(b,"endOnFailure"),this.reporter=Bc.readOrDefault(b,"reporter",null),this.asyncReporter=Bc.readOrDefault(b,"asyncReporter",null),this.errorWithCause=Bc.readBoolean(b,"errorWithCause")}toParameters(){let a=a=>null!==a?a:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:a(this.timeout),skipAllAfterTimeLimit:a(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:a(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:a(this.reporter),asyncReporter:a(this.asyncReporter),errorWithCause:this.errorWithCause}}static read(a){return new Bc(a)}}Bc.createQualifiedRandomGenerator=a=>b=>{let c=a(b);return void 0===c.unsafeJump&&(c.unsafeJump=()=>AA(c,42)),c},Bc.readSeed=a=>{if(null==a.seed)return A9()^0x100000000*Bb();let b=0|a.seed;if(a.seed===b)return b;let c=a.seed-b;return b^0x100000000*c},Bc.readRandomType=a=>{if(null==a.randomType)return A8.xorshift128plus;if("string"==typeof a.randomType)switch(a.randomType){case"mersenne":return Bc.createQualifiedRandomGenerator(A8.mersenne);case"congruential":case"congruential32":return Bc.createQualifiedRandomGenerator(A8.congruential32);case"xorshift128plus":return A8.xorshift128plus;case"xoroshiro128plus":return A8.xoroshiro128plus;default:throw Error(`Invalid random specified: '${a.randomType}'`)}let b=a.randomType(0);if("min"in b&&-0x80000000!==b.min)throw Error(`Invalid random number generator: min must equal -0x80000000, got ${String(b.min)}`);if("max"in b&&0x7fffffff!==b.max)throw Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(b.max)}`);return"unsafeJump"in b?a.randomType:Bc.createQualifiedRandomGenerator(a.randomType)},Bc.readNumRuns=a=>null!=a.numRuns?a.numRuns:null!=a.num_runs?a.num_runs:100,Bc.readVerbose=a=>null==a.verbose?Z.None:"boolean"==typeof a.verbose?!0===a.verbose?Z.Verbose:Z.None:a.verbose<=Z.None?Z.None:a.verbose>=Z.VeryVerbose?Z.VeryVerbose:0|a.verbose,Bc.readBoolean=(a,b)=>!0===a[b],Bc.readOrDefault=(a,b,c)=>{let d=a[b];return null!=d?d:c},Bc.safeTimeout=a=>null===a?null:Ba(a,0x7fffffff);let Bd=Array.from,Be="u">typeof Buffer?Buffer.isBuffer:void 0,Bf=JSON.stringify,Bg=Number.isNaN,Bh=Object.keys,Bi=Object.getOwnPropertySymbols,Bj=Object.getOwnPropertyDescriptor,Bk=Object.getPrototypeOf,Bl=-1/0,Bm=1/0,Bn=Symbol.for("fast-check/toStringMethod"),Bo=Symbol.for("fast-check/asyncToStringMethod"),Bp=/^Symbol\((.*)\)$/;function Bq(a){switch(a){case 0:return 1/a===Bl?"-0":"0";case Bl:return"Number.NEGATIVE_INFINITY";case Bm:return"Number.POSITIVE_INFINITY";default:return a==a?z2(a):"Number.NaN"}}function Br(a){return function a(b,c,d){var e,f;let g=[...c,b];if("object"==typeof b&&-1!==Ab(c,b))return"[cyclic]";if(null!==b&&("object"==typeof b||"function"==typeof b)&&Bo in b&&"function"==typeof b[Bo]){let a=d(b);if("fulfilled"===a.state)return a.value}if(null!==b&&("object"==typeof b||"function"==typeof b)&&Bn in b&&"function"==typeof b[Bn])try{return b[Bn]()}catch(a){}switch(z_(Ap,b,[])){case"[object Array]":{if(b.length>=50&&function(a){let b=-1;for(let c in a){let a=Number(c);if(a!==b+1)return!0;b=a}return b+1!==a.length}(b)){let c=[];for(let e in b)Bg(Number(e))||Ae(c,`${e}:${a(b[e],g,d)}`);return 0!==c.length?`Object.assign(Array(${b.length}),{${Ac(c,",")}})`:`Array(${b.length})`}let c=Ac(Ad(b,b=>a(b,g,d)),",");return 0===b.length||b.length-1 in b?`[${c}]`:`[${c},]`}case"[object BigInt]":return`${b}n`;case"[object Boolean]":{let a=!0==b?"true":"false";return"boolean"==typeof b?a:`new Boolean(${a})`}case"[object Date]":return Bg(function(a){try{return a.getTime}catch(a){return}}(b)===Ag?b.getTime():z_(Ag,b,[]))?"new Date(NaN)":`new Date(${Bf(function(a){try{return a.toISOString}catch(a){return}}(b)===Ah?b.toISOString():z_(Ah,b,[]))})`;case"[object Map]":return`new Map(${a(Array.from(b),g,d)})`;case"[object Null]":return"null";case"[object Number]":return"number"==typeof b?Bq(b):`new Number(${Bq(Number(b))})`;case"[object Object]":{try{let a=b.toString;if("function"==typeof a&&a!==Object.prototype.toString)return b.toString()}catch(a){return"[object Object]"}let c=c=>`${"__proto__"===c?'["__proto__"]':"symbol"==typeof c?`[${a(c,g,d)}]`:Bf(c)}:${a(b[c],g,d)}`,h="{"+Ac([...Ad(Bh(b),c),...Ad((e=Bi(b),f=a=>{let c=Bj(b,a);return c&&c.enumerable},function(a){try{return a.filter}catch(a){return}}(e)===z8?e.filter(f):z_(z8,e,[f])),c)],",")+"}";if(null===Bk(b))return"{}"===h?"Object.create(null)":`Object.assign(Object.create(null),${h})`;return h}case"[object Set]":return`new Set(${a(Array.from(b),g,d)})`;case"[object String]":return"string"==typeof b?Bf(b):`new String(${Bf(b)})`;case"[object Symbol]":{if(void 0!==z4.keyFor(b))return`Symbol.for(${Bf(z4.keyFor(b))})`;let a=function(a){if(void 0!==a.description)return a.description;let b=Bp.exec(z2(a));return b&&b[1].length?b[1]:null}(b);if(null===a)return"Symbol()";return b===(a.startsWith("Symbol.")&&z4[a.substring(7)])?a:`Symbol(${Bf(a)})`}case"[object Promise]":{let c=d(b);switch(c.state){case"fulfilled":return`Promise.resolve(${a(c.value,g,d)})`;case"rejected":return`Promise.reject(${a(c.value,g,d)})`;case"pending":return"new Promise(() => {/*pending*/})";default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(b instanceof Error)return`new Error(${a(b.message,g,d)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if("function"==typeof Be&&Be(b))return`Buffer.from(${a(Bd(b.values()),g,d)})`;let c=Bk(b),e=c&&c.constructor&&c.constructor.name;if("string"==typeof e){let c=b.values();return`${e}.from(${a(Bd(c),g,d)})`}}}try{return b.toString()}catch(a){return z_(Ap,b,[])}}(a,[],()=>({state:"unknown",value:void 0}))}(x=$||($={}))[x.Success=0]="Success",x[x.Skipped=-1]="Skipped",x[x.Failure=1]="Failure";class Bs{constructor(a,b){this.verbosity=a,this.interruptedAsFailure=b,this.isSuccess=()=>null==this.pathToFailure,this.firstFailure=()=>this.pathToFailure?+Am(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?Am(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(a,b){let c={status:a,value:b,children:[]};return this.currentLevelExecutionTrees.push(c),c}fail(a,b,c){if(this.verbosity>=Z.Verbose){let b=this.appendExecutionTree($.Failure,a);this.currentLevelExecutionTrees=b.children}null==this.pathToFailure?this.pathToFailure=`${b}`:this.pathToFailure+=`:${b}`,this.value=a,this.failure=c}skip(a){this.verbosity>=Z.VeryVerbose&&this.appendExecutionTree($.Skipped,a),null==this.pathToFailure&&++this.numSkips}success(a){this.verbosity>=Z.VeryVerbose&&this.appendExecutionTree($.Success,a),null==this.pathToFailure&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];let a=[],b=this.rootExecutionTrees;for(;b.length>0&&b[b.length-1].status===$.Failure;){let c=b[b.length-1];a.push(c.value),b=c.children}return a}toRunDetails(a,b,c,d){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:a,counterexample:this.value,counterexamplePath:Bs.mergePaths(b,this.pathToFailure),error:this.failure.errorMessage,errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:d.toParameters()};let e=this.interruptedAsFailure||0===this.numSuccesses;return{failed:this.numSkips>c||this.interrupted&&e,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:a,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:d.toParameters()}}}Bs.mergePaths=(a,b)=>{if(0===a.length)return b;let c=a.split(":"),d=b.split(":"),e=+c[c.length-1]+ +d[0];return[...c.slice(0,c.length-1),`${e}`,...d.slice(1)].join(":")};class Bt{constructor(a){this.internalRng=a.clone()}clone(){return new Bt(this.internalRng)}next(a){return A3(0,(1<<a)-1,this.internalRng)}nextBoolean(){return 1==A3(0,1,this.internalRng)}nextInt(a,b){return A3(null==a?Bt.MIN_INT:a,null==b?Bt.MAX_INT:b,this.internalRng)}nextBigInt(a,b){return AY(a,b,this.internalRng)}nextArrayInt(a,b){return AV(a,b,this.internalRng)}nextDouble(){let a=this.next(26),b=this.next(27);return(a*Bt.DBL_FACTOR+b)*Bt.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&"function"==typeof this.internalRng.getState)return this.internalRng.getState()}}Bt.MIN_INT=-0x80000000,Bt.MAX_INT=0x7fffffff,Bt.DBL_FACTOR=0x8000000,Bt.DBL_DIVISOR=11102230246251565e-32;let Bu=Math.floor,Bv=Math.log;function Bw(a){return Bu(Bv(a)/Bv(2))}let Bx=Math.ceil,By=Math.floor;function Bz(a,b,c){let d=a-b;return new zM(d>0?function*(){let e=c?void 0:b,f=c?d:By(d/2);for(let c=f;c>0;c=By(c/2)){let f=c===d?b:a-c;yield new zR(f,e),e=f}}():function*(){let e=c?void 0:b,f=c?d:Bx(d/2);for(let c=f;c<0;c=Bx(c/2)){let f=c===d?b:a-c;yield new zR(f,e),e=f}}())}let BA=Math.sign,BB=Number.isInteger,BC=Object.is;class BD extends zT{constructor(a,b){super(),this.min=a,this.max=b}generate(a,b){let c=this.computeGenerateRange(a,b);return new zR(a.nextInt(c.min,c.max),void 0)}canShrinkWithoutContext(a){return"number"==typeof a&&BB(a)&&!BC(a,-0)&&this.min<=a&&a<=this.max}shrink(a,b){return BD.isValidContext(a,b)?this.isLastChanceTry(a,b)?zM.of(new zR(b,void 0)):Bz(a,b,!1):Bz(a,this.defaultTarget(),!0)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(a,b){if(void 0===b||1!==a.nextInt(1,b))return{min:this.min,max:this.max};let c=function(a,b,c){if(a===b)return[{min:a,max:b}];if(a<0&&b>0){let d=c(-a),e=c(b);return[{min:-d,max:e},{min:b-e,max:b},{min:a,max:a+d}]}let d=c(b-a),e={min:a,max:a+d},f={min:b-d,max:b};return a<0?[f,e]:[e,f]}(this.min,this.max,Bw);if(1===c.length)return c[0];let d=a.nextInt(-2*(c.length-1),c.length-2);return d<0?c[0]:c[d+1]}isLastChanceTry(a,b){return a>0?a===b+1&&a>this.min:a<0&&a===b-1&&a<this.max}static isValidContext(a,b){if(void 0===b)return!1;if("number"!=typeof b)throw Error("Invalid context type passed to IntegerArbitrary (#1)");if(0!==b&&BA(a)!==BA(b))throw Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}let BE=Number.isInteger;function BF(a={}){let b={min:void 0!==a.min?a.min:-0x80000000,max:void 0!==a.max?a.max:0x7fffffff};if(b.min>b.max)throw Error("fc.integer maximum value should be equal or greater than the minimum one");if(!BE(b.min))throw Error("fc.integer minimum value should be an integer");if(!BE(b.max))throw Error("fc.integer maximum value should be an integer");return new BD(b.min,b.max)}let BG=new Map;class BH{constructor(a,b,c){this.arb=a,this.mrng=b,this.biasFactor=c}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}let BI=Math.min,BJ=Math.max;class BK{constructor(a,b,c,d){this.arb=a,this.mrng=b,this.slices=c,this.biasFactor=d,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(a){if(0!==a&&1===this.mrng.nextInt(1,this.biasFactor)){let b=[];for(let c=0;c!==this.slices.length;++c)this.slices[c].length===a&&Ae(b,c);0!==b.length&&(this.activeSliceIndex=b[this.mrng.nextInt(0,b.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=a-1)}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new zR(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(1!==this.mrng.nextInt(1,this.biasFactor))return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);let a=this.slices[this.activeSliceIndex];if(1!==this.mrng.nextInt(1,this.biasFactor))return this.nextIndexInSlice=1,this.lastIndexInSlice=a.length-1,new zR(a[0],void 0);let b=this.mrng.nextInt(0,a.length-1),c=this.mrng.nextInt(0,a.length-1);return this.nextIndexInSlice=BI(b,c),this.lastIndexInSlice=BJ(b,c),new zR(a[this.nextIndexInSlice++],void 0)}}function BL(a,b,c,d){return void 0===d||0===c.length||1!==b.nextInt(1,d)?new BH(a,b,d):new BK(a,b,c,d)}let BM=Math.floor,BN=Math.log,BO=Math.max,BP=Array.isArray;function BQ(a,b){return a===b?a:a+BM(BN(b-a)/BN(2))}class BR extends zT{constructor(a,b,c,d,e,f,g){super(),this.arb=a,this.minLength=b,this.maxGeneratedLength=c,this.maxLength=d,this.setBuilder=f,this.customSlices=g,this.lengthArb=BF({min:b,max:c}),this.depthContext=function(a){if(void 0===a)return{depth:0};if("string"!=typeof a)return a;let b=function(a){try{return a.get}catch(a){return}}(BG)===Aj?BG.get(a):z_(Aj,BG,[a]);if(void 0!==b)return b;let c={depth:0};return function(a){try{return a.set}catch(a){return}}(BG)===Ai?BG.set(a,c):z_(Ai,BG,[a,c]),c}(e)}preFilter(a){if(void 0===this.setBuilder)return a;let b=this.setBuilder();for(let c=0;c!==a.length;++c)b.tryAdd(a[c]);return b.getData()}static makeItCloneable(a,b){return a[zN]=()=>{let a=[];for(let c=0;c!==b.length;++c)Ae(a,b[c].value);return this.makeItCloneable(a,b),a},a}generateNItemsNoDuplicates(a,b,c,d){let e=0,f=a(),g=BL(this.arb,c,this.customSlices,d);for(;f.size()<b&&e<this.maxGeneratedLength;){let a=g.next();f.tryAdd(a)?e=0:e+=1}return f.getData()}safeGenerateNItemsNoDuplicates(a,b,c,d){let e=BO(0,b-BQ(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=e;try{return this.generateNItemsNoDuplicates(a,b,c,d)}finally{this.depthContext.depth-=e}}generateNItems(a,b,c){let d=[],e=BL(this.arb,b,this.customSlices,c);e.attemptExact(a);for(let b=0;b!==a;++b)Ae(d,e.next());return d}safeGenerateNItems(a,b,c){let d=BO(0,a-BQ(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=d;try{return this.generateNItems(a,b,c)}finally{this.depthContext.depth-=d}}wrapper(a,b,c,d){let e=b?this.preFilter(a):a,f=!1,g=[],h=[];for(let a=0;a!==e.length;++a){let b=e[a];f=f||b.hasToBeCloned,Ae(g,b.value),Ae(h,b.context)}return f&&BR.makeItCloneable(g,e),new zR(g,{shrunkOnce:b,lengthContext:a.length===e.length&&void 0!==c?c:void 0,itemsContexts:h,startIndex:d})}generate(a,b){let c=this.applyBias(a,b),d=c.size,e=void 0!==this.setBuilder?this.safeGenerateNItemsNoDuplicates(this.setBuilder,d,a,c.biasFactorItems):this.safeGenerateNItems(d,a,c.biasFactorItems);return this.wrapper(e,!1,void 0,0)}applyBias(a,b){if(void 0===b)return{size:this.lengthArb.generate(a,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(a,void 0).value,biasFactorItems:b};if(1!==a.nextInt(1,b))return{size:this.lengthArb.generate(a,void 0).value};if(1!==a.nextInt(1,b)||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(a,void 0).value,biasFactorItems:b};let c=BQ(this.minLength,this.maxGeneratedLength);return{size:BF({min:this.minLength,max:c}).generate(a,void 0).value,biasFactorItems:b}}canShrinkWithoutContext(a){if(!BP(a)||this.minLength>a.length||a.length>this.maxLength)return!1;for(let b=0;b!==a.length;++b)if(!(b in a)||!this.arb.canShrinkWithoutContext(a[b]))return!1;return this.preFilter(Ad(a,a=>new zR(a,void 0))).length===a.length}shrinkItemByItem(a,b,c){let d=[];for(let e=b.startIndex;e<c;++e)Ae(d,new Aq(()=>this.arb.shrink(a[e],b.itemsContexts[e]).map(c=>[[...Ad(Af(a,0,e),(a,c)=>new zR(zP(a),b.itemsContexts[c])),c,...Ad(Af(a,e+1),(a,c)=>new zR(zP(a),b.itemsContexts[c+e+1]))],void 0,e])));return zM.nil().join(...d)}shrinkImpl(a,b){if(0===a.length)return zM.nil();let c=void 0!==b?b:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(a.length,c.lengthContext).drop(c.shrunkOnce&&void 0===c.lengthContext&&a.length>this.minLength+1?1:0).map(b=>{let d=a.length-b.value;return[Ad(Af(a,d),(a,b)=>new zR(zP(a),c.itemsContexts[b+d])),b.context,0]}).join(new Aq(()=>a.length>this.minLength?this.shrinkItemByItem(a,c,1):this.shrinkItemByItem(a,c,a.length))).join(a.length>this.minLength?new Aq(()=>{let b={shrunkOnce:!1,lengthContext:void 0,itemsContexts:Af(c.itemsContexts,1),startIndex:0};return this.shrinkImpl(Af(a,1),b).filter(a=>this.minLength<=a[0].length+1).map(b=>[[new zR(zP(a[0]),c.itemsContexts[0]),...b[0]],void 0,0])}):zM.nil())}shrink(a,b){return this.shrinkImpl(a,b).map(a=>this.wrapper(a[0],!0,a[1],a[2]))}}let BS=Math.floor,BT=Math.min,BU=["xsmall","small","medium","large","xlarge"],BV=["-4","-3","-2","-1","=","+1","+2","+3","+4"],BW=String.fromCodePoint;function BX(a,b,c,d){return BF({min:a,max:b}).map(a=>BW(c(a)),a=>d(function(a){if("string"!=typeof a)throw Error("Cannot unmap non-string");if(0===a.length||a.length>2)throw Error("Cannot unmap string with more or less than one character");let b=An(a,0);if(1===a.length)return b;let c=An(a,1);if(b<55296||b>56319||c<56320||c>57343)throw Error("Cannot unmap invalid surrogate pairs");return a.codePointAt(0)}(a)))}function BY(a){return a}class BZ{constructor(){this.receivedLogs=[]}log(a){this.receivedLogs.push(a)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[zN](){return new BZ}}BX(0,1112063,function(a){if(a<55296)return a<95?a+32:a<=126?a-95:a;return a+2048},function(a){if(a<55296)return a>=32&&a<=126?a-32:a>=0&&a<=31?a+95:a;return a<=57343?-1:a-2048}).map(function(a){let b=z3(a);return a!==b?b:`%${function(a,...b){return function(a){try{return a.toString}catch(a){return}}(a)===Ao?a.toString(...b):z_(Ao,a,b)}(An(a,0),16)}`},function(a){if("string"!=typeof a)throw Error("Unsupported");return decodeURIComponent(a)}),new WeakMap,Object.create(null),Symbol("adapted-value");let B$=new Float64Array(1);new Uint32Array(B$.buffer,B$.byteOffset);let B_=new Float32Array(1);new Uint32Array(B_.buffer,B_.byteOffset),z0.isArray,Symbol("no-key");let B0={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"};function B1(a,b){let c="";for(;a.length+c.length<b;)c+="0";return c+a}function B2(a){let b="";for(let d=a;0!==d;){var c;let a=d>>5;b=((c=d-(a<<5))<10?z2(c):B0[c])+b,d=a}return b}function B3(a){return function(b){return B1(B2(~~(b/0x40000000)),a-6)+B1(B2(0x3fffffff&b),6)}}B3(10),B3(8);class B4{constructor(a,b){this.commands=a,this.metadataForReplay=b}[Symbol.iterator](){return this.commands[Symbol.iterator]()}[zN](){return new B4(this.commands.map(a=>a.clone()),this.metadataForReplay)}toString(){let a=this.commands.filter(a=>a.hasRan).map(a=>a.toString()).join(","),b=this.metadataForReplay();return 0!==b.length?`${a} /*${b}*/`:a}}let B5=a=>a();class B6{constructor(a,b){this.act=a,this.taskSelector=b,this.lastTaskId=0,this.sourceTaskSelector=b.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[]}static buildLog(a){return`[task\${${a.taskId}}] ${0!==a.label.length?`${a.schedulingType}::${a.label}`:a.schedulingType} ${a.status}${void 0!==a.outputValue?` with value ${a.outputValue.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}`:""}`}log(a,b,c,d,e,f){this.triggeredTasks.push({status:e,schedulingType:a,taskId:b,label:c,metadata:d,outputValue:void 0!==f?Br(f):void 0})}scheduleInternal(a,b,c,d,e,f){let g=null,h=++this.lastTaskId,i=new Promise((e,i)=>{g=()=>{(f?c.then(()=>f()):c).then(c=>(this.log(a,h,b,d,"resolved",c),e(c)),c=>(this.log(a,h,b,d,"rejected",c),i(c)))}});return this.scheduledTasks.push({original:c,scheduled:i,trigger:g,schedulingType:a,taskId:h,label:b,metadata:d,customAct:e}),0!==this.scheduledWatchers.length&&this.scheduledWatchers[0](),i}schedule(a,b,c,d){return this.scheduleInternal("promise",b||"",a,c,d||B5)}scheduleFunction(a,b){return(...c)=>this.scheduleInternal("function",`${a.name}(${c.map(Br).join(",")})`,a(...c),void 0,b||B5)}scheduleSequence(a,b){let c={done:!1,faulty:!1},d={then:a=>a()},e=()=>{},f=new Promise(a=>e=a);return a.reduce((a,f)=>{let[g,h,i]="function"==typeof f?[f,f.name,void 0]:[f.builder,f.label,f.metadata];return a.then(()=>{let a=this.scheduleInternal("sequence",h,d,i,b||B5,()=>g());return a.catch(()=>{c.faulty=!0,e()}),a})},d).then(()=>{c.done=!0,e()},()=>{}),Object.assign(c,{task:Promise.resolve(f).then(()=>({done:c.done,faulty:c.faulty}))})}count(){return this.scheduledTasks.length}internalWaitOne(){if(0===this.scheduledTasks.length)throw Error("No task scheduled");let a=this.taskSelector.nextTaskIndex(this.scheduledTasks),[b]=this.scheduledTasks.splice(a,1);return b.customAct(async()=>{b.trigger();try{await b.scheduled}catch(a){}})}async waitOne(a){let b=a||B5;await this.act(()=>b(async()=>await this.internalWaitOne()))}async waitAll(a){for(;this.scheduledTasks.length>0;)await this.waitOne(a)}async waitFor(a,b){let c=!1,d=null,e=async()=>{for(;!c&&this.scheduledTasks.length>0;)await this.waitOne(b);d=null},f=()=>{null===d&&(d=Promise.resolve().then(e))},g=()=>{let a=this.scheduledWatchers.indexOf(f);-1!==a&&this.scheduledWatchers.splice(a,1),0===a&&0!==this.scheduledWatchers.length&&this.scheduledWatchers[0]()},h=a.then(a=>(c=!0,null===d)?(g(),a):d.then(()=>(g(),a)),a=>{if(c=!0,null===d)throw g(),a;return d.then(()=>{throw g(),a})});return this.scheduledTasks.length>0&&0===this.scheduledWatchers.length&&f(),this.scheduledWatchers.push(f),h}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(a=>({status:"pending",schedulingType:a.schedulingType,taskId:a.taskId,label:a.label,metadata:a.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(B6.buildLog).map(a=>`-> ${a}`).join("\n")+"`"}[zN](){return new B6(this.act,this.sourceTaskSelector)}}(y=_||(_={}))[y.Full=0]="Full",y[y.Character=1]="Character",[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],[..."0123456789"],[..." 	\r\n\v\f"],[..."\r\n",..."\x1e\x15"],BX(32,126,BY,BY),a.s(["__commitHash",()=>"a4a600eaa08c833707067a877db144289a724b91","__type",()=>"module","__version",()=>"3.23.2"],20957),a.i(20957);let B7=(a,b)=>{switch(b._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(a);case"SymbolKeyword":return Object.getOwnPropertySymbols(a);case"Refinement":return B7(a,b.from)}},B8=a=>{let b,c=!1;return()=>(c||(b=a(),c=!0),b)},B9=a=>`[${eE(a)}]`,Ca=a=>Array.isArray(a)?a.map(B9).join(""):B9(a),Cb=(a,b,c,d)=>{let e=a;return c&&gn(c)&&(e+=`
at path: ${Ca(c)}`),void 0!==b&&(e+=`
details: ${b}`),d&&(e+=`
schema (${d._tag}): ${d}`),e},Cc=(a,b,c)=>Cb("Unsupported schema or overlapping types",`cannot extend ${a} with ${b}`,c),Cd=a=>Cb("Unsupported schema",void 0,void 0,a),Ce=a=>Cb("Duplicate index signature",`${a} index signature`),Cf=Cb("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),Cg=Cb("Invalid element","A required element cannot follow an optional element. ts(1257)"),Ch=a=>Cb("Duplicate property signature transformation",`Duplicate key ${eF(a)}`),Ci=a=>Cb("Duplicate property signature",`Duplicate key ${eF(a)}`),Cj=Symbol.for("effect/SchemaId/DateFromSelf"),Ck=Symbol.for("effect/SchemaId/GreaterThan"),Cl=Symbol.for("effect/SchemaId/GreaterThanOrEqualTo"),Cm=Symbol.for("effect/SchemaId/LessThan"),Cn=Symbol.for("effect/SchemaId/LessThanOrEqualTo"),Co=Symbol.for("effect/SchemaId/Int"),Cp=Symbol.for("effect/SchemaId/NonNaN"),Cq=Symbol.for("effect/SchemaId/Finite"),Cr=Symbol.for("effect/SchemaId/JsonNumber"),Cs=Symbol.for("effect/SchemaId/Between"),Ct=Symbol.for("effect/SchemaId/GreaterThanBigint"),Cu=Symbol.for("effect/SchemaId/GreaterThanOrEqualToBigint"),Cv=Symbol.for("effect/SchemaId/LessThanBigint"),Cw=Symbol.for("effect/SchemaId/LessThanOrEqualToBigint"),Cx=Symbol.for("effect/SchemaId/BetweenBigint"),Cy=Symbol.for("effect/SchemaId/MinLength"),Cz=Symbol.for("effect/SchemaId/MaxLength"),CA=Symbol.for("effect/SchemaId/Length"),CB=Symbol.for("effect/SchemaId/MinItems"),CC=Symbol.for("effect/SchemaId/MaxItems"),CD=Symbol.for("effect/SchemaId/ItemsCount"),CE=Symbol.for("effect/annotation/TypeConstructor"),CF=Symbol.for("effect/annotation/Brand"),CG=Symbol.for("effect/annotation/SchemaId"),CH=Symbol.for("effect/annotation/Message"),CI=Symbol.for("effect/annotation/MissingMessage"),CJ=Symbol.for("effect/annotation/Identifier"),CK=Symbol.for("effect/annotation/Title"),CL=Symbol.for("effect/annotation/AutoTitle"),CM=Symbol.for("effect/annotation/Description"),CN=Symbol.for("effect/annotation/Examples"),CO=Symbol.for("effect/annotation/Default"),CP=Symbol.for("effect/annotation/JSONSchema"),CQ=Symbol.for("effect/annotation/Arbitrary"),CR=Symbol.for("effect/annotation/Pretty"),CS=Symbol.for("effect/annotation/Equivalence"),CT=Symbol.for("effect/annotation/Documentation"),CU=Symbol.for("effect/annotation/Concurrency"),CV=Symbol.for("effect/annotation/Batching"),CW=Symbol.for("effect/annotation/ParseIssueTitle"),CX=Symbol.for("effect/annotation/ParseOptions"),CY=Symbol.for("effect/annotation/DecodingFallback"),CZ=Symbol.for("effect/annotation/Surrogate"),C$=Symbol.for("effect/annotation/StableFilter"),C_=dE(2,(a,b)=>Object.prototype.hasOwnProperty.call(a.annotations,b)?fQ(a.annotations[b]):fP()),C0=C_(CF),C1=C_(CH),C2=C_(CI),C3=C_(CK),C4=C_(CL),C5=C_(CJ),C6=C_(CM),C7=C_(CU),C8=C_(CV),C9=C_(CW),Da=C_(CX),Db=C_(CY),Dc=C_(CZ),Dd=C_(C$),De=a=>f5(Dd(a),a=>!0===a),Df=Symbol.for("effect/annotation/JSONIdentifier"),Dg=C_(Df),Dh=Symbol.for("effect/schema/ParseJson");class Di{typeParameters;decodeUnknown;encodeUnknown;annotations;_tag="Declaration";constructor(a,b,c,d={}){this.typeParameters=a,this.decodeUnknown=b,this.encodeUnknown=c,this.annotations=d}toString(){return fS(EO(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(a=>a.toJSON()),annotations:EC(this.annotations)}}}let Dj=a=>b=>b._tag===a;class Dk{literal;annotations;_tag="Literal";constructor(a,b={}){this.literal=a,this.annotations=b}toString(){return fS(EO(this),()=>eF(this.literal))}toJSON(){return{_tag:this._tag,literal:dX(this.literal)?String(this.literal):this.literal,annotations:EC(this.annotations)}}}let Dl=Dj("Literal"),Dm=new Dk(null);class Dn{symbol;annotations;_tag="UniqueSymbol";constructor(a,b={}){this.symbol=a,this.annotations=b}toString(){return fS(EO(this),()=>eF(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:EC(this.annotations)}}}let Do=Dj("UniqueSymbol"),Dp=new class{annotations;_tag="UndefinedKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"undefined"}),Dq=new class{annotations;_tag="VoidKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"void"}),Dr=new class{annotations;_tag="NeverKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"never"}),Ds=Dj("NeverKeyword"),Dt=new class{annotations;_tag="UnknownKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"unknown"}),Du=new class{annotations;_tag="AnyKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"any"}),Dv=new class{annotations;_tag="StringKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"string",[CM]:"a string"}),Dw=Dj("StringKeyword"),Dx=new class{annotations;_tag="NumberKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"number",[CM]:"a number"}),Dy=Dj("NumberKeyword"),Dz=new class{annotations;_tag="BooleanKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"boolean",[CM]:"a boolean"}),DA=Dj("BooleanKeyword"),DB=new class{annotations;_tag="BigIntKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"bigint",[CM]:"a bigint"}),DC=new class{annotations;_tag="SymbolKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"symbol",[CM]:"a symbol"}),DD=Dj("SymbolKeyword"),DE=new class{annotations;_tag="ObjectKeyword";constructor(a={}){this.annotations=a}toString(){return EM(this)}toJSON(){return{_tag:this._tag,annotations:EC(this.annotations)}}}({[CK]:"object",[CM]:"an object in the TypeScript meaning, i.e. the `object` type"});class DF{enums;annotations;_tag="Enums";constructor(a,b={}){this.enums=a,this.annotations=b}toString(){return fS(EO(this),()=>`<enum ${this.enums.length} value(s): ${this.enums.map(([a,b])=>JSON.stringify(b)).join(" | ")}>`)}toJSON(){return{_tag:this._tag,enums:this.enums,annotations:EC(this.annotations)}}}let DG=Dj("Enums"),DH=a=>{switch(a._tag){case"Literal":case"NumberKeyword":case"StringKeyword":case"TemplateLiteral":return!0;case"Union":return a.types.every(DH)}return!1},DI=a=>{switch(a._tag){case"Literal":return JSON.stringify(String(a.literal));case"StringKeyword":return"string";case"NumberKeyword":return"number";case"TemplateLiteral":return String(a);case"Union":return a.types.map(DI).join(" | ")}};class DJ{literal;type;constructor(a,b){if(this.literal=b,DH(a))this.type=a;else throw Error(Cb("Unsupported template literal span",void 0,void 0,a))}toString(){return(a=>{switch(a._tag){case"Literal":return String(a.literal);case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}";case"TemplateLiteral":return"${"+String(a)+"}";case"Union":return"${"+a.types.map(DI).join(" | ")+"}"}})(this.type)+this.literal}toJSON(){return{type:this.type.toJSON(),literal:this.literal}}}class DK{head;spans;annotations;_tag="TemplateLiteral";constructor(a,b,c={}){this.head=a,this.spans=b,this.annotations=c}toString(){return fS(EO(this),()=>DL(this))}toJSON(){return{_tag:this._tag,head:this.head,spans:this.spans.map(a=>a.toJSON()),annotations:EC(this.annotations)}}}let DL=a=>"`"+a.head+a.spans.map(String).join("")+"`",DM=Dj("TemplateLiteral");class DN{type;annotations;constructor(a,b={}){this.type=a,this.annotations=b}toJSON(){return{type:this.type.toJSON(),annotations:EC(this.annotations)}}toString(){return String(this.type)}}class DO extends DN{isOptional;constructor(a,b,c={}){super(a,c),this.isOptional=b}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:EC(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}let DP=a=>a.map(a=>a.type);class DQ{elements;rest;isReadonly;annotations;_tag="TupleType";constructor(a,b,c,d={}){this.elements=a,this.rest=b,this.isReadonly=c,this.annotations=d;let e=!1,f=!1;for(const b of a)if(b.isOptional)e=!0;else if(e){f=!0;break}if(f||e&&b.length>1)throw Error(Cg)}toString(){return fS(EO(this),()=>DR(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(a=>a.toJSON()),rest:this.rest.map(a=>a.toJSON()),isReadonly:this.isReadonly,annotations:EC(this.annotations)}}}let DR=a=>{let b=a.elements.map(String).join(", ");return gi(a.rest,{onEmpty:()=>`readonly [${b}]`,onNonEmpty:(c,d)=>{let e=String(c),f=e.includes(" | ")?`(${e})`:e;if(d.length>0){let c=d.map(String).join(", ");return a.elements.length>0?`readonly [${b}, ...${f}[], ${c}]`:`readonly [...${f}[], ${c}]`}return a.elements.length>0?`readonly [${b}, ...${f}[]]`:`ReadonlyArray<${e}>`}})};class DS extends DO{name;isReadonly;constructor(a,b,c,d,e){super(b,c,e),this.name=a,this.isReadonly=d}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:EC(this.annotations)}}}let DT=a=>{switch(a._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return DT(a.from)}return!1};class DU{type;isReadonly;parameter;constructor(a,b,c){if(this.type=b,this.isReadonly=c,DT(a))this.parameter=a;else throw Error(Cf)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class DV{annotations;_tag="TypeLiteral";propertySignatures;indexSignatures;constructor(a,b,c={}){this.annotations=c;const d={};for(let b=0;b<a.length;b++){const c=a[b].name;if(Object.prototype.hasOwnProperty.call(d,c))throw Error(Ci(c));d[c]=null}const e={string:!1,symbol:!1};for(let a=0;a<b.length;a++){const c=ED(b[a].parameter);if(Dw(c)){if(e.string)throw Error(Ce("string"));e.string=!0}else if(DD(c)){if(e.symbol)throw Error(Ce("symbol"));e.symbol=!0}}this.propertySignatures=a,this.indexSignatures=b}toString(){return fS(EO(this),()=>DX(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(a=>a.toJSON()),indexSignatures:this.indexSignatures.map(a=>a.toJSON()),annotations:EC(this.annotations)}}}let DW=a=>a.map(String).join("; "),DX=a=>{if(a.propertySignatures.length>0){let b=a.propertySignatures.map(String).join("; ");return a.indexSignatures.length>0?`{ ${b}; ${DW(a.indexSignatures)} }`:`{ ${b} }`}return a.indexSignatures.length>0?`{ ${DW(a.indexSignatures)} }`:"{}"},DY=Dj("TypeLiteral"),DZ=gB(fH(fF,a=>{switch(a._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),D$={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},D_=a=>gR(a,a=>D2(a)?D_(a.types):[a]);class D0{types;annotations;static make=(a,b)=>D1(a)?new D0(a,b):1===a.length?a[0]:Dr;static unify=(a,b)=>D0.make((a=>{let b=DZ(a),c=[],d={},e=[];for(let a of b)switch(a._tag){case"NeverKeyword":break;case"AnyKeyword":return[Du];case"UnknownKeyword":return[Dt];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":d[a._tag]||(d[a._tag]=a,c.push(a));break;case"Literal":{let b=typeof a.literal;switch(b){case"string":case"number":case"bigint":case"boolean":d[D$[b]]||e.includes(a.literal)||(e.push(a.literal),c.push(a));break;case"object":e.includes(a.literal)||(e.push(a.literal),c.push(a))}break}case"UniqueSymbol":d.SymbolKeyword||e.includes(a.symbol)||(e.push(a.symbol),c.push(a));break;case"TupleType":d.ObjectKeyword||c.push(a);break;case"TypeLiteral":0===a.propertySignatures.length&&0===a.indexSignatures.length?d["{}"]||(d["{}"]=a,c.push(a)):d.ObjectKeyword||c.push(a);break;default:c.push(a)}return c})(D_(a)),b);_tag="Union";constructor(a,b={}){this.types=a,this.annotations=b}toString(){return fS(EO(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(a=>a.toJSON()),annotations:EC(this.annotations)}}}let D1=a=>a.length>1,D2=Dj("Union"),D3=dS(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class D4{f;annotations;_tag="Suspend";constructor(a,b={}){this.f=a,this.annotations=b,this.f=B8(a)}toString(){return EO(this).pipe(fT(()=>f0(fY(this.f)(),a=>EO(a))),fS(()=>"<suspended schema>"))}toJSON(){let a=this.f(),b=D3.get(a);return b||(D3.set(a,{_tag:this._tag}),b={_tag:this._tag,ast:a.toJSON(),annotations:EC(this.annotations)},D3.set(a,b)),b}}class D5{from;filter;annotations;_tag="Refinement";constructor(a,b,c={}){this.from=a,this.filter=b,this.annotations=c}toString(){return C5(this).pipe(fS(()=>fR(EN(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:a=>D6(this.from)?String(this.from)+" & "+a:a})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:EC(this.annotations)}}}let D6=Dj("Refinement"),D7={};class D8{from;to;transformation;annotations;_tag="Transformation";constructor(a,b,c,d={}){this.from=a,this.to=b,this.transformation=c,this.annotations=d}toString(){return fS(EO(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:EC(this.annotations)}}}let D9=Dj("Transformation");class Ea{decode;encode;_tag="FinalTransformation";constructor(a,b){this.decode=a,this.encode=b}}let Eb=new class{_tag="ComposeTransformation"};class Ec{from;to;decode;encode;constructor(a,b,c,d){this.from=a,this.to=b,this.decode=c,this.encode=d}}let Ed=a=>a.decode===dF&&a.encode===dF;class Ee{propertySignatureTransformations;_tag="TypeLiteralTransformation";constructor(a){this.propertySignatureTransformations=a;const b={},c={};for(const d of a){const a=d.from;if(b[a])throw Error(Ch(a));b[a]=!0;const e=d.to;if(c[e])throw Error(Ch(e));c[e]=!0}}}let Ef=(a,b)=>{let c=Object.getOwnPropertyDescriptors(a),d={...a.annotations};delete d[CJ];let e={...d,...b},f=Dc(a);return fh(f)&&(e[CZ]=Ef(f.value,b)),c.annotations.value=e,Object.create(Object.getPrototypeOf(a),c)},Eg=(a,b)=>{switch(a._tag){case"Literal":return ps(String(a.literal));case"StringKeyword":return"[\\s\\S]*?";case"NumberKeyword":return"[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?";case"TemplateLiteral":return Ei(a,b,!1);case"Union":return a.types.map(a=>Eg(a,b)).join("|")}},Eh=(a,b,c,d)=>{if(D2(a)){if(c&&!d)return`(?:${b})`}else if(!c||!d)return b;return`(${b})`},Ei=(a,b,c)=>{let d="";if(""!==a.head){let e=ps(a.head);d+=b&&c?`(${e})`:e}for(let e of a.spans){let a=Eg(e.type,b);if(d+=Eh(e.type,a,b,c),""!==e.literal){let a=ps(e.literal);d+=b&&c?`(${a})`:a}}return d},Ej=a=>RegExp(`^${Ei(a,!1,!0)}$`),Ek=a=>{let b=Dc(a);if(fh(b))return Ek(b.value);switch(a._tag){case"TypeLiteral":return a.indexSignatures.slice();case"Suspend":return Ek(a.f());case"Refinement":return Ek(a.from)}return[]},El=a=>{switch(a._tag){case"TupleType":{let b=!1,c=[];for(let d of a.elements)d.isOptional&&(b=!0),c.push(d.type);return b&&c.push(Dp),c=c.concat(DP(a.rest)),D0.make(c)}case"Refinement":return El(a.from);case"Union":return D0.make(a.types.map(El));case"Suspend":return El(a.f())}throw Error(Cd(a))},Em=(a,b)=>{let c=f9(a.propertySignatures,a=>a.name===b);if(fh(c))return c.value;if(dU(b)){let c;for(let d of a.indexSignatures){let a=ED(d.parameter);switch(a._tag){case"TemplateLiteral":if(Ej(a).test(b))return new DS(b,d.type,!1,!0);break;case"StringKeyword":void 0===c&&(c=new DS(b,d.type,!1,!0))}}if(c)return c}else if(dY(b)){for(let c of a.indexSignatures)if(DD(ED(c.parameter)))return new DS(b,c.type,!1,!0)}},En=(a,b)=>{let c=Dc(a);if(fh(c))return En(c.value,b);switch(a._tag){case"TypeLiteral":{let c=Em(a,b);if(c)return c;break}case"Union":return new DS(b,D0.make(a.types.map(a=>En(a,b).type)),!1,!0);case"Suspend":return En(a.f(),b);case"Refinement":return En(a.from,b)}throw Error(Cd(a))},Eo=a=>{let b=Dc(a);if(fh(b))return Eo(b.value);switch(a._tag){case"TypeLiteral":return a.propertySignatures.map(a=>a.name);case"Union":return a.types.slice(1).reduce((a,b)=>gN(a,Eo(b)),Eo(a.types[0]));case"Suspend":return Eo(a.f());case"Refinement":return Eo(a.from);case"Transformation":return Eo(a.to)}return[]},Ep=(a,b)=>{let c=[],d=[],e=a=>{switch(a._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":d.push(new DU(a,b,!0));break;case"Literal":if(dU(a.literal)||dV(a.literal))c.push(new DS(a.literal,b,!1,!0));else{let b;throw Error((b=a.literal,Cb("Unsupported literal",`literal value: ${eF(b)}`)))}break;case"Enums":for(let[d,e]of a.enums)c.push(new DS(e,b,!1,!0));break;case"UniqueSymbol":c.push(new DS(a.symbol,b,!1,!0));break;case"Union":a.types.forEach(e);break;default:throw Error(Cb("Unsupported key schema",void 0,void 0,a))}};return e(a),{propertySignatures:c,indexSignatures:d}},Eq=(a,b)=>{let c=Dc(a);if(fh(c))return Eq(c.value,b);switch(a._tag){case"TypeLiteral":{let c=[],d={};for(let e of a.propertySignatures)d[e.name]=null,b.includes(e.name)&&c.push(e);for(let e of b)if(!(e in d)){let b=Em(a,e);b&&c.push(b)}return new DV(c,[])}case"Union":return new DV(b.map(b=>En(a,b)),[]);case"Suspend":return Eq(a.f(),b);case"Refinement":return Eq(a.from,b);case"Transformation":switch(a.transformation._tag){case"ComposeTransformation":return new D8(Eq(a.from,b),Eq(a.to,b),Eb);case"TypeLiteralTransformation":{let c=[],d=[];for(let e of b){let b=a.transformation.propertySignatureTransformations.find(a=>a.to===e);b?(c.push(b),d.push(b.from)):d.push(e)}return gn(c)?new D8(Eq(a.from,d),Eq(a.to,b),new Ee(c)):Eq(a.from,d)}}}throw Error(Cd(a))},Er=a=>D0.make([a,Dp]),Es=(a,b)=>{let c=b?.exact===!0;switch(a._tag){case"TupleType":return new DQ(a.elements.map(a=>new DO(c?a.type:Er(a.type),!0)),gh(a.rest,{onEmpty:()=>a.rest,onNonEmpty:a=>[new DN(D0.make([...DP(a),Dp]))]}),a.isReadonly);case"TypeLiteral":return new DV(a.propertySignatures.map(a=>new DS(a.name,c?a.type:Er(a.type),!0,a.isReadonly,a.annotations)),a.indexSignatures.map(a=>new DU(a.parameter,Er(a.type),a.isReadonly)));case"Union":return D0.make(a.types.map(a=>Es(a,b)));case"Suspend":return new D4(()=>Es(a.f(),b));case"Declaration":case"Refinement":throw Error(Cd(a));case"Transformation":if("TypeLiteralTransformation"===a.transformation._tag&&a.transformation.propertySignatureTransformations.every(Ed))return new D8(Es(a.from,b),Es(a.to,b),a.transformation);throw Error(Cd(a))}return a},Et=a=>{switch(a._tag){case"TupleType":return new DQ(a.elements.map(a=>new DO(a.type,!1)),a.rest,a.isReadonly);case"TypeLiteral":return new DV(a.propertySignatures.map(a=>new DS(a.name,a.type,!1,a.isReadonly,a.annotations)),a.indexSignatures);case"Union":return D0.make(a.types.map(a=>Et(a)));case"Suspend":return new D4(()=>Et(a.f()));case"Declaration":case"Refinement":throw Error(Cd(a));case"Transformation":if("TypeLiteralTransformation"===a.transformation._tag&&a.transformation.propertySignatureTransformations.every(Ed))return new D8(Et(a.from),Et(a.to),a.transformation);throw Error(Cd(a))}return a},Eu=a=>{switch(a._tag){case"TupleType":return!1===a.isReadonly?a:new DQ(a.elements,a.rest,!1,a.annotations);case"TypeLiteral":{let b=Ey(a.propertySignatures,a=>!1===a.isReadonly?a:new DS(a.name,a.type,a.isOptional,!1,a.annotations)),c=Ey(a.indexSignatures,a=>!1===a.isReadonly?a:new DU(a.parameter,a.type,!1));return b===a.propertySignatures&&c===a.indexSignatures?a:new DV(b,c,a.annotations)}case"Union":{let b=Ey(a.types,Eu);return b===a.types?a:D0.make(b,a.annotations)}case"Suspend":return new D4(()=>Eu(a.f()),a.annotations);case"Refinement":{let b=Eu(a.from);return b===a.from?a:new D5(b,a.filter,a.annotations)}case"Transformation":{let b=Eu(a.from),c=Eu(a.to);return b===a.from&&c===a.to?a:new D8(b,c,a.transformation,a.annotations)}}return a},Ev=a=>b=>{let c;for(let d of a)Object.prototype.hasOwnProperty.call(b.annotations,d)&&(void 0===c&&(c={}),c[d]=b.annotations[d]);return c},Ew=Ev([CN,CO,CP,CQ,CR,CS]),Ex=a=>{switch(a._tag){case"Declaration":{let b=Ey(a.typeParameters,Ex);return b===a.typeParameters?a:new Di(b,a.decodeUnknown,a.encodeUnknown,a.annotations)}case"TupleType":{let b=Ey(a.elements,a=>{let b=Ex(a.type);return b===a.type?a:new DO(b,a.isOptional)}),c=DP(a.rest),d=Ey(c,Ex);return b===a.elements&&d===c?a:new DQ(b,d.map(a=>new DN(a)),a.isReadonly,a.annotations)}case"TypeLiteral":{let b=Ey(a.propertySignatures,a=>{let b=Ex(a.type);return b===a.type?a:new DS(a.name,b,a.isOptional,a.isReadonly)}),c=Ey(a.indexSignatures,a=>{let b=Ex(a.type);return b===a.type?a:new DU(a.parameter,b,a.isReadonly)});return b===a.propertySignatures&&c===a.indexSignatures?a:new DV(b,c,a.annotations)}case"Union":{let b=Ey(a.types,Ex);return b===a.types?a:D0.make(b,a.annotations)}case"Suspend":return new D4(()=>Ex(a.f()),a.annotations);case"Refinement":{let b=Ex(a.from);return b===a.from?a:new D5(b,a.filter,a.annotations)}case"Transformation":{let b=Ew(a);return Ex(void 0!==b?Ef(a.to,b):a.to)}}return a};function Ey(a,b){let c=!1,d=Array(a.length);for(let e=0;e<a.length;e++){let f=a[e],g=b(f);g!==f&&(c=!0),d[e]=g}return c?d:a}let Ez=a=>{switch(a._tag){case"Transformation":return a.from;case"Refinement":return Ez(a.from);case"Suspend":return Ez(a.f())}},EA=(a,b)=>{switch(a._tag){case"Declaration":{let c=Ey(a.typeParameters,a=>EA(a,b));return c===a.typeParameters?a:new Di(c,a.decodeUnknown,a.encodeUnknown)}case"TupleType":{let c=Ey(a.elements,a=>{let c=EA(a.type,b);return c===a.type?a:new DO(c,a.isOptional)}),d=DP(a.rest),e=Ey(d,a=>EA(a,b));return c===a.elements&&e===d?a:new DQ(c,e.map(a=>new DN(a)),a.isReadonly)}case"TypeLiteral":{let c=Ey(a.propertySignatures,a=>{let c=EA(a.type,b);return c===a.type?a:new DS(a.name,c,a.isOptional,a.isReadonly)}),d=Ey(a.indexSignatures,a=>{let c=EA(a.type,b);return c===a.type?a:new DU(a.parameter,c,a.isReadonly)});return c===a.propertySignatures&&d===a.indexSignatures?a:new DV(c,d)}case"Union":{let c=Ey(a.types,a=>EA(a,b));return c===a.types?a:D0.make(c)}case"Suspend":{let c,d=fT(Dg(a),()=>C5(a));if(fh(d)){let a=b?"Bound":"";c={[Df]:`${d.value}Encoded${a}`}}return new D4(()=>EA(a.f(),b),c)}case"Refinement":{let c=EA(a.from,b);if(!b)return c;if(c===a.from)return a;if(void 0===Ez(a.from)&&De(a))return new D5(c,a.filter,a.annotations);return c}case"Transformation":return EA(a.from,b)}return a},EB=a=>EA(a,!1),EC=a=>{let b={};for(let c of Object.getOwnPropertySymbols(a))b[String(c)]=a[c];return b},ED=a=>{switch(a._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return a;case"Refinement":return ED(a.from)}},EE=(a,b)=>{switch(a._tag){case"Literal":return Dl(b)&&b.literal===a.literal;case"UniqueSymbol":return Do(b)&&b.symbol===a.symbol;case"UndefinedKeyword":case"VoidKeyword":case"NeverKeyword":case"UnknownKeyword":case"AnyKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":case"ObjectKeyword":return b._tag===a._tag;case"TemplateLiteral":return DM(b)&&b.head===a.head&&EF(b.spans,a.spans);case"Enums":return DG(b)&&EG(b.enums,a.enums);case"Union":return D2(b)&&EH(a.types,b.types);case"Refinement":case"TupleType":case"TypeLiteral":case"Suspend":case"Transformation":case"Declaration":return a===b}},EF=gY((a,b)=>a.literal===b.literal&&EE(a.type,b.type)),EG=gY((a,b)=>b[0]===a[0]&&b[1]===a[1]),EH=gY(EE),EI=gM(EE),EJ=a=>{switch(a._tag){case"Declaration":{let b=Dc(a);if(fh(b))return EJ(b.value);break}case"TypeLiteral":return a.propertySignatures.map(a=>dY(a.name)?new Dn(a.name):new Dk(a.name)).concat(a.indexSignatures.map(a=>ED(a.parameter)));case"Suspend":return EJ(a.f());case"Union":return a.types.slice(1).reduce((a,b)=>EI(a,EJ(b)),EJ(a.types[0]));case"Transformation":return EJ(a.to)}throw Error(Cd(a))},EK=(a,b)=>new D8(a,b,Eb),EL=(a,b)=>{switch(a._tag){case"TypeLiteral":{let c=[];for(let a of Reflect.ownKeys(b)){let d=b[a];void 0!==d&&c.push(new Ec(a,d,dF,dF))}if(0===c.length)return a;return new D8(a,new DV(a.propertySignatures.map(a=>{let c=b[a.name];return new DS(void 0===c?a.name:c,Ex(a.type),a.isOptional,a.isReadonly,a.annotations)}),a.indexSignatures),new Ee(c))}case"Union":return D0.make(a.types.map(a=>EL(a,b)));case"Suspend":return new D4(()=>EL(a.f(),b));case"Transformation":return EK(a,EL(Ex(a),b))}throw Error(Cb("Unsupported schema",void 0,void 0,a))},EM=a=>fS(EO(a),()=>a._tag),EN=a=>C3(a).pipe(fT(()=>C6(a)),fT(()=>C4(a)),f_(b=>b+fR(C0(a),{onNone:()=>"",onSome:a=>a.map(a=>` & Brand<${eF(a)}>`).join("")}))),EO=a=>fT(C5(a),()=>EN(a));class EP{path;actual;issue;_tag="Pointer";constructor(a,b,c){this.path=a,this.actual=b,this.issue=c}}class EQ{actual;message;_tag="Unexpected";constructor(a,b){this.actual=a,this.message=b}}class ER{ast;message;_tag="Missing";actual=void 0;constructor(a,b){this.ast=a,this.message=b}}class ES{ast;actual;issues;output;_tag="Composite";constructor(a,b,c,d){this.ast=a,this.actual=b,this.issues=c,this.output=d}}class ET{ast;actual;kind;issue;_tag="Refinement";constructor(a,b,c,d){this.ast=a,this.actual=b,this.kind=c,this.issue=d}}class EU{ast;actual;kind;issue;_tag="Transformation";constructor(a,b,c,d){this.ast=a,this.actual=b,this.kind=c,this.issue=d}}class EV{ast;actual;message;_tag="Type";constructor(a,b,c){this.ast=a,this.actual=b,this.message=c}}class EW{ast;actual;message;_tag="Forbidden";constructor(a,b,c){this.ast=a,this.actual=b,this.message=c}}let EX=Symbol.for("effect/Schema/ParseErrorTypeId");class EY extends qn("ParseError"){[EX]=EX;get message(){return this.toString()}toString(){return FF.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[eA](){return this.toJSON()}}let EZ=a=>new EY({issue:a}),E$=fs,E_=fr,E0=fu,E1=ft,E2=dE(2,(a,b)=>fo(a)?fy(a,{onLeft:fr,onRight:b}):nh(a,b)),E3=dE(2,(a,b)=>fo(a)?fx(a,b):ns(a,b)),E4=dE(2,(a,b)=>fo(a)?fw(a,b):nu(a,b)),E5=dE(2,(a,b)=>fo(a)?fv(a,{onLeft:b.onFailure,onRight:b.onSuccess}):nt(a,b)),E6=dE(2,(a,b)=>fo(a)?fy(a,{onLeft:b,onRight:fs}):m5(a,b)),E7=(a,b)=>void 0===b||dV(b)?a:void 0===a?b:{...a,...b},E8=(a,b,c)=>{let d=Fu(a,b);return(a,b)=>d(a,E7(c,b))},E9=(a,b,c)=>{let d=E8(a,b,c);return(a,b)=>fA(d(a,b),EZ)},Fa=(a,b,c)=>{let d=E8(a,b,c);return(a,b)=>{let c;return fp(c=d(a,b))?fi:fj(c.right)}},Fb=(a,b,c)=>{let d=Fu(a,b);return(a,b)=>d(a,{...E7(c,b),isEffectAllowed:!0})},Fc=(a,b)=>E9(a.ast,!0,b),Fd=(a,b)=>Fa(a.ast,!0,b),Fe=(a,b)=>E8(a.ast,!0,b),Ff=(a,b)=>{let c=Fg(a,b);return(a,b)=>wY(c(a,b))},Fg=(a,b)=>Fb(a.ast,!0,b),Fh=(a,b)=>E9(a.ast,!1,b),Fi=(a,b)=>Fa(a.ast,!1,b),Fj=(a,b)=>E8(a.ast,!1,b),Fk=(a,b)=>{let c=Fl(a,b);return(a,b)=>wY(c(a,b))},Fl=(a,b)=>Fb(a.ast,!1,b),Fm=(a,b)=>E9(Ex(a.ast),!0,b),Fn=(a,b)=>Fa(Ex(a.ast),!0,b),Fo=(a,b)=>E8(Ex(a.ast),!0,b),Fp=(a,b)=>Fb(Ex(a.ast),!0,b),Fq=(a,b)=>{let c=Fu(Ex(a.ast),!0);return(a,d)=>fq(c(a,{exact:!0,...E7(b,d)}))},Fr=(a,b)=>{let c=Fu(Ex(a.ast),!0);return(a,d)=>{let e=c(a,{exact:!0,...E7(b,d)});if(fp(e))throw EZ(e.left)}},Fs=dS(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),Ft=dS(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),Fu=(a,b)=>{let c=b?Fs:Ft,d=c.get(a);if(d)return d;let e=Fv(a,b),f=Da(a),g=fh(f)?(a,b)=>e(a,E7(b,f.value)):e,h=Db(a),i=b&&fh(h)?(b,c)=>FA(E6(g(b,c),h.value),a,b,c):g;return c.set(a,i),i},Fv=(a,b)=>{switch(a._tag){case"Refinement":if(b){let b=Fu(a.from,!0);return(c,d)=>{d=d??D7;let e=d?.errors==="all";return FA(E2(E6(b(c,d),b=>{let f=new ET(a,c,"From",b);return e&&De(a)&&FL(b)?fR(a.filter(c,d,a),{onNone:()=>fr(f),onSome:b=>fr(new ES(a,c,[f,new ET(a,c,"Predicate",b)]))}):fr(f)}),b=>fR(a.filter(b,d,a),{onNone:()=>fs(b),onSome:b=>fr(new ET(a,c,"Predicate",b))})),a,c,d)}}{let b=Fu(Ex(a),!0),c=Fu(Fz(a.from),!1);return(d,e)=>FA(E2(b(d,e),a=>c(a,e)),a,d,e)}case"Transformation":{let c=FD(a.transformation,b),d=b?Fu(a.from,!0):Fu(a.to,!1),e=b?Fu(a.to,!0):Fu(a.from,!1);return(f,g)=>FA(E2(E4(d(f,g),c=>new EU(a,f,b?"Encoded":"Type",c)),d=>E2(E4(c(d,g??D7,a,f),b=>new EU(a,f,"Transformation",b)),c=>E4(e(c,g),c=>new EU(a,f,b?"Type":"Encoded",c)))),a,f,g)}case"Declaration":{let c=b?a.decodeUnknown(...a.typeParameters):a.encodeUnknown(...a.typeParameters);return(b,d)=>FA(c(b,d??D7,a),a,b,d)}case"Literal":return Fw(a,b=>b===a.literal);case"UniqueSymbol":return Fw(a,b=>b===a.symbol);case"UndefinedKeyword":return Fw(a,dZ);case"NeverKeyword":return Fw(a,d0);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return fs;case"StringKeyword":return Fw(a,dU);case"NumberKeyword":return Fw(a,dV);case"BooleanKeyword":return Fw(a,dW);case"BigIntKeyword":return Fw(a,dX);case"SymbolKeyword":return Fw(a,dY);case"ObjectKeyword":return Fw(a,d2);case"Enums":return Fw(a,b=>a.enums.some(([a,c])=>c===b));case"TemplateLiteral":{let b=Ej(a);return Fw(a,a=>dU(a)&&b.test(a))}case"TupleType":{let c=a.elements.map(a=>Fu(a.type,b)),d=a.rest.map(a=>Fu(a.type,b)),e=a.elements.filter(a=>!a.isOptional);a.rest.length>0&&(e=e.concat(a.rest.slice(1)));let f=e.length,g=a.elements.length>0?a.elements.map((a,b)=>b).join(" | "):"never",h=fX(C7(a)),i=fX(C8(a));return(b,j)=>{let k;if(!gm(b))return fr(new EV(a,b));let l=j?.errors==="all",m=[],n=0,o=[],p=b.length;for(let c=p;c<=f-1;c++){let d=new EP(c,b,new ER(e[c-p]));if(!l)return fr(new ES(a,b,d,o));m.push([n++,d])}if(0===a.rest.length)for(let c=a.elements.length;c<=p-1;c++){let d=new EP(c,b,new EQ(b[c],`is unexpected, expected: ${g}`));if(!l)return fr(new ES(a,b,d,o));m.push([n++,d])}let q=0;for(;q<c.length;q++)if(p<q+1){if(a.elements[q].isOptional)continue}else{let d=(0,c[q])(b[q],j);if(fo(d)){if(fp(d)){let c=new EP(q,b,d.left);if(!l)return fr(new ES(a,b,c,FC(o)));m.push([n++,c]);continue}o.push([n++,d.right])}else{let c=n++,e=q;k||(k=[]),k.push(({es:f,output:g})=>nh(na(d),d=>{if(fp(d)){let h=new EP(e,b,d.left);return l?(f.push([c,h]),nG):fr(new ES(a,b,h,FC(g)))}return g.push([c,d.right]),nG}))}}if(gn(d)){let[c,...e]=d;for(;q<p-e.length;q++){let d=c(b[q],j);if(fo(d))if(fp(d)){let c=new EP(q,b,d.left);if(!l)return fr(new ES(a,b,c,FC(o)));m.push([n++,c]);continue}else o.push([n++,d.right]);else{let c=n++,e=q;k||(k=[]),k.push(({es:f,output:g})=>nh(na(d),d=>{if(!fp(d))return g.push([c,d.right]),nG;{let h=new EP(e,b,d.left);return l?(f.push([c,h]),nG):fr(new ES(a,b,h,FC(g)))}}))}}for(let c=0;c<e.length;c++)if(!(p<(q+=c)+1)){let d=e[c](b[q],j);if(fo(d)){if(fp(d)){let c=new EP(q,b,d.left);if(!l)return fr(new ES(a,b,c,FC(o)));m.push([n++,c]);continue}o.push([n++,d.right])}else{let c=n++,e=q;k||(k=[]),k.push(({es:f,output:g})=>nh(na(d),d=>{if(fp(d)){let h=new EP(e,b,d.left);return l?(f.push([c,h]),nG):fr(new ES(a,b,h,FC(g)))}return g.push([c,d.right]),nG}))}}}let r=({es:c,output:d})=>fD(c)?fr(new ES(a,b,FC(c),FC(d))):fs(FC(d));if(k&&k.length>0){let a=k;return nA(()=>{let b={es:gJ(m),output:gJ(o)};return nh(vH(a,a=>a(b),{concurrency:h,batching:i,discard:!0}),()=>r(b))})}return r({output:o,es:m})}}case"TypeLiteral":{if(0===a.propertySignatures.length&&0===a.indexSignatures.length)return Fw(a,d5);let c=[],d={},e=[];for(let f of a.propertySignatures)c.push([Fu(f.type,b),f]),d[f.name]=null,e.push(f.name);let f=a.indexSignatures.map(a=>[Fu(a.parameter,b),Fu(a.type,b),a.parameter]),g=D0.make(a.indexSignatures.map(a=>a.parameter).concat(e.map(a=>dY(a)?new Dn(a):new Dk(a)))),h=Fu(g,b),i=fX(C7(a)),j=fX(C8(a));return(b,k)=>{let l,m;if(!d9(b))return fr(new EV(a,b));let n=k?.errors==="all",o=[],p=0,q=k?.onExcessProperty==="error",r=k?.onExcessProperty==="preserve",s={};if(q||r)for(let c of l=Reflect.ownKeys(b)){let d=h(c,k);if(fo(d)&&fp(d))if(q){let d=new EP(c,b,new EQ(b[c],`is unexpected, expected: ${String(g)}`));if(!n)return fr(new ES(a,b,d,s));o.push([p++,d]);continue}else s[c]=b[c]}let t=k?.exact===!0;for(let d=0;d<c.length;d++){let e=c[d][1],f=e.name,g=Object.prototype.hasOwnProperty.call(b,f);if(!g){if(e.isOptional)continue;else if(t){let c=new EP(f,b,new ER(e));if(!n)return fr(new ES(a,b,c,s));o.push([p++,c]);continue}}let h=(0,c[d][0])(b[f],k);if(fo(h)){if(fp(h)){let c=new EP(f,b,g?h.left:new ER(e));if(!n)return fr(new ES(a,b,c,s));o.push([p++,c]);continue}s[f]=h.right}else{let c=p++;m||(m=[]),m.push(({es:d,output:i})=>nh(na(h),h=>{if(fp(h)){let j=new EP(f,b,g?h.left:new ER(e));return n?(d.push([c,j]),nG):fr(new ES(a,b,j,i))}return i[f]=h.right,nG}))}}for(let c=0;c<f.length;c++){let e=f[c],g=e[0],h=e[1];for(let c of B7(b,e[2])){let e=g(c,k);if(fo(e)&&fq(e)){let e=h(b[c],k);if(fo(e))if(fp(e)){let d=new EP(c,b,e.left);if(!n)return fr(new ES(a,b,d,s));o.push([p++,d]);continue}else Object.prototype.hasOwnProperty.call(d,c)||(s[c]=e.right);else{let f=p++,g=c;m||(m=[]),m.push(({es:h,output:i})=>nh(na(e),e=>{if(!fp(e))return Object.prototype.hasOwnProperty.call(d,c)||(i[c]=e.right),nG;{let c=new EP(g,b,e.left);return n?(h.push([f,c]),nG):fr(new ES(a,b,c,i))}}))}}}}let u=({es:c,output:d})=>{if(fD(c))return fr(new ES(a,b,FC(c),d));if(k?.propertyOrder==="original"){let a=l||Reflect.ownKeys(b);for(let b of e)-1===a.indexOf(b)&&a.push(b);let c={};for(let b of a)Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b]);return fs(c)}return fs(d)};if(m&&m.length>0){let a=m;return nA(()=>{let b={es:gJ(o),output:Object.assign({},s)};return nh(vH(a,a=>a(b),{concurrency:i,batching:j,discard:!0}),()=>u(b))})}return u({es:o,output:s})}}case"Union":{let c=Fy(a.types,b),d=Reflect.ownKeys(c.keys),e=d.length,f=a.types.length,g=new Map;for(let c=0;c<f;c++)g.set(a.types[c],Fu(a.types[c],b));let h=fX(C7(a))??1,i=fX(C8(a));return(b,j)=>{let k,l=[],m=0,n=[];if(e>0)if(d1(b))for(let a=0;a<e;a++){let e=d[a],g=c.keys[e].buckets;if(Object.prototype.hasOwnProperty.call(b,e)){let a=String(b[e]);if(Object.prototype.hasOwnProperty.call(g,a))n=n.concat(g[a]);else{let{candidates:a,literals:d}=c.keys[e],g=D0.make(d),h=a.length===f?new DV([new DS(e,g,!1,!0)],[]):D0.make(a);l.push([m++,new ES(h,b,new EP(e,b,new EV(g,b[e])))])}}else{let{candidates:a,literals:d}=c.keys[e],g=new DS(e,D0.make(d),!1,!0),h=a.length===f?new DV([g],[]):D0.make(a);l.push([m++,new ES(h,b,new EP(e,b,new ER(g)))])}}else{let d=c.candidates.length===f?a:D0.make(c.candidates);l.push([m++,new EV(d,b)])}c.otherwise.length>0&&(n=n.concat(c.otherwise));for(let a=0;a<n.length;a++){let c=n[a],d=g.get(c)(b,j);if(fo(d)&&(!k||0===k.length))if(fq(d))return d;else l.push([m++,d.left]);else{let a=m++;k||(k=[]),k.push(b=>nA(()=>"finalResult"in b?nG:nh(na(d),c=>(fq(c)?b.finalResult=c:b.es.push([a,c.left]),nG))))}}let o=c=>fD(c)?1===c.length&&"Type"===c[0][1]._tag?fr(c[0][1]):fr(new ES(a,b,FC(c))):fr(new EV(a,b));if(k&&k.length>0){let a=k;return nA(()=>{let b={es:gJ(l)};return nh(vH(a,a=>a(b),{concurrency:h,batching:i,discard:!0}),()=>"finalResult"in b?b.finalResult:o(b.es))})}return o(l)}}case"Suspend":{let c=B8(()=>Fu(a.f(),b));return(a,b)=>c()(a,b)}}},Fw=(a,b)=>c=>b(c)?fs(c):fr(new EV(a,c)),Fx=(a,b)=>{switch(a._tag){case"Declaration":{let c=Dc(a);if(fh(c))return Fx(c.value,b);break}case"TypeLiteral":{let c=[];for(let d=0;d<a.propertySignatures.length;d++){let e=a.propertySignatures[d],f=b?EB(e.type):Ex(e.type);Dl(f)&&!e.isOptional&&c.push([e.name,f])}return c}case"TupleType":{let c=[];for(let d=0;d<a.elements.length;d++){let e=a.elements[d],f=b?EB(e.type):Ex(e.type);Dl(f)&&!e.isOptional&&c.push([d,f])}return c}case"Refinement":return Fx(a.from,b);case"Suspend":return Fx(a.f(),b);case"Transformation":return Fx(b?a.from:a.to,b)}return[]},Fy=(a,b)=>{let c={},d=[],e=[];for(let f=0;f<a.length;f++){let g=a[f],h=Fx(g,b);if(h.length>0){e.push(g);for(let a=0;a<h.length;a++){let[b,d]=h[a],e=String(d.literal);c[b]=c[b]||{buckets:{},literals:[],candidates:[]};let f=c[b].buckets;if(Object.prototype.hasOwnProperty.call(f,e)){if(a<h.length-1)continue;f[e].push(g),c[b].literals.push(d),c[b].candidates.push(g)}else{f[e]=[g],c[b].literals.push(d),c[b].candidates.push(g);break}}}else d.push(g)}return{keys:c,otherwise:d,candidates:e}},Fz=a=>D6(a)?Fz(a.from):a,FA=(a,b,c,d)=>{if(d?.isEffectAllowed===!0||fo(a))return a;let e=new ss,f=wX(a,{scheduler:e});e.flush();let g=f.unsafePoll();if(g){if(oG(g))return fs(g.value);let a=g.cause;return a._tag===i2?fr(a.error):fr(new EW(b,c,jx(a)))}return fr(new EW(b,c,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},FB=([a],[b])=>a>b?1:a<b?-1:0;function FC(a){return a.sort(FB).map(a=>a[1])}let FD=(a,b)=>{switch(a._tag){case"FinalTransformation":return b?a.decode:a.encode;case"ComposeTransformation":return fs;case"TypeLiteralTransformation":return c=>{let d=fs(c);for(let c of a.propertySignatureTransformations){let[a,e]=b?[c.from,c.to]:[c.to,c.from],f=b?c.decode:c.encode;d=E3(d,b=>{let c=f(Object.prototype.hasOwnProperty.call(b,a)?fQ(b[a]):fP());return delete b[a],fh(c)&&(b[e]=c.value),b})}return d}}},FE=(a,b=[])=>({value:a,forest:b}),FF={formatIssue:a=>E3(FU(a),FG),formatIssueSync:a=>{let b=FF.formatIssue(a);return fo(b)?fB(b):wZ(b)},formatError:a=>FF.formatIssue(a.issue),formatErrorSync:a=>FF.formatIssueSync(a.issue)},FG=a=>a.value+FH("\n",a.forest),FH=(a,b)=>{let c,d="",e=b.length;for(let f=0;f<e;f++){c=b[f];let g=f===e-1;d+=a+(g?"":"")+" "+c.value,d+=FH(a+(e>1&&!g?"  ":"   "),c.forest)}return d},FI=a=>"ast"in a?fQ(a.ast):fP(),FJ=fs(void 0),FK=a=>b=>b._tag===a,FL=FK("Composite"),FM=FK("Refinement"),FN=FK("Transformation"),FO=a=>E2(FI(a).pipe(f0(C1),fR({onNone:()=>FJ,onSome:b=>{let c=b(a);return dU(c)?fs({message:c,override:!1}):d3(c,mT)?ns(c,a=>({message:a,override:!1})):dU(c.message)?fs({message:c.message,override:c.override}):ns(c.message,a=>({message:a,override:c.override}))}})),b=>void 0!==b?!b.override&&(FL(a)||FM(a)&&"From"===a.kind||FN(a)&&"Transformation"!==a.kind)?FN(a)||FM(a)?FO(a.issue):FJ:fs(b.message):FJ),FP=a=>FI(a).pipe(f0(C9),f1(b=>b(a)),fX);function FQ(a){return C6(a).pipe(fT(()=>C3(a)),fT(()=>C4(a)),fT(()=>C5(a)),fS(()=>`{ ${a.from} | filter }`))}let FR=a=>E3(FO(a),b=>b??FP(a)??function(a){if(void 0!==a.message)return a.message;let b=D6(a.ast)?FQ(a.ast):String(a.ast);return`Expected ${b}, actual ${eF(a.actual)}`}(a)),FS=a=>FP(a)??String(a.ast),FT=a=>{let b=C2(a.ast);if(fh(b)){let a=b.value();return dU(a)?fs(a):a}return fs(a.message??"is missing")},FU=a=>{switch(a._tag){case"Type":return E3(FR(a),FE);case"Forbidden":return fs(FE(FS(a),[FE(a.message??"is forbidden")]));case"Unexpected":return fs(FE(a.message??"is unexpected"));case"Missing":return E3(FT(a),FE);case"Transformation":return E2(FO(a),b=>void 0!==b?fs(FE(b)):E3(FU(a.issue),b=>FE(FS(a),[FE((a=>{switch(a){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}})(a.kind),[b])])));case"Refinement":return E2(FO(a),b=>void 0!==b?fs(FE(b)):E3(FU(a.issue),b=>FE(FS(a),[FE((a=>{switch(a){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}})(a.kind),[b])])));case"Pointer":return E3(FU(a.issue),b=>FE(Ca(a.path),[b]));case"Composite":return E2(FO(a),b=>{if(void 0!==b)return fs(FE(b));let c=FS(a);return Array.isArray(a.issues)?E3(vH(a.issues,FU),a=>FE(c,a)):E3(FU(a.issues),a=>FE(c,[a]))})}},FV=(a,b,c)=>({_tag:a,path:b,message:c}),FW={formatIssue:a=>FX(a,void 0,[]),formatIssueSync:a=>{let b=FW.formatIssue(a);return fo(b)?fB(b):wZ(b)},formatError:a=>FW.formatIssue(a.issue),formatErrorSync:a=>FW.formatIssueSync(a.issue)},FX=(a,b,c)=>{let d=a._tag;switch(d){case"Type":return E3(FR(a),a=>[FV(b??d,c,a)]);case"Forbidden":return fs([FV(d,c,a.message??"is forbidden")]);case"Unexpected":return fs([FV(d,c,a.message??"is unexpected")]);case"Missing":return E3(FT(a),a=>[FV(d,c,a)]);case"Pointer":return FX(a.issue,void 0,c.concat(a.path));case"Composite":return E2(FO(a),b=>void 0!==b?fs([FV(d,c,b)]):Array.isArray(a.issues)?E3(vH(a.issues,a=>FX(a,void 0,c)),gS):FX(a.issues,void 0,c));case"Refinement":return E2(FO(a),b=>void 0!==b?fs([FV(d,c,b)]):FX(a.issue,"Predicate"===a.kind?d:void 0,c));case"Transformation":return E2(FO(a),b=>void 0!==b?fs([FV(d,c,b)]):FX(a.issue,"Transformation"===a.kind?d:void 0,c))}};a.s(["ArrayFormatter",0,FW,"Composite",()=>ES,"Forbidden",()=>EW,"Missing",()=>ER,"ParseError",()=>EY,"ParseErrorTypeId",0,EX,"Pointer",()=>EP,"Refinement",()=>ET,"Transformation",()=>EU,"TreeFormatter",0,FF,"Type",()=>EV,"Unexpected",()=>EQ,"asserts",0,Fr,"decode",0,Fg,"decodeEither",0,Fe,"decodeOption",0,Fd,"decodePromise",0,Ff,"decodeSync",0,Fc,"decodeUnknown",0,Fg,"decodeUnknownEither",0,Fe,"decodeUnknownOption",0,Fd,"decodeUnknownPromise",0,Ff,"decodeUnknownSync",0,Fc,"eitherOrUndefined",0,a=>{if(fo(a))return a},"encode",0,Fl,"encodeEither",0,Fj,"encodeOption",0,Fi,"encodePromise",0,Fk,"encodeSync",0,Fh,"encodeUnknown",0,Fl,"encodeUnknownEither",0,Fj,"encodeUnknownOption",0,Fi,"encodeUnknownPromise",0,Fk,"encodeUnknownSync",0,Fh,"fail",0,E_,"flatMap",0,E2,"fromOption",0,E1,"getFinalTransformation",0,FD,"getLiterals",0,Fx,"getOption",0,Fa,"getRefinementExpected",()=>FQ,"getSearchTree",0,Fy,"is",0,Fq,"isComposite",0,FL,"isParseError",0,a=>d3(a,EX),"map",0,E3,"mapBoth",0,E5,"mapError",0,E4,"mergeInternalOptions",0,E7,"orElse",0,E6,"parseError",0,EZ,"succeed",0,E$,"try",()=>E0,"validate",0,Fp,"validateEither",0,Fo,"validateOption",0,Fn,"validatePromise",0,(a,b)=>{let c=Fp(a,b);return(a,b)=>wY(c(a,b))},"validateSync",0,Fm],19438);let FY=a=>{let b=Object.create(qd);return qb.set(b,a),b},FZ=a=>{if(qb.has(a))return qb.get(a);throw Error("Unable to get redacted value")},F$=a=>dM((b,c)=>a(FZ(b),FZ(c))),F_=dE(a=>d2(a[0]),(a,...b)=>{let c={};for(let d of b)d in a&&(c[d]=a[d]);return c}),F0=dE(a=>d2(a[0]),(a,...b)=>{let c={...a};for(let a of b)delete c[a];return c}),F1=Symbol.for("effect/Schema");function F2(a){return class{[F1]=F3;static ast=a;static annotations(a){return F2(Ga(this.ast,a))}static pipe(){return eM(this,arguments)}static toString(){return String(a)}static Type;static Encoded;static Context;static [F1]=F3}}let F3={_A:a=>a,_I:a=>a,_R:a=>a},F4=a=>oG(a)?a.value:F5(jx(a.cause)),F5=a=>({issues:[{message:a}]}),F6=a=>ns(FW.formatIssue(a),a=>({issues:a.map(a=>({path:a.path,message:a.message}))})),F7=(a,b)=>{let c=Fg(a,{errors:"all"});return class extends F2(a.ast){static "~standard"={version:1,vendor:"effect",validate(a){let d=new ss,e=wX(nm(c(a,b),{onFailure:F6,onSuccess:a=>nz({value:a})}),{scheduler:d});d.flush();let f=e.unsafePoll();return f?F4(f):new Promise(a=>{e.addObserver(b=>{a(F4(b))})})}}}},F8={typeConstructor:CE,schemaId:CG,message:CH,missingMessage:CI,identifier:CJ,title:CK,description:CM,examples:CN,default:CO,documentation:CT,jsonSchema:CP,arbitrary:CQ,pretty:CR,equivalence:CS,concurrency:CU,batching:CV,parseIssueTitle:CW,parseOptions:CX,decodingFallback:CY},F9=a=>{if(!a)return{};let b={...a};for(let c in F8)c in a&&(b[F8[c]]=a[c],delete b[c]);return b},Ga=(a,b)=>Ef(a,F9(b));function Gb(a){return a}let Gc=a=>String(a.ast),Gd=a=>F2(EB(a.ast)),Ge=a=>F2(EA(a.ast,!0)),Gf=a=>F2(Ex(a.ast)),Gg=(a,b)=>{let c=Fl(a,b);return(a,b)=>E4(c(a,b),EZ)},Gh=(a,b)=>{let c=Fj(a,b);return(a,b)=>fw(c(a,b),EZ)},Gi=(a,b)=>{let c=Gg(a,b);return(a,b)=>wY(c(a,b))},Gj=(a,b)=>{let c=Fg(a,b);return(a,b)=>E4(c(a,b),EZ)},Gk=(a,b)=>{let c=Fe(a,b);return(a,b)=>fw(c(a,b),EZ)},Gl=(a,b)=>{let c=Gj(a,b);return(a,b)=>wY(c(a,b))},Gm=(a,b)=>{let c=Fp(a,b);return(a,b)=>E4(c(a,b),EZ)},Gn=(a,b)=>{let c=Fo(a,b);return(a,b)=>fw(c(a,b),EZ)},Go=(a,b)=>{let c=Gm(a,b);return(a,b)=>wY(c(a,b))},Gp=a=>d3(a,F1)&&d2(a[F1]);function Gq(...a){return gn(a)?function a(b,c=function(a){let b;return D1(a)?D0.make((b=a=>new Dk(a),a.map(b))):new Dk(a[0])}(b)){return class extends F2(c){static annotations(b){return a(this.literals,Ga(this.ast,b))}static literals=[...b]}}(a):GH}let Gr=(...a)=>b=>Gq(...a),Gs=a=>F2(new Dn(a)),Gt=a=>new DF(Object.keys(a).filter(b=>"number"!=typeof a[a[b]]).map(b=>[b,a[b]])),Gu=(a,b=Gt(a))=>class extends F2(b){static annotations(a){return Gu(this.enums,Ga(this.ast,a))}static enums={...a}},Gv=a=>Gu(a),Gw=(...[a,...b])=>{let c=[],d="",e=b;Gp(a)?Dl(a.ast)?d=String(a.ast.literal):e=[a,...e]:d=String(a);for(let a=0;a<e.length;a++){let b=e[a];if(Gp(b)){if(a<e.length-1){let d=e[a+1];if(Gp(d)){if(Dl(d.ast)){c.push(new DJ(b.ast,String(d.ast.literal))),a++;continue}}else{c.push(new DJ(b.ast,String(d))),a++;continue}}c.push(new DJ(b.ast,""))}else c.push(new DJ(new Dk(b),""))}return fD(c)?F2(new DK(d,c)):F2(new DK("",[new DJ(new Dk(d),"")]))},Gx=(...a)=>{let b,c=[],d=[],e=[],f=!1;for(let b=0;b<a.length;b++){let g=a[b],h=Gp(g)?g:Gq(g);e.push(h);let i=Gd(h);c.push(i);let j=function a(b,c){let d=b.ast;switch(d._tag){case"Literal":{let a=d.literal;if(!dU(a)){let b=String(a);return HV(Gq(b),c,{strict:!0,decode:()=>a,encode:()=>b})}break}case"NumberKeyword":return HM(IZ,c);case"Union":{let b=[],e=!1;for(let c of d.types){let d=F2(c),f=a(Gd(d),d);f&&(e=!0),b.push(f??d)}return e?HM(GQ(...b),c):c}}}(i,h);j?(d.push(j),f=!0):d.push(h)}let g=Gw(...c),h=(b=g.ast,RegExp(`^${Ei(b,!0,!0)}$`)),i=GZ(...d);return f&&(i=i.annotations({[CL]:Gc(GZ(...e))})),class extends HU(g,i,{strict:!1,decode:(b,c,d)=>{let e=h.exec(b);return e?E$(e.slice(1,a.length+1)):E_(new EV(d,b,`${h.source}: no match for ${JSON.stringify(b)}`))},encode:a=>E$(a.join(""))}){static params=a.slice()}};function Gy(a,b){return class extends F2(b){static annotations(a){return Gy(this.typeParameters,Ga(this.ast,a))}static typeParameters=[...a]}}let Gz=function(){let a;if(Array.isArray(arguments[0])){let a=arguments[0],b=arguments[1],c=arguments[2];return Gy(a,new Di(a.map(a=>a.ast),(...a)=>b.decode(...a.map(F2)),(...a)=>b.encode(...a.map(F2)),F9(c)))}let b=arguments[0],c=arguments[1];return Gy([],new Di([],a=()=>(a,c,d)=>b(a)?E$(a):E_(new EV(d,a)),a,F9(c)))},GA=Symbol.for("effect/SchemaId/Brand"),GB=(a,b)=>c=>Hz(c,new D5(c.ast,function(b,c,d){let e=a.either(b);return fp(e)?fQ(new EV(d,b,e.left.map(a=>a.message).join(", "))):fP()},F9({schemaId:GA,[GA]:{constructor:a},...b}))),GC=Symbol.for("effect/SchemaId/InstanceOf"),GD=(a,b)=>Gz(b=>b instanceof a,{title:a.name,description:`an instance of ${a.name}`,pretty:()=>String,schemaId:GC,[GC]:{constructor:a},...b});class GE extends F2(Dp){}class GF extends F2(Dq){}class GG extends F2(Dm){}class GH extends F2(Dr){}class GI extends F2(Dt){}class GJ extends F2(Du){}class GK extends F2(DB){}class GL extends F2(DC){}class GM extends F2(Dv){}class GN extends F2(Dx){}class GO extends F2(Dz){}class GP extends F2(DE){}function GQ(...a){return D1(a)?function a(b,c=(a=>D0.make(a.map(a=>a.ast)))(b)){return class extends F2(c){static annotations(b){return a(this.members,Ga(this.ast,b))}static members=[...b]}}(a):gn(a)?a[0]:GH}let GR=a=>GQ(a,GG),GS=a=>GQ(a,GE),GT=a=>GQ(a,GG,GE),GU=a=>{let b;return F2((b=a.ast,D0.unify(EJ(b))))},GV=a=>new GX(new DO(a.ast,!1),a),GW=a=>new GX(new DO(a.ast,!0),a);class GX{ast;from;[F1];_Token;constructor(a,b){this.ast=a,this.from=b}annotations(a){return new GX(new DO(this.ast.type,this.ast.isOptional,{...this.ast.annotations,...F9(a)}),this.from)}toString(){return`${this.ast.type}${this.ast.isOptional?"?":""}`}}function GY(a,b,c=((a,b)=>new DQ(a.map(a=>Gp(a)?new DO(a.ast,!1):a.ast),b.map(a=>Gp(a)?new DN(a.ast):a.ast),!0))(a,b)){return class extends F2(c){static annotations(a){return GY(this.elements,this.rest,Ga(this.ast,a))}static elements=[...a];static rest=[...b]}}function GZ(...a){return Array.isArray(a[0])?GY(a[0],a.slice(1)):GY(a,[])}let G$=a=>(function a(b,c){return class extends GY([],[b],c){static annotations(b){return a(this.value,Ga(this.ast,b))}static value=b}})(a),G_=a=>(function a(b,c){return class extends GY([b],[b],c){static annotations(b){return a(this.value,Ga(this.ast,b))}static value=b}})(a);function G0(a){return HV(GQ(a,G$(a)),G$(Gf(a)),{strict:!0,decode:a=>gg(a),encode:a=>1===a.length?a[0]:a})}function G1(a){return HV(GQ(a,G_(a)),G_(Gf(a)),{strict:!0,decode:a=>gn(a)?a:gP(a),encode:a=>1===a.length?a[0]:a})}let G2=a=>a?'"?:"':'":"';class G3 extends DO{isReadonly;defaultValue;_tag="PropertySignatureDeclaration";constructor(a,b,c,d,e){super(a,b,d),this.isReadonly=c,this.defaultValue=e}toString(){let a=G2(this.isOptional),b=String(this.type);return`PropertySignature<${a}, ${b}, never, ${a}, ${b}>`}}class G4 extends DO{isReadonly;fromKey;constructor(a,b,c,d,e){super(a,b,d),this.isReadonly=c,this.fromKey=e}}class G5 extends DO{isReadonly;defaultValue;constructor(a,b,c,d,e){super(a,b,d),this.isReadonly=c,this.defaultValue=e}}class G6{from;to;decode;encode;_tag="PropertySignatureTransformation";constructor(a,b,c,d){this.from=a,this.to=b,this.decode=c,this.encode=d}toString(){var a;return`PropertySignature<${G2(this.to.isOptional)}, ${this.to.type}, ${void 0===(a=this.from.fromKey)?"never":dU(a)?JSON.stringify(a):String(a)}, ${G2(this.from.isOptional)}, ${this.from.type}>`}}let G7=(a,b)=>{switch(a._tag){case"PropertySignatureDeclaration":return new G3(a.type,a.isOptional,a.isReadonly,{...a.annotations,...b},a.defaultValue);case"PropertySignatureTransformation":return new G6(a.from,new G5(a.to.type,a.to.isOptional,a.to.isReadonly,{...a.to.annotations,...b},a.to.defaultValue),a.decode,a.encode)}},G8=Symbol.for("effect/PropertySignature"),G9=a=>d3(a,G8);class Ha{ast;[F1];[G8]=null;_TypeToken;_Key;_EncodedToken;_HasDefault;constructor(a){this.ast=a}pipe(){return eM(this,arguments)}annotations(a){return new Ha(G7(this.ast,F9(a)))}toString(){return String(this.ast)}}let Hb=a=>new Ha(a);class Hc extends Ha{from;constructor(a,b){super(a),this.from=b}annotations(a){return new Hc(G7(this.ast,F9(a)),this.from)}}let Hd=a=>new Hc(new G3(a.ast,!1,!0,{},void 0),a),He=dE(2,(a,b)=>{let c=a.ast;switch(c._tag){case"PropertySignatureDeclaration":return Hb(new G3(c.type,c.isOptional,c.isReadonly,c.annotations,b));case"PropertySignatureTransformation":return Hb(new G6(c.from,new G5(c.to.type,c.to.isOptional,c.to.isReadonly,c.to.annotations,b),c.decode,c.encode))}}),Hf=(a,b)=>fR(a,{onNone:()=>fQ(b()),onSome:a=>fQ(void 0===a?b():a)}),Hg=a=>((a,b,c)=>{switch(a._tag){case"UndefinedKeyword":return Dr;case"Union":{let c=[],d=!1;for(let e of a.types){let a=b(e);a?(d=!0,Ds(a)||c.push(a)):c.push(e)}if(d)return D0.make(c);break}case"Suspend":return b(a.f());case"Transformation":return c(a)}})(a,Hg,a=>{let b=Hg(a.to);if(b)return new D8(a.from,b,a.transformation)}),Hh=dE(2,(a,b)=>{let c=a.ast;switch(c._tag){case"PropertySignatureDeclaration":{let a=Ex(c.type);return Hb(new G6(new G4(c.type,c.isOptional,c.isReadonly,c.annotations),new G5(Hg(a)??a,!1,!0,{},c.defaultValue),a=>Hf(a,b),dF))}case"PropertySignatureTransformation":{let a=c.to.type;return Hb(new G6(c.from,new G5(Hg(a)??a,!1,c.to.isReadonly,c.to.annotations,c.to.defaultValue),a=>Hf(c.decode(a),b),c.encode))}}}),Hi=dE(2,(a,b)=>a.pipe(Hh(b.decoding),He(b.constructor))),Hj=dE(2,(a,b)=>{let c=a.ast;switch(c._tag){case"PropertySignatureDeclaration":return Hb(new G6(new G4(c.type,c.isOptional,c.isReadonly,c.annotations,b),new G5(Ex(c.type),c.isOptional,c.isReadonly,{},c.defaultValue),dF,dF));case"PropertySignatureTransformation":return Hb(new G6(new G4(c.from.type,c.from.isOptional,c.from.isReadonly,c.from.annotations,b),c.to,c.decode,c.encode))}}),Hk=(a,b,c)=>Hb(new G6(new G4(a.ast,!0,!0,{},void 0),new G5(b.ast,!1,!0,{},void 0),a=>fQ(c.decode(a)),f0(c.encode))),Hl=(a,b,c)=>Hb(new G6(new G4(a.ast,!1,!0,{},void 0),new G5(b.ast,!0,!0,{},void 0),f0(c.decode),a=>fQ(c.encode(a)))),Hm=(a,b,c)=>Hb(new G6(new G4(a.ast,!0,!0,{},void 0),new G5(b.ast,!0,!0,{},void 0),c.decode,c.encode)),Hn=a=>new Hc(new G3(a.ast===Dp||a.ast===Dr?Dp:GS(a).ast,!0,!0,{},void 0),a),Ho=dE(a=>Gp(a[0]),(a,b)=>new Hc(((a,b)=>{let c=b?.exact,d=b?.default,e=b?.nullable,f=b?.as=="Option",g=b?.onNoneEncoding?fT(b.onNoneEncoding):dF;if(c)if(d)if(e)return He(Hk(GR(a),Gf(a),{decode:fR({onNone:d,onSome:a=>null===a?d():a}),encode:fQ}),d).ast;else return He(Hk(a,Gf(a),{decode:fR({onNone:d,onSome:dF}),encode:fQ}),d).ast;else if(f){let b=KR(Gf(a));return e?Hk(GR(a),b,{decode:f2(d_),encode:g}).ast:Hk(a,b,{decode:dF,encode:dF}).ast}else if(e)return Hm(GR(a),Gf(a),{decode:f2(d_),encode:dF}).ast;else return new G3(a.ast,!0,!0,{},void 0);if(d)if(e)return He(Hk(GT(a),Gf(a),{decode:fR({onNone:d,onSome:a=>null==a?d():a}),encode:fQ}),d).ast;else return He(Hk(GS(a),Gf(a),{decode:fR({onNone:d,onSome:a=>void 0===a?d():a}),encode:fQ}),d).ast;if(f){let b=KR(Gf(a));return e?Hk(GT(a),b,{decode:f2(a=>null!=a),encode:g}).ast:Hk(GS(a),b,{decode:f2(d$),encode:g}).ast}if(e)return Hm(GT(a),GS(Gf(a)),{decode:f2(d_),encode:dF}).ast;return new G3(GS(a).ast,!0,!0,{},void 0)})(a,b),a)),Hp=Ev([CI]),Hq=(a,b)=>{for(let c of Reflect.ownKeys(a)){let d=a[c];if(void 0===b[c]&&G9(d)){let a=d.ast,e="PropertySignatureDeclaration"===a._tag?a.defaultValue:a.to.defaultValue;void 0!==e&&(b[c]=e())}}return b};function Hr(a,b,c=((a,b)=>{let c=Reflect.ownKeys(a),d=[];if(c.length>0){let e=[],f=[],g=[];for(let b=0;b<c.length;b++){let h=c[b],i=a[h];if(G9(i)){let a=i.ast;switch(a._tag){case"PropertySignatureDeclaration":{let b=a.type,c=a.isOptional,g=a.annotations;e.push(new DS(h,b,c,!0,Hp(a))),f.push(new DS(h,Ex(b),c,!0,g)),d.push(new DS(h,b,c,!0,g));break}case"PropertySignatureTransformation":{let b=a.from.fromKey??h;e.push(new DS(b,a.from.type,a.from.isOptional,!0,a.from.annotations)),f.push(new DS(h,a.to.type,a.to.isOptional,!0,a.to.annotations)),g.push(new Ec(b,h,a.decode,a.encode))}}}else e.push(new DS(h,i.ast,!1,!0)),f.push(new DS(h,Ex(i.ast),!1,!0)),d.push(new DS(h,i.ast,!1,!0))}if(gn(g)){let a=[],c=[];for(let d of b){let{indexSignatures:b,propertySignatures:g}=Ep(d.key.ast,d.value.ast);g.forEach(a=>{e.push(a),f.push(new DS(a.name,Ex(a.type),a.isOptional,a.isReadonly,a.annotations))}),b.forEach(b=>{a.push(b),c.push(new DU(b.parameter,Ex(b.type),b.isReadonly))})}return new D8(new DV(e,a,{[CL]:"Struct (Encoded side)"}),new DV(f,c,{[CL]:"Struct (Type side)"}),new Ee(g))}}let e=[];for(let a of b){let{indexSignatures:b,propertySignatures:c}=Ep(a.key.ast,a.value.ast);c.forEach(a=>d.push(a)),b.forEach(a=>e.push(a))}return new DV(d,e)})(a,b)){return class extends F2(c){static annotations(a){return Hr(this.fields,this.records,Ga(this.ast,a))}static fields={...a};static records=[...b];static make=(b,c)=>{let d=Hq(a,{...b});return Mi(c)?d:Fm(this)(d)};static pick(...b){return Hs(F_(a,...b))}static omit(...b){return Hs(F0(a,...b))}}}function Hs(a,...b){return Hr(a,b)}let Ht=a=>Gq(a).pipe(Hd,He(()=>a)),Hu=(a,b)=>Hs({_tag:Ht(a),...b}),Hv=a=>(function a(b,c,d){return class extends Hr({},[{key:b,value:c}],d){static annotations(d){return a(b,c,Ga(this.ast,d))}static key=b;static value=c}})(a.key,a.value),Hw=(...a)=>b=>F2(Eq(b.ast,a)),Hx=(...a)=>b=>{var c;let d;return F2((c=b.ast,(d=Ek(c)).length>0?(d.some(a=>Dw(ED(a.parameter)))&&(d=d.filter(a=>!DM(ED(a.parameter)))),new DV([],d)):Eq(c,Eo(c).filter(b=>!a.includes(b)))))},Hy=dE(2,(a,b)=>{let c=En(Ex(a.ast),b),d=F2(c.isOptional?Er(c.type):c.type);return HV(a.pipe(Hw(b)),d,{strict:!0,decode:a=>a[b],encode:a=>c.isOptional&&void 0===a?{}:{[b]:a}})});function Hz(a,b){return class extends F2(b){static annotations(a){return Hz(this.from,Ga(this.ast,a))}static make=(a,b)=>Mi(b)?a:Fm(this)(a);static from=a}}let HA=(a,b)=>c=>{let d=fR(C0(c.ast),{onNone:()=>[a],onSome:b=>[...b,a]}),e=Ef(c.ast,F9({[CF]:d,...b}));return Hz(c,e)},HB=a=>F2(Es(a.ast)),HC=dE(a=>Gp(a[0]),(a,b)=>F2(Es(a.ast,b))),HD=a=>F2(Et(a.ast)),HE=a=>F2(Eu(a.ast)),HF=(a,b,c)=>{if(DY(a)&&DY(b)){let d=[...a.propertySignatures];for(let a of b.propertySignatures){let b=a.name,e=d.findIndex(a=>a.name===b);if(-1===e)d.push(a);else{let{isOptional:f,type:g}=d[e];d[e]=new DS(b,HI(g,a.type,c.concat(b)),f,!0)}}return new DV(d,a.indexSignatures.concat(b.indexSignatures))}throw Error(Cc(a,b,c))},HG=(s=[CJ],a=>{let b={...a.annotations};for(let a of s)delete b[a];return b}),HH=(a,b)=>b.map(b=>new D5(b,a.filter,HG(a))),HI=(a,b,c)=>D0.make(HK([a],[b],c)),HJ=a=>D2(a)?a.types:[a],HK=(a,b,c)=>gR(a,a=>gR(b,b=>{switch(b._tag){case"Literal":if(dU(b.literal)&&Dw(a)||dV(b.literal)&&Dy(a)||dW(b.literal)&&DA(a))return[b];break;case"StringKeyword":if(b===Dv){if(Dw(a)||Dl(a)&&dU(a.literal))return[a];else if(D6(a))return HH(a,HK(HJ(a.from),[b],c))}else if(a===Dv)return[b];break;case"NumberKeyword":if(b===Dx){if(Dy(a)||Dl(a)&&dV(a.literal))return[a];else if(D6(a))return HH(a,HK(HJ(a.from),[b],c))}else if(a===Dx)return[b];break;case"BooleanKeyword":if(b===Dz){if(DA(a)||Dl(a)&&dW(a.literal))return[a];else if(D6(a))return HH(a,HK(HJ(a.from),[b],c))}else if(a===Dz)return[b];break;case"Union":return HK(HJ(a),b.types,c);case"Suspend":return[new D4(()=>HI(a,b.f(),c))];case"Refinement":return HH(b,HK(HJ(a),HJ(b.from),c));case"TypeLiteral":switch(a._tag){case"Union":return HK(a.types,[b],c);case"Suspend":return[new D4(()=>HI(a.f(),b,c))];case"Refinement":return HH(a,HK(HJ(a.from),[b],c));case"TypeLiteral":return[HF(a,b,c)];case"Transformation":{let d=a.transformation,e=HF(a.from,b,c),f=HF(a.to,Ex(b),c);switch(d._tag){case"TypeLiteralTransformation":return[new D8(e,f,new Ee(d.propertySignatureTransformations))];case"ComposeTransformation":return[new D8(e,f,Eb)];case"FinalTransformation":return[new D8(e,f,new Ea((a,b,c,e)=>E3(d.decode(a,b,c,e),b=>({...a,...b})),(a,b,c,e)=>E3(d.encode(a,b,c,e),b=>({...a,...b}))))]}}}break;case"Transformation":if(!D9(a))return HK([b],[a],c);if("TypeLiteralTransformation"===b.transformation._tag&&"TypeLiteralTransformation"===a.transformation._tag)return[new D8(HF(a.from,b.from,c),HF(a.to,b.to,c),new Ee(b.transformation.propertySignatureTransformations.concat(a.transformation.propertySignatureTransformations)))]}throw Error(Cc(a,b,c))})),HL=dE(2,(a,b)=>F2(HI(a.ast,b.ast,[]))),HM=dE(a=>Gp(a[1]),(a,b)=>HT(a,b,EK(a.ast,b.ast))),HN=a=>F2(new D4(()=>a().ast)),HO=Symbol.for("effect/SchemaId/Refine"),HP=(a,b,c)=>{if(dW(a))return a?fP():fQ(new EV(b,c));if(dU(a))return fQ(new EV(b,c,a));if(void 0!==a){if("_tag"in a)return fQ(a);let d=new EV(b,c,a.message);return fQ(gn(a.path)?new EP(a.path,c,d):d)}return fP()},HQ=(a,b,c)=>{if(!Array.isArray(a))return HP(a,b,c);if(gn(a)){let d=gT(a,a=>HP(a,b,c));if(gn(d))return fQ(1===d.length?d[0]:new ES(b,c,d))}return fP()};function HR(a,b){return c=>{function d(b,c,d){return HQ(a(b,c,d),d,b)}let e=new D5(c.ast,d,F9(b));return function a(b,c,d){return class extends F2(d){static annotations(b){return a(this.from,this.filter,Ga(this.ast,b))}static [HO]=b;static from=b;static filter=c;static make=(a,b)=>Mi(b)?a:Fm(this)(a)}}(c,d,e)}}let HS=dE(2,(a,b)=>HU(a,Gf(a),{strict:!0,decode:(a,c,d)=>E2(b(a,c,d),b=>fR(HQ(b,d,a),{onNone:()=>E$(a),onSome:E_})),encode:a=>E$(a)}));function HT(a,b,c){return class extends F2(c){static annotations(a){return HT(this.from,this.to,Ga(this.ast,a))}static from=a;static to=b}}let HU=dE(a=>Gp(a[0])&&Gp(a[1]),(a,b,c)=>HT(a,b,new D8(a.ast,b.ast,new Ea(c.decode,c.encode)))),HV=dE(a=>Gp(a[0])&&Gp(a[1]),(a,b,c)=>HU(a,b,{strict:!0,decode:(a,b,d,e)=>E$(c.decode(a,e)),encode:(a,b,d,e)=>E$(c.encode(a,e))}));function HW(a,b){return HV(Gq(a),Gq(b),{strict:!0,decode:()=>b,encode:()=>a})}function HX(...a){return GQ(...a.map(([a,b])=>HW(a,b)))}let HY=dE(a=>Gp(a[0]),(a,b,c,d)=>{let e=HL(Gf(a),Hs({[b]:dY(c)?Gs(c):Gq(c)})).ast;return F2(new D8(a.ast,d?Ga(e,d):e,new Ee([new Ec(b,b,()=>fQ(c),()=>fP())])))}),HZ=dE(2,(a,b)=>a.annotations(b)),H$=dE(2,(a,b)=>F2(EL(a.ast,b))),H_=Symbol.for("effect/SchemaId/Trimmed"),H0=a=>b=>b.pipe(HR(a=>a===a.trim(),{schemaId:H_,title:"trimmed",description:"a string with no leading or trailing whitespace",jsonSchema:{pattern:"^\\S[\\s\\S]*\\S$|^\\S$|^$"},...a})),H1=(a,b)=>c=>c.pipe(HR(b=>b.length<=a,{schemaId:Cz,title:`maxLength(${a})`,description:`a string at most ${a} character(s) long`,jsonSchema:{maxLength:a},...b})),H2=(a,b)=>c=>c.pipe(HR(b=>b.length>=a,{schemaId:Cy,title:`minLength(${a})`,description:`a string at least ${a} character(s) long`,jsonSchema:{minLength:a},...b})),H3=(a,b)=>c=>{let d=d2(a)?Math.max(0,Math.floor(a.min)):Math.max(0,Math.floor(a)),e=d2(a)?Math.max(d,Math.floor(a.max)):d;return d!==e?c.pipe(HR(a=>a.length>=d&&a.length<=e,{schemaId:CA,title:`length({ min: ${d}, max: ${e})`,description:`a string at least ${d} character(s) and at most ${e} character(s) long`,jsonSchema:{minLength:d,maxLength:e},...b})):c.pipe(HR(a=>a.length===d,{schemaId:CA,title:`length(${d})`,description:1===d?"a single character":`a string ${d} character(s) long`,jsonSchema:{minLength:d,maxLength:d},...b}))},H4=Symbol.for("effect/SchemaId/Pattern"),H5=(a,b)=>c=>{let d=a.source;return c.pipe(HR(b=>(a.lastIndex=0,a.test(b)),{schemaId:H4,[H4]:{regex:a},description:`a string matching the pattern ${d}`,jsonSchema:{pattern:d},...b}))},H6=Symbol.for("effect/SchemaId/StartsWith"),H7=(a,b)=>c=>{let d=JSON.stringify(a);return c.pipe(HR(b=>b.startsWith(a),{schemaId:H6,[H6]:{startsWith:a},title:`startsWith(${d})`,description:`a string starting with ${d}`,jsonSchema:{pattern:`^${a}`},...b}))},H8=Symbol.for("effect/SchemaId/EndsWith"),H9=(a,b)=>c=>{let d=JSON.stringify(a);return c.pipe(HR(b=>b.endsWith(a),{schemaId:H8,[H8]:{endsWith:a},title:`endsWith(${d})`,description:`a string ending with ${d}`,jsonSchema:{pattern:`^.*${a}$`},...b}))},Ia=Symbol.for("effect/SchemaId/Includes"),Ib=(a,b)=>c=>{let d=JSON.stringify(a);return c.pipe(HR(b=>b.includes(a),{schemaId:Ia,[Ia]:{includes:a},title:`includes(${d})`,description:`a string including ${d}`,jsonSchema:{pattern:`.*${a}.*`},...b}))},Ic=Symbol.for("effect/SchemaId/Lowercased"),Id=a=>b=>b.pipe(HR(a=>a===a.toLowerCase(),{schemaId:Ic,title:"lowercased",description:"a lowercase string",jsonSchema:{pattern:"^[^A-Z]*$"},...a}));class Ie extends GM.pipe(Id({identifier:"Lowercased"})){}let If=Symbol.for("effect/SchemaId/Uppercased"),Ig=a=>b=>b.pipe(HR(a=>a===a.toUpperCase(),{schemaId:If,title:"uppercased",description:"an uppercase string",jsonSchema:{pattern:"^[^a-z]*$"},...a}));class Ih extends GM.pipe(Ig({identifier:"Uppercased"})){}let Ii=Symbol.for("effect/SchemaId/Capitalized"),Ij=a=>b=>b.pipe(HR(a=>a[0]?.toUpperCase()===a[0],{schemaId:Ii,title:"capitalized",description:"a capitalized string",jsonSchema:{pattern:"^[^a-z]?.*$"},...a}));class Ik extends GM.pipe(Ij({identifier:"Capitalized"})){}let Il=Symbol.for("effect/SchemaId/Uncapitalized"),Im=a=>b=>b.pipe(HR(a=>a[0]?.toLowerCase()===a[0],{schemaId:Il,title:"uncapitalized",description:"a uncapitalized string",jsonSchema:{pattern:"^[^A-Z]?.*$"},...a}));class In extends GM.pipe(Im({identifier:"Uncapitalized"})){}class Io extends GM.pipe(H3(1,{identifier:"Char"})){}let Ip=a=>H2(1,{title:"nonEmptyString",description:"a non empty string",...a});class Iq extends HV(GM.annotations({description:"a string that will be converted to lowercase"}),Ie,{strict:!0,decode:a=>a.toLowerCase(),encode:dF}).annotations({identifier:"Lowercase"}){}class Ir extends HV(GM.annotations({description:"a string that will be converted to uppercase"}),Ih,{strict:!0,decode:a=>a.toUpperCase(),encode:dF}).annotations({identifier:"Uppercase"}){}class Is extends HV(GM.annotations({description:"a string that will be converted to a capitalized format"}),Ik,{strict:!0,decode:a=>x4(a),encode:dF}).annotations({identifier:"Capitalize"}){}class It extends HV(GM.annotations({description:"a string that will be converted to an uncapitalized format"}),In,{strict:!0,decode:a=>x5(a),encode:dF}).annotations({identifier:"Uncapitalize"}){}class Iu extends GM.pipe(H0({identifier:"Trimmed"})){}class Iv extends Iu.pipe(Ip({identifier:"NonEmptyTrimmedString"})){}class Iw extends HV(GM.annotations({description:"a string that will be trimmed"}),Iu,{strict:!0,decode:a=>a.trim(),encode:dF}).annotations({identifier:"Trim"}){}let Ix=a=>HV(GM.annotations({description:"a string that will be split"}),G$(GM),{strict:!0,decode:b=>b.split(a),encode:b=>b.join(a)}),Iy=a=>a instanceof Error?a.message:String(a),Iz=(a,b)=>Gp(a)?HM(Iz(b),a):HU(GM.annotations({description:"a string to be decoded into JSON"}),GI,{strict:!0,decode:(b,c,d)=>E0({try:()=>JSON.parse(b,a?.reviver),catch:a=>new EV(d,b,Iy(a))}),encode:(b,c,d)=>E0({try:()=>JSON.stringify(b,a?.replacer,a?.space),catch:a=>new EV(d,b,Iy(a))})}).annotations({title:"parseJson",schemaId:Dh});class IA extends GM.pipe(Ip({identifier:"NonEmptyString"})){}let IB=Symbol.for("effect/SchemaId/UUID"),IC=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;class ID extends GM.pipe(H5(IC,{schemaId:IB,identifier:"UUID",jsonSchema:{format:"uuid",pattern:IC.source},description:"a Universally Unique Identifier",arbitrary:()=>a=>a.uuid()})){}let IE=Symbol.for("effect/SchemaId/ULID"),IF=/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i;class IG extends GM.pipe(H5(IF,{schemaId:IE,identifier:"ULID",description:"a Universally Unique Lexicographically Sortable Identifier",arbitrary:()=>a=>a.ulid()})){}class IH extends GD(URL,{typeConstructor:{_tag:"URL"},identifier:"URLFromSelf",arbitrary:()=>a=>a.webUrl().map(a=>new URL(a)),pretty:()=>a=>a.toString()}){}class II extends HU(GM.annotations({description:"a string to be decoded into a URL"}),IH,{strict:!0,decode:(a,b,c)=>E0({try:()=>new URL(a),catch:b=>new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a URL. ${Iy(b)}`)}),encode:a=>E$(a.toString())}).annotations({identifier:"URL",pretty:()=>a=>a.toString()}){}let IJ=a=>b=>b.pipe(HR(Number.isFinite,{schemaId:Cq,title:"finite",description:"a finite number",jsonSchema:{},...a})),IK=(a,b)=>c=>c.pipe(HR(b=>b>a,{schemaId:Ck,title:`greaterThan(${a})`,description:0===a?"a positive number":`a number greater than ${a}`,jsonSchema:{exclusiveMinimum:a},...b})),IL=(a,b)=>c=>c.pipe(HR(b=>b>=a,{schemaId:Cl,title:`greaterThanOrEqualTo(${a})`,description:0===a?"a non-negative number":`a number greater than or equal to ${a}`,jsonSchema:{minimum:a},...b})),IM=Symbol.for("effect/SchemaId/MultipleOf"),IN=(a,b)=>c=>{let d=Math.abs(a);return c.pipe(HR(b=>0===pr(b,a),{schemaId:IM,title:`multipleOf(${d})`,description:`a number divisible by ${d}`,jsonSchema:{multipleOf:d},...b}))},IO=a=>b=>b.pipe(HR(a=>Number.isSafeInteger(a),{schemaId:Co,title:"int",description:"an integer",jsonSchema:{type:"integer"},...a})),IP=(a,b)=>c=>c.pipe(HR(b=>b<a,{schemaId:Cm,title:`lessThan(${a})`,description:0===a?"a negative number":`a number less than ${a}`,jsonSchema:{exclusiveMaximum:a},...b})),IQ=(a,b)=>c=>c.pipe(HR(b=>b<=a,{schemaId:Cn,title:`lessThanOrEqualTo(${a})`,description:0===a?"a non-positive number":`a number less than or equal to ${a}`,jsonSchema:{maximum:a},...b})),IR=(a,b,c)=>d=>d.pipe(HR(c=>c>=a&&c<=b,{schemaId:Cs,title:`between(${a}, ${b})`,description:`a number between ${a} and ${b}`,jsonSchema:{minimum:a,maximum:b},...c})),IS=a=>b=>b.pipe(HR(a=>!Number.isNaN(a),{schemaId:Cp,title:"nonNaN",description:"a number excluding NaN",...a})),IT=a=>IK(0,{title:"positive",...a}),IU=a=>IP(0,{title:"negative",...a}),IV=a=>IQ(0,{title:"nonPositive",...a}),IW=a=>IL(0,{title:"nonNegative",...a}),IX=(a,b)=>c=>HV(c,Gf(c).pipe(IR(a,b)),{strict:!1,decode:c=>pq(c,{minimum:a,maximum:b}),encode:dF});function IY(a){return HU(a,GN,{strict:!1,decode:(a,b,c)=>E1((a=>{if("NaN"===a)return fj(NaN);if("Infinity"===a)return fj(1/0);if("-Infinity"===a)return fj(-1/0);if(""===a.trim())return fi;let b=Number(a);return Number.isNaN(b)?fi:fj(b)})(a),()=>new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a number`)),encode:a=>E$(String(a))})}class IZ extends IY(GM.annotations({description:"a string to be decoded into a number"})).annotations({identifier:"NumberFromString"}){}class I$ extends GN.pipe(IJ({identifier:"Finite"})){}class I_ extends GN.pipe(IO({identifier:"Int"})){}class I0 extends GN.pipe(IS({identifier:"NonNaN"})){}class I1 extends GN.pipe(IT({identifier:"Positive"})){}class I2 extends GN.pipe(IU({identifier:"Negative"})){}class I3 extends GN.pipe(IV({identifier:"NonPositive"})){}class I4 extends GN.pipe(IW({identifier:"NonNegative"})){}let I5=Cr;class I6 extends GN.pipe(IJ({schemaId:I5,identifier:"JsonNumber"})){}class I7 extends HV(GO.annotations({description:"a boolean that will be negated"}),GO,{strict:!0,decode:a=>hC(a),encode:a=>hC(a)}){}let I8=(a,b)=>{let c=Symbol.keyFor(a);return void 0===c?E_(new EV(b,a,`Unable to encode a unique symbol ${String(a)} into a string`)):E$(c)},I9=a=>E$(Symbol.for(a));class Ja extends HU(GM.annotations({description:"a string to be decoded into a globally shared symbol"}),GL,{strict:!1,decode:a=>I9(a),encode:(a,b,c)=>I8(a,c)}).annotations({identifier:"Symbol"}){}let Jb=(a,b)=>c=>c.pipe(HR(b=>b>a,{schemaId:Ct,[Ct]:{min:a},title:`greaterThanBigInt(${a})`,description:0n===a?"a positive bigint":`a bigint greater than ${a}n`,...b})),Jc=(a,b)=>c=>c.pipe(HR(b=>b>=a,{schemaId:Cu,[Cu]:{min:a},title:`greaterThanOrEqualToBigInt(${a})`,description:0n===a?"a non-negative bigint":`a bigint greater than or equal to ${a}n`,...b})),Jd=(a,b)=>c=>c.pipe(HR(b=>b<a,{schemaId:Cv,[Cv]:{max:a},title:`lessThanBigInt(${a})`,description:0n===a?"a negative bigint":`a bigint less than ${a}n`,...b})),Je=(a,b)=>c=>c.pipe(HR(b=>b<=a,{schemaId:Cw,[Cw]:{max:a},title:`lessThanOrEqualToBigInt(${a})`,description:0n===a?"a non-positive bigint":`a bigint less than or equal to ${a}n`,...b})),Jf=(a,b,c)=>d=>d.pipe(HR(c=>c>=a&&c<=b,{schemaId:Cx,[Cx]:{min:a,max:b},title:`betweenBigInt(${a}, ${b})`,description:`a bigint between ${a}n and ${b}n`,...c})),Jg=a=>Jb(0n,{title:"positiveBigInt",...a}),Jh=a=>Jd(0n,{title:"negativeBigInt",...a}),Ji=a=>Jc(0n,{title:"nonNegativeBigInt",...a}),Jj=a=>Je(0n,{title:"nonPositiveBigInt",...a}),Jk=(a,b)=>c=>HV(c,c.pipe(Gf,Jf(a,b)),{strict:!1,decode:c=>hy(c,{minimum:a,maximum:b}),encode:dF});class Jl extends HU(GM.annotations({description:"a string to be decoded into a bigint"}),GK,{strict:!0,decode:(a,b,c)=>E1(hA(a),()=>new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a bigint`)),encode:a=>E$(String(a))}).annotations({identifier:"BigInt"}){}let Jm=GK.pipe(Jg({identifier:"PositiveBigintFromSelf"})),Jn=Jl.pipe(Jg({identifier:"PositiveBigint"})),Jo=GK.pipe(Jh({identifier:"NegativeBigintFromSelf"})),Jp=Jl.pipe(Jh({identifier:"NegativeBigint"})),Jq=GK.pipe(Jj({identifier:"NonPositiveBigintFromSelf"})),Jr=Jl.pipe(Jj({identifier:"NonPositiveBigint"})),Js=GK.pipe(Ji({identifier:"NonNegativeBigintFromSelf"})),Jt=Jl.pipe(Ji({identifier:"NonNegativeBigint"}));class Ju extends HU(GN.annotations({description:"a number to be decoded into a bigint"}),GK.pipe(Jf(BigInt(Number.MIN_SAFE_INTEGER),BigInt(Number.MAX_SAFE_INTEGER))),{strict:!0,decode:(a,b,c)=>E1(hB(a),()=>new EV(c,a,`Unable to decode ${a} into a bigint`)),encode:(a,b,c)=>E1(hz(a),()=>new EV(c,a,`Unable to encode ${a}n into a number`))}).annotations({identifier:"BigIntFromNumber"}){}let Jv=a=>b=>a(b).map(FY),Jw=(a,b,c,d)=>E5(a,{onFailure:a=>new ES(c,d,a),onSuccess:b}),Jx=a=>(b,c,d)=>qe(b)?Jw(a(FZ(b),c),FY,d,b):E_(new EV(d,b)),Jy=a=>Gz([a],{decode:a=>Jx(Fg(a)),encode:a=>Jx(Fl(a))},{typeConstructor:{_tag:"effect/Redacted"},description:"Redacted(<redacted>)",pretty:()=>()=>"Redacted(<redacted>)",arbitrary:Jv,equivalence:F$});function Jz(a){return HV(a,Jy(Gf(a)),{strict:!0,decode:a=>FY(a),encode:a=>FZ(a)})}class JA extends Gz(kb,{typeConstructor:{_tag:"effect/Duration"},identifier:"DurationFromSelf",pretty:()=>String,arbitrary:()=>a=>a.oneof(a.constant(ke),a.bigInt({min:0n}).map(a=>kf(a)),a.maxSafeNat().map(a=>kh(a))),equivalence:()=>ku}){}class JB extends HU(Js.annotations({description:"a bigint to be decoded into a Duration"}),JA.pipe(HR(a=>kc(a),{description:"a finite duration"})),{strict:!0,decode:a=>E$(kf(a)),encode:(a,b,c)=>fR(ko(a),{onNone:()=>E_(new EV(c,a,`Unable to encode ${a} into a bigint`)),onSome:a=>E$(a)})}).annotations({identifier:"DurationFromNanos"}){}let JC=I4.pipe(IO()).annotations({identifier:"NonNegativeInt"});class JD extends HV(I4.annotations({description:"a non-negative number to be decoded into a Duration"}),JA,{strict:!0,decode:a=>kh(a),encode:a=>kn(a)}).annotations({identifier:"DurationFromMillis"}){}let JE=Hu("Millis",{millis:JC}),JF=Hu("Nanos",{nanos:Jl}),JG=Hu("Infinity",{}),JH=JG.make({}),JI=GQ(JE,JF,JG).annotations({identifier:"DurationValue",description:"an JSON-compatible tagged union to be decoded into a Duration"}),JJ=GQ(GZ(GV(JC).annotations({title:"seconds"}),GV(JC).annotations({title:"nanos"})).annotations({identifier:"FiniteHRTime"}),GZ(Gq(-1),Gq(0)).annotations({identifier:"InfiniteHRTime"})).annotations({identifier:"HRTime",description:"a tuple of seconds and nanos to be decoded into a Duration"}),JK=a=>"object"==typeof a;class JL extends HV(GQ(JI,JJ),JA,{strict:!0,decode:a=>{if(JK(a))switch(a._tag){case"Millis":return kh(a.millis);case"Nanos":return kf(a.nanos);case"Infinity":return ke}let[b,c]=a;return -1===b?ke:kf(BigInt(b)*BigInt(1e9)+BigInt(c))},encode:a=>{switch(a.value._tag){case"Millis":return JE.make({millis:a.value.millis});case"Nanos":return JF.make({nanos:a.value.nanos});case"Infinity":return JH}}}).annotations({identifier:"Duration"}){}let JM=(a,b)=>c=>HV(c,c.pipe(Gf,JW(a,b)),{strict:!1,decode:c=>kw(c,{minimum:a,maximum:b}),encode:dF}),JN=Symbol.for("effect/SchemaId/LessThanDuration"),JO=(a,b)=>c=>c.pipe(HR(b=>ky(b,a),{schemaId:JN,[JN]:{max:a},title:`lessThanDuration(${a})`,description:`a Duration less than ${j6(a)}`,...b})),JP=Symbol.for("effect/schema/LessThanOrEqualToDuration"),JQ=(a,b)=>c=>c.pipe(HR(b=>kz(b,a),{schemaId:JN,[JN]:{max:a},title:`lessThanOrEqualToDuration(${a})`,description:`a Duration less than or equal to ${j6(a)}`,...b})),JR=Symbol.for("effect/SchemaId/GreaterThanDuration"),JS=(a,b)=>c=>c.pipe(HR(b=>kA(b,a),{schemaId:JR,[JR]:{min:a},title:`greaterThanDuration(${a})`,description:`a Duration greater than ${j6(a)}`,...b})),JT=Symbol.for("effect/schema/GreaterThanOrEqualToDuration"),JU=(a,b)=>c=>c.pipe(HR(b=>kB(b,a),{schemaId:JT,[JT]:{min:a},title:`greaterThanOrEqualToDuration(${a})`,description:`a Duration greater than or equal to ${j6(a)}`,...b})),JV=Symbol.for("effect/SchemaId/BetweenDuration"),JW=(a,b,c)=>d=>d.pipe(HR(c=>kt(c,{minimum:a,maximum:b}),{schemaId:JV,[JV]:{maximum:b,minimum:a},title:`betweenDuration(${a}, ${b})`,description:`a Duration between ${j6(a)} and ${j6(b)}`,...c}));class JX extends Gz(d6,{typeConstructor:{_tag:"Uint8Array"},identifier:"Uint8ArrayFromSelf",pretty:()=>a=>`new Uint8Array(${JSON.stringify(Array.from(a))})`,arbitrary:()=>a=>a.uint8Array(),equivalence:()=>gY(ex)}){}class JY extends GN.pipe(IR(0,255,{identifier:"Uint8",description:"a 8-bit unsigned integer"})){}class JZ extends HV(G$(JY).annotations({description:"an array of 8-bit unsigned integers to be decoded into a Uint8Array"}),JX,{strict:!0,decode:a=>Uint8Array.from(a),encode:a=>Array.from(a)}).annotations({identifier:"Uint8Array"}){}let J$=(a,b,c)=>HU(GM.annotations({description:"a string to be decoded into a Uint8Array"}),JX,{strict:!0,decode:(a,c,d)=>fw(b(a),b=>new EV(d,a,b.message)),encode:a=>E$(c(a))}).annotations({identifier:a}),J_=J$("Uint8ArrayFromBase64",zE,zD),J0=J$("Uint8ArrayFromBase64Url",zG,zF),J1=J$("Uint8ArrayFromHex",zI,zH),J2=(a,b,c)=>HU(GM.annotations({description:`A string that is interpreted as being ${a}-encoded and will be decoded into a UTF-8 string`}),GM,{strict:!0,decode:(a,c,d)=>fw(b(a),b=>new EV(d,a,b.message)),encode:a=>E$(c(a))}).annotations({identifier:`StringFrom${a}`}),J3=J2("Base64",a=>fx(zE(a),a=>zs.decode(a)),zD),J4=J2("Base64Url",a=>fx(zG(a),a=>zs.decode(a)),zF),J5=J2("Hex",a=>fx(zI(a),a=>zs.decode(a)),zH),J6=HU(GM.annotations({description:"A string that is interpreted as being UriComponent-encoded and will be decoded into a UTF-8 string"}),GM,{strict:!0,decode:(a,b,c)=>fw(fu({try:()=>decodeURIComponent(a),catch:b=>zp(a,b instanceof Error?b.message:"Invalid input")}),b=>new EV(c,a,b.message)),encode:(a,b,c)=>fw(fu({try:()=>encodeURIComponent(a),catch:b=>{var c,d;let e;return c=a,d=b instanceof Error?b.message:"Invalid input",e={_tag:"EncodeException",[zq]:zq,input:c},dU(d)&&(e.message=d),e}}),b=>new EV(c,a,b.message))}).annotations({identifier:"StringFromUriComponent"}),J7=(a,b)=>c=>{let d=Math.floor(a);if(d<1)throw Error(Cb("Invalid Argument",`Expected an integer greater than or equal to 1, actual ${a}`));return c.pipe(HR(a=>a.length>=d,{schemaId:CB,title:`minItems(${d})`,description:`an array of at least ${d} item(s)`,jsonSchema:{minItems:d},[C$]:!0,...b}))},J8=(a,b)=>c=>{let d=Math.floor(a);if(d<1)throw Error(Cb("Invalid Argument",`Expected an integer greater than or equal to 1, actual ${a}`));return c.pipe(HR(a=>a.length<=d,{schemaId:CC,title:`maxItems(${d})`,description:`an array of at most ${d} item(s)`,jsonSchema:{maxItems:d},[C$]:!0,...b}))},J9=(a,b)=>c=>{let d=Math.floor(a);if(d<0)throw Error(Cb("Invalid Argument",`Expected an integer greater than or equal to 0, actual ${a}`));return c.pipe(HR(a=>a.length===d,{schemaId:CD,title:`itemsCount(${d})`,description:`an array of exactly ${d} item(s)`,jsonSchema:{minItems:d,maxItems:d},[C$]:!0,...b}))},Ka=a=>F2(El(a.ast));function Kb(a){return HV(a,KS(Ka(Gf(a))),{strict:!1,decode:a=>gs(a),encode:a=>fR(a,{onNone:()=>[],onSome:gP})})}function Kc(a){return HV(a,Ka(Gf(a)),{strict:!1,decode:a=>gt(a),encode:a=>gP(a)})}let Kd=dE(a=>Gp(a[0]),(a,b)=>HU(a,Ka(Gf(a)),{strict:!0,decode:(a,c,d)=>a.length>0?E$(a[0]):b?E$(b()):E_(new EV(d,a,"Unable to retrieve the first element of an empty array")),encode:a=>E$(gP(a))})),Ke=Symbol.for("effect/SchemaId/ValidDate"),Kf=a=>b=>b.pipe(HR(a=>!Number.isNaN(a.getTime()),{schemaId:Ke,[Ke]:{noInvalidDate:!0},title:"validDate",description:"a valid Date",...a})),Kg=Symbol.for("effect/SchemaId/LessThanDate"),Kh=(a,b)=>c=>c.pipe(HR(b=>b<a,{schemaId:Kg,[Kg]:{max:a},title:`lessThanDate(${eD(a)})`,description:`a date before ${eD(a)}`,...b})),Ki=Symbol.for("effect/schema/LessThanOrEqualToDate"),Kj=(a,b)=>c=>c.pipe(HR(b=>b<=a,{schemaId:Ki,[Ki]:{max:a},title:`lessThanOrEqualToDate(${eD(a)})`,description:`a date before or equal to ${eD(a)}`,...b})),Kk=Symbol.for("effect/SchemaId/GreaterThanDate"),Kl=(a,b)=>c=>c.pipe(HR(b=>b>a,{schemaId:Kk,[Kk]:{min:a},title:`greaterThanDate(${eD(a)})`,description:`a date after ${eD(a)}`,...b})),Km=Symbol.for("effect/schema/GreaterThanOrEqualToDate"),Kn=(a,b)=>c=>c.pipe(HR(b=>b>=a,{schemaId:Km,[Km]:{min:a},title:`greaterThanOrEqualToDate(${eD(a)})`,description:`a date after or equal to ${eD(a)}`,...b})),Ko=Symbol.for("effect/SchemaId/BetweenDate"),Kp=(a,b,c)=>d=>d.pipe(HR(c=>c<=b&&c>=a,{schemaId:Ko,[Ko]:{max:b,min:a},title:`betweenDate(${eD(a)}, ${eD(b)})`,description:`a date between ${eD(a)} and ${eD(b)}`,...c})),Kq=Cj;class Kr extends Gz(d7,{typeConstructor:{_tag:"Date"},identifier:"DateFromSelf",schemaId:Kq,[Kq]:{noInvalidDate:!1},description:"a potentially invalid Date instance",pretty:()=>a=>`new Date(${JSON.stringify(a)})`,arbitrary:()=>a=>a.date({noInvalidDate:!1}),equivalence:()=>dP}){}class Ks extends Kr.pipe(Kf({identifier:"ValidDateFromSelf",description:"a valid Date instance"})){}class Kt extends HV(GM.annotations({description:"a string to be decoded into a Date"}),Kr,{strict:!0,decode:a=>new Date(a),encode:a=>eD(a)}).annotations({identifier:"DateFromString"}){}class Ku extends Kt.pipe(Kf({identifier:"Date"})){}class Kv extends HV(GN.annotations({description:"a number to be decoded into a Date"}),Kr,{strict:!0,decode:a=>new Date(a),encode:a=>a.getTime()}).annotations({identifier:"DateFromNumber"}){}class Kw extends Gz(a=>y7(a)&&za(a),{typeConstructor:{_tag:"effect/DateTime.Utc"},identifier:"DateTimeUtcFromSelf",description:"a DateTime.Utc instance",pretty:()=>a=>a.toString(),arbitrary:()=>a=>a.date({noInvalidDate:!0}).map(a=>zd(a)),equivalence:()=>zc}){}let Kx=(a,b)=>E0({try:()=>xE(a),catch:()=>new EV(b,a,`Unable to decode ${eF(a)} into a DateTime.Utc`)});class Ky extends HU(GN.annotations({description:"a number to be decoded into a DateTime.Utc"}),Kw,{strict:!0,decode:(a,b,c)=>Kx(a,c),encode:a=>E$(zl(a))}).annotations({identifier:"DateTimeUtcFromNumber"}){}class Kz extends HU(Kr.annotations({description:"a Date to be decoded into a DateTime.Utc"}),Kw,{strict:!0,decode:(a,b,c)=>Kx(a,c),encode:a=>E$(zk(a))}).annotations({identifier:"DateTimeUtcFromDate"}){}class KA extends HU(GM.annotations({description:"a string to be decoded into a DateTime.Utc"}),Kw,{strict:!0,decode:(a,b,c)=>Kx(a,c),encode:a=>E$(zm(a))}).annotations({identifier:"DateTimeUtc"}){}let KB=()=>a=>a.integer({min:-432e5,max:504e5}).map(zh);class KC extends Gz(y8,{typeConstructor:{_tag:"effect/DateTime.TimeZone.Offset"},identifier:"TimeZoneOffsetFromSelf",description:"a TimeZone.Offset instance",pretty:()=>a=>a.toString(),arbitrary:KB}){}class KD extends HV(GN.annotations({description:"a number to be decoded into a TimeZone.Offset"}),KC,{strict:!0,decode:a=>zh(a),encode:a=>a.offset}).annotations({identifier:"TimeZoneOffset"}){}let KE=()=>a=>a.constantFrom(...Intl.supportedValuesOf("timeZone")).map(zg);class KF extends Gz(y9,{typeConstructor:{_tag:"effect/DateTime.TimeZone.Named"},identifier:"TimeZoneNamedFromSelf",description:"a TimeZone.Named instance",pretty:()=>a=>a.toString(),arbitrary:KE}){}class KG extends HU(GM.annotations({description:"a string to be decoded into a TimeZone.Named"}),KF,{strict:!0,decode:(a,b,c)=>E0({try:()=>zg(a),catch:()=>new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a TimeZone.Named`)}),encode:a=>E$(a.id)}).annotations({identifier:"TimeZoneNamed"}){}class KH extends GQ(KC,KF){}class KI extends HU(GM.annotations({description:"a string to be decoded into a TimeZone"}),KH,{strict:!0,decode:(a,b,c)=>fR(zi(a),{onNone:()=>E_(new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a TimeZone`)),onSome:E$}),encode:a=>E$(zj(a))}).annotations({identifier:"TimeZone"}){}let KJ=a=>a.oneof(KB()(a),KE()(a));class KK extends Gz(a=>y7(a)&&zb(a),{typeConstructor:{_tag:"effect/DateTime.Zoned"},identifier:"DateTimeZonedFromSelf",description:"a DateTime.Zoned instance",pretty:()=>a=>a.toString(),arbitrary:()=>a=>a.tuple(a.integer({min:-31536e9,max:31536e9}),KJ(a)).map(([a,b])=>ze(a,{timeZone:b})),equivalence:()=>zc}){}class KL extends HU(GM.annotations({description:"a string to be decoded into a DateTime.Zoned"}),KK,{strict:!0,decode:(a,b,c)=>fR(zf(a),{onNone:()=>E_(new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a DateTime.Zoned`)),onSome:E$}),encode:a=>E$(zn(a))}).annotations({identifier:"DateTimeZoned"}){}let KM=Hs({_tag:Gq("None")}).annotations({description:"NoneEncoded"}),KN=a=>"None"===a._tag?fP():fQ(a.value),KO=(a,b)=>c=>c.oneof(b,c.record({_tag:c.constant("None")}),c.record({_tag:c.constant("Some"),value:a(c)})).map(KN),KP=a=>fR({onNone:()=>"none()",onSome:b=>`some(${a(b)})`}),KQ=a=>(b,c,d)=>ff(b)?fg(b)?E$(fP()):Jw(a(b.value,c),fQ,d,b):E_(new EV(d,b)),KR=a=>Gz([a],{decode:a=>KQ(Fg(a)),encode:a=>KQ(Fl(a))},{typeConstructor:{_tag:"effect/Option"},pretty:KP,arbitrary:KO,equivalence:f3}),KS=a=>KR(a).annotations({description:`Option<${Gc(a)}>`}),KT={_tag:"None"},KU=a=>({_tag:"Some",value:a});function KV(a){return HV(GQ(KM,Hs({_tag:Gq("Some"),value:a}).annotations({description:`SomeEncoded<${Gc(a)}>`})).annotations({description:`OptionEncoded<${Gc(a)}>`}),KS(Gf(a)),{strict:!0,decode:a=>KN(a),encode:a=>fR(a,{onNone:()=>KT,onSome:KU})})}function KW(a){return HV(GR(a),KS(Gf(a)),{strict:!0,decode:a=>fV(a),encode:a=>fW(a)})}function KX(a,b){return HV(GT(a),KS(Gf(a)),{strict:!0,decode:a=>fV(a),encode:null===b?a=>fW(a):a=>fX(a)})}function KY(a){return HV(GS(a),KS(Gf(a)),{strict:!0,decode:a=>fV(a),encode:a=>fX(a)})}class KZ extends HV(GM,KS(Iv),{strict:!0,decode:a=>f2(fQ(a.trim()),x6),encode:a=>fS(a,()=>"")}){}let K$=a=>Hs({_tag:Gq("Right"),right:a}).annotations({description:`RightEncoded<${Gc(a)}>`}),K_=a=>Hs({_tag:Gq("Left"),left:a}).annotations({description:`LeftEncoded<${Gc(a)}>`}),K0=a=>"Left"===a._tag?fr(a.left):fs(a.right),K1=(a,b)=>c=>c.oneof(c.record({_tag:c.constant("Left"),left:b(c)}),c.record({_tag:c.constant("Right"),right:a(c)})).map(K0),K2=(a,b)=>fy({onLeft:a=>`left(${b(a)})`,onRight:b=>`right(${a(b)})`}),K3=(a,b)=>(c,d,e)=>fo(c)?fy(c,{onLeft:a=>Jw(b(a,d),fr,e,c),onRight:b=>Jw(a(b,d),fs,e,c)}):E_(new EV(e,c)),K4=({left:a,right:b})=>Gz([b,a],{decode:(a,b)=>K3(Fg(a),Fg(b)),encode:(a,b)=>K3(Fl(a),Fl(b))},{typeConstructor:{_tag:"effect/Either"},description:`Either<${Gc(b)}, ${Gc(a)}>`,pretty:K2,arbitrary:K1,equivalence:(a,b)=>(({left:a,right:b})=>dM((c,d)=>fp(c)?fp(d)&&a(c.left,d.left):fq(d)&&b(c.right,d.right)))({left:b,right:a})}),K5=a=>({_tag:"Left",left:a}),K6=a=>({_tag:"Right",right:a}),K7=({left:a,right:b})=>HV(GQ(K$(b),K_(a)).annotations({description:`EitherEncoded<${Gc(a)}, ${Gc(b)}>`}),K4({left:Gf(a),right:Gf(b)}),{strict:!0,decode:a=>K0(a),encode:a=>fy(a,{onLeft:K5,onRight:K6})}),K8=({left:a,right:b})=>{let c=Gf(b),d=Gf(a),e=HV(b,K$(c),{strict:!0,decode:a=>K6(a),encode:a=>a.right}),f=HV(a,K_(d),{strict:!0,decode:a=>K5(a),encode:a=>a.left});return HV(GQ(e,f),K4({left:d,right:c}),{strict:!0,decode:a=>"Left"===a._tag?fr(a.left):fs(a.right),encode:a=>fy(a,{onLeft:K5,onRight:K6})})},K9=(a,b,c)=>d=>{let e=d.array(d.tuple(a(d),b(d)));return(void 0!==c.depthIdentifier?d.oneof(c,d.constant([]),e):e).map(a=>new Map(a))},La=(a,b)=>c=>`new Map([${Array.from(c.entries()).map(([c,d])=>`[${a(c)}, ${b(d)}]`).join(", ")}])`,Lb=(a,b)=>{let c=gY(dM(([c,d],[e,f])=>a(c,e)&&b(d,f)));return dM((a,b)=>c(Array.from(a.entries()),Array.from(b.entries())))},Lc=a=>(b,c,d)=>b instanceof Map?Jw(a(Array.from(b.entries()),c),a=>new Map(a),d,b):E_(new EV(d,b)),Ld=(a,b,c)=>Gz([a,b],{decode:(a,b)=>Lc(Fg(G$(GZ(a,b)))),encode:(a,b)=>Lc(Fl(G$(GZ(a,b))))},{typeConstructor:{_tag:"ReadonlyMap"},description:c,pretty:La,arbitrary:K9,equivalence:Lb}),Le=({key:a,value:b})=>Ld(a,b,`ReadonlyMap<${Gc(a)}, ${Gc(b)}>`),Lf=({key:a,value:b})=>Ld(a,b,`Map<${Gc(a)}, ${Gc(b)}>`);function Lg({key:a,value:b}){return HV(G$(GZ(a,b)),Le({key:Gf(a),value:Gf(b)}),{strict:!0,decode:a=>new Map(a),encode:a=>Array.from(a.entries())})}function Lh({key:a,value:b}){return HV(G$(GZ(a,b)),Lf({key:Gf(a),value:Gf(b)}),{strict:!0,decode:a=>new Map(a),encode:a=>Array.from(a.entries())})}let Li=({key:a,value:b})=>HV(Hv({key:Ge(a),value:b}).annotations({description:"a record to be decoded into a ReadonlyMap"}),Le({key:a,value:Gf(b)}),{strict:!0,decode:a=>new Map(Object.entries(a)),encode:a=>Object.fromEntries(a)}),Lj=({key:a,value:b})=>HV(Hv({key:Ge(a),value:b}).annotations({description:"a record to be decoded into a Map"}),Lf({key:a,value:Gf(b)}),{strict:!0,decode:a=>new Map(Object.entries(a)),encode:a=>Object.fromEntries(a)}),Lk=(a,b)=>c=>{let d=c.array(a(c));return(void 0!==b.depthIdentifier?c.oneof(b,c.constant([]),d):d).map(a=>new Set(a))},Ll=a=>b=>`new Set([${Array.from(b.values()).map(b=>a(b)).join(", ")}])`,Lm=a=>{let b=gY(a);return dM((a,c)=>b(Array.from(a.values()),Array.from(c.values())))},Ln=a=>(b,c,d)=>b instanceof Set?Jw(a(Array.from(b.values()),c),a=>new Set(a),d,b):E_(new EV(d,b)),Lo=(a,b)=>Gz([a],{decode:a=>Ln(Fg(G$(a))),encode:a=>Ln(Fl(G$(a)))},{typeConstructor:{_tag:"ReadonlySet"},description:b,pretty:Ll,arbitrary:Lk,equivalence:Lm}),Lp=a=>Lo(a,`ReadonlySet<${Gc(a)}>`),Lq=a=>Lo(a,`Set<${Gc(a)}>`);function Lr(a){return HV(G$(a),Lp(Gf(a)),{strict:!0,decode:a=>new Set(a),encode:a=>Array.from(a)})}function Ls(a){return HV(G$(a),Lq(Gf(a)),{strict:!0,decode:a=>new Set(a),encode:a=>Array.from(a)})}let Lt=()=>a=>`BigDecimal(${hq(ha(a))})`,Lu=()=>a=>a.tuple(a.bigInt(),a.integer({min:-18,max:18})).map(([a,b])=>g4(a,b));class Lv extends Gz(g3,{typeConstructor:{_tag:"effect/BigDecimal"},identifier:"BigDecimalFromSelf",pretty:Lt,arbitrary:Lu,equivalence:()=>hl}){}class Lw extends HU(GM.annotations({description:"a string to be decoded into a BigDecimal"}),Lv,{strict:!0,decode:(a,b,c)=>hp(a).pipe(fR({onNone:()=>E_(new EV(c,a,`Unable to decode ${JSON.stringify(a)} into a BigDecimal`)),onSome:a=>E$(ha(a))})),encode:a=>E$(hq(ha(a)))}).annotations({identifier:"BigDecimal"}){}class Lx extends HV(GN.annotations({description:"a number to be decoded into a BigDecimal"}),Lv,{strict:!0,decode:a=>hn(a),encode:a=>hs(a)}).annotations({identifier:"BigDecimalFromNumber"}){}let Ly=Symbol.for("effect/SchemaId/GreaterThanBigDecimal"),Lz=(a,b)=>c=>{let d=hq(a);return c.pipe(HR(b=>hg(b,a),{schemaId:Ly,[Ly]:{min:a},title:`greaterThanBigDecimal(${d})`,description:`a BigDecimal greater than ${d}`,...b}))},LA=Symbol.for("effect/schema/GreaterThanOrEqualToBigDecimal"),LB=(a,b)=>c=>{let d=hq(a);return c.pipe(HR(b=>hh(b,a),{schemaId:LA,[LA]:{min:a},title:`greaterThanOrEqualToBigDecimal(${d})`,description:`a BigDecimal greater than or equal to ${d}`,...b}))},LC=Symbol.for("effect/SchemaId/LessThanBigDecimal"),LD=(a,b)=>c=>{let d=hq(a);return c.pipe(HR(b=>he(b,a),{schemaId:LC,[LC]:{max:a},title:`lessThanBigDecimal(${d})`,description:`a BigDecimal less than ${d}`,...b}))},LE=Symbol.for("effect/schema/LessThanOrEqualToBigDecimal"),LF=(a,b)=>c=>{let d=hq(a);return c.pipe(HR(b=>hf(b,a),{schemaId:LE,[LE]:{max:a},title:`lessThanOrEqualToBigDecimal(${d})`,description:`a BigDecimal less than or equal to ${d}`,...b}))},LG=Symbol.for("effect/schema/PositiveBigDecimal"),LH=a=>b=>b.pipe(HR(a=>a.value>g6,{schemaId:LG,title:"positiveBigDecimal",description:"a positive BigDecimal",...a})),LI=Lv.pipe(LH({identifier:"PositiveBigDecimalFromSelf"})),LJ=Symbol.for("effect/schema/NonNegativeBigDecimal"),LK=a=>b=>b.pipe(HR(a=>a.value>=0n,{schemaId:LJ,title:"nonNegativeBigDecimal",description:"a non-negative BigDecimal",...a})),LL=Lv.pipe(LK({identifier:"NonNegativeBigDecimalFromSelf"})),LM=Symbol.for("effect/schema/NegativeBigDecimal"),LN=a=>b=>b.pipe(HR(a=>hu(a),{schemaId:LM,title:"negativeBigDecimal",description:"a negative BigDecimal",...a})),LO=Lv.pipe(LN({identifier:"NegativeBigDecimalFromSelf"})),LP=Symbol.for("effect/schema/NonPositiveBigDecimal"),LQ=a=>b=>b.pipe(HR(a=>a.value<=0n,{schemaId:LP,title:"nonPositiveBigDecimal",description:"a non-positive BigDecimal",...a})),LR=Lv.pipe(LQ({identifier:"NonPositiveBigDecimalFromSelf"})),LS=Symbol.for("effect/SchemaId/BetweenBigDecimal"),LT=(a,b,c)=>d=>{let e=hq(a),f=hq(b);return d.pipe(HR(c=>hi(c,{minimum:a,maximum:b}),{schemaId:LS,[LS]:{maximum:b,minimum:a},title:`betweenBigDecimal(${e}, ${f})`,description:`a BigDecimal between ${e} and ${f}`,...c}))},LU=(a,b)=>c=>HV(c,c.pipe(Gf,LT(a,b)),{strict:!1,decode:c=>hj(c,{minimum:a,maximum:b}),encode:dF}),LV=(a,b)=>c=>{let d=c.array(a(c));return(void 0!==b.depthIdentifier?c.oneof(b,c.constant([]),d):d).map(hO)},LW=a=>b=>`Chunk(${hQ(b).map(a).join(", ")})`,LX=a=>(b,c,d)=>hJ(b)?h_(b)?E$(hL()):Jw(a(hQ(b),c),hO,d,b):E_(new EV(d,b)),LY=a=>Gz([a],{decode:a=>LX(Fg(G$(a))),encode:a=>LX(Fl(G$(a)))},{typeConstructor:{_tag:"effect/Chunk"},description:`Chunk<${Gc(a)}>`,pretty:LW,arbitrary:LV,equivalence:hF});function LZ(a){return HV(G$(a),LY(Gf(a)),{strict:!0,decode:a=>0===a.length?hL():hO(a),encode:a=>hQ(a)})}let L$=a=>b=>(function(a,b={}){let c=b.size,d=b.minLength||0,e=b.maxLength,f=b.depthIdentifier,g=void 0!==e?e:0x7fffffff,h=function(a,b,c,d){let{baseSize:e="small",defaultSizeToMaxWhenMaxSpecified:f}=At||{},g=void 0!==a?a:d&&f?"max":e;return"max"===g?c:BT(function(a,b){switch(b){case"xsmall":return BS(1.1*a)+1;case"small":return 2*a+10;case"medium":return 11*a+100;case"large":return 101*a+1e3;case"xlarge":return 1001*a+1e4;default:throw Error(`Unable to compute lengths based on received size: ${b}`)}}(b,function(a,b){let c=Ab(BV,a);if(-1===c)return a;let d=Ab(BU,b);if(-1===d)throw Error(`Unable to offset size based on the unknown defaulted one: ${b}`);let e=d+c-4;return e<0?BU[0]:e>=BU.length?BU[BU.length-1]:BU[e]}(g,e)),c)}(c,d,g,void 0!==e);return new BR(a,d,h,g,f,void 0,b.experimentalCustomSlices||[])})(a(b),{minLength:1}).map(a=>hU(a)),L_=a=>b=>`NonEmptyChunk(${hQ(b).map(a).join(", ")})`,L0=a=>(b,c,d)=>hJ(b)&&h0(b)?Jw(a(hQ(b),c),hU,d,b):E_(new EV(d,b)),L1=a=>Gz([a],{decode:a=>L0(Fg(G_(a))),encode:a=>L0(Fl(G_(a)))},{typeConstructor:{_tag:"effect/Chunk.NonEmptyChunk"},description:`NonEmptyChunk<${Gc(a)}>`,pretty:L_,arbitrary:L$,equivalence:hF});function L2(a){return HV(G_(a),L1(Gf(a)),{strict:!0,decode:a=>hU(a),encode:a=>hQ(a)})}let L3=a=>Array.isArray(a)?Object.setPrototypeOf(a.slice(0),lq):ls(a),L4=a=>b=>a(b).map(L3),L5=a=>b=>`Data(${a(b)})`,L6=a=>(b,c,d)=>ez(b)?Jw(a(b,c),L3,d,b):E_(new EV(d,b)),L7=a=>Gz([a],{decode:a=>L6(Fg(a)),encode:a=>L6(Fl(a))},{description:`Data<${Gc(a)}>`,pretty:L5,arbitrary:L4}),L8=a=>HV(a,L7(Gf(a)),{strict:!1,decode:a=>L3(a),encode:a=>Array.isArray(a)?Array.from(a):Object.assign({},a)}),L9=a=>Reflect.ownKeys(a).every(b=>{let c;return Gp(c=a[b])||G9(c)}),Ma=a=>"fields"in a?a.fields:Ma(a[HO]),Mb=a=>L9(a)?Hs(a):Gp(a)?a:Hs(Ma(a)),Mc=a=>L9(a)?a:Ma(a),Md=a=>(b,c)=>Mk({kind:"Class",identifier:a,schema:Mb(b),fields:Mc(b),Base:ql,annotations:c}),Me=a=>He(Hd(Gq(a)),()=>a),Mf=a=>(b,c,d)=>{let e=Mc(c),f=Mb(c),g={_tag:Me(b)},h=Mh(g,e);return class extends Mk({kind:"TaggedClass",identifier:a??b,schema:HL(f,Hs(g)),fields:h,Base:ql,annotations:d}){static _tag=b}},Mg=a=>(b,c,d)=>{class e extends qm{}e.prototype.name=b;let f=Mc(c),g=Mb(c),h={_tag:Me(b)},i=Mh(h,f),j="message"in i;class k extends Mk({kind:"TaggedError",identifier:a??b,schema:HL(g,Hs(h)),fields:i,Base:e,annotations:d,disableToString:!0}){static _tag=b}return j||Object.defineProperty(k.prototype,"message",{get(){return`{ ${Reflect.ownKeys(f).map(a=>`${eE(a)}: ${eF(this[a])}`).join(", ")} }`},enumerable:!1,configurable:!0}),k},Mh=(a,b)=>{let c={...a};for(let d of Reflect.ownKeys(b)){if(d in a)throw Error(Ci(d));c[d]=b[d]}return c};function Mi(a){return dW(a)?a:a?.disableValidation??!1}let Mj=dS("effect/Schema/astCache",()=>new WeakMap),Mk=({Base:a,annotations:b,disableToString:c,fields:d,identifier:e,kind:f,schema:g})=>{let h=Symbol.for(`effect/Schema/${f}/${e}`),[i,j,k]=void 0===b?[]:Array.isArray(b)?b:[b],l=Gf(g),m=l.annotations({identifier:e,...i}),n=l.annotations({[CL]:`${e} (Type side)`,...i}),o=g.annotations({[CL]:`${e} (Constructor)`,...i}),p=g.annotations({[CL]:`${e} (Encoded side)`,...k}),q=g.annotations({...k,...i,...j}),r=class extends a{constructor(a={},b=!1){a={...a},"Class"!==f&&delete a._tag,a=Hq(d,a),Mi(b)||(a=Fm(o)(a)),super(a,!0)}static [F1]=F3;static get ast(){let a=Mj.get(this);return a||(a=HV(p,Gz([g],{decode:()=>(a,b,c)=>a instanceof this||d3(a,h)&&Fq(n)(a)?E$(a):E_(new EV(c,a)),encode:()=>(a,b)=>a instanceof this?E$(a):E3(Fl(n)(a,b),a=>new this(a,!0))},{identifier:e,pretty:a=>b=>`${e}(${a(b)})`,arbitrary:a=>b=>a(b).map(a=>new this(a)),equivalence:dF,[CZ]:m.ast,...i}),{strict:!0,decode:a=>new this(a,!0),encode:dF}).annotations({[CZ]:q.ast,...j}).ast,Mj.set(this,a)),a}static pipe(){return eM(this,arguments)}static annotations(a){return F2(this.ast).annotations(a)}static toString(){return`(${String(p)} <-> ${e})`}static make(...a){return new this(...a)}static fields={...d};static identifier=e;static extend(a){return(b,c)=>{let e=Mc(b),h=Mb(b),i=Mh(d,e);return Mk({kind:f,identifier:a,schema:HL(g,h),fields:i,Base:this,annotations:c})}}static transformOrFail(a){return(b,c,e)=>{let h=Mh(d,b);return Mk({kind:f,identifier:a,schema:HU(g,Gf(Hs(h)),c),fields:h,Base:this,annotations:e})}}static transformOrFailFrom(a){return(b,c,e)=>{let h=Mh(d,b);return Mk({kind:f,identifier:a,schema:HU(Gd(g),Hs(h),c),fields:h,Base:this,annotations:e})}}get[h](){return h}};return!0!==c&&Object.defineProperty(r.prototype,"toString",{value(){return`${e}({ ${Reflect.ownKeys(d).map(a=>`${eE(a)}: ${eF(this[a])}`).join(", ")} })`},configurable:!0,writable:!0}),r},Ml=GQ(Hs({_tag:Gq("None")}).annotations({identifier:"FiberIdNoneEncoded"}),Hs({_tag:Gq("Runtime"),id:I_,startTimeMillis:I_}).annotations({identifier:"FiberIdRuntimeEncoded"}),Hs({_tag:Gq("Composite"),left:HN(()=>Ml),right:HN(()=>Ml)}).annotations({identifier:"FiberIdCompositeEncoded"})).annotations({identifier:"FiberIdEncoded"}),Mm=a=>a.letrec(b=>({None:a.record({_tag:a.constant("None")}),Runtime:a.record({_tag:a.constant("Runtime"),id:a.integer(),startTimeMillis:a.integer()}),Composite:a.record({_tag:a.constant("Composite"),left:b("FiberId"),right:b("FiberId")}),FiberId:a.oneof(b("None"),b("Runtime"),b("Composite"))})).FiberId.map(Mp),Mn=a=>{switch(a._tag){case"None":return"FiberId.none";case"Runtime":return`FiberId.runtime(${a.id}, ${a.startTimeMillis})`;case"Composite":return`FiberId.composite(${Mn(a.right)}, ${Mn(a.left)})`}};class Mo extends Gz(k_,{typeConstructor:{_tag:"effect/FiberId"},identifier:"FiberIdFromSelf",pretty:()=>Mn,arbitrary:()=>Mm}){}let Mp=a=>{switch(a._tag){case"None":return k$;case"Runtime":return new kP(a.id,a.startTimeMillis);case"Composite":return new kQ(Mp(a.left),Mp(a.right))}},Mq=a=>{switch(a._tag){case"None":return{_tag:"None"};case"Runtime":return{_tag:"Runtime",id:a.id,startTimeMillis:a.startTimeMillis};case"Composite":return{_tag:"Composite",left:Mq(a.left),right:Mq(a.right)}}};class Mr extends HV(Ml,Mo,{strict:!0,decode:a=>Mp(a),encode:a=>Mq(a)}).annotations({identifier:"FiberId"}){}let Ms=Hs({_tag:Gq("Empty")}),Mt=Hs({_tag:Gq("Interrupt"),fiberId:Ml}),Mu=0,Mv=(a,b)=>{let c=HN(()=>d),d=GQ(Ms,Hs({_tag:Gq("Fail"),error:a}),Hs({_tag:Gq("Die"),defect:b}),Mt,Hs({_tag:Gq("Sequential"),left:c,right:c}),Hs({_tag:Gq("Parallel"),left:c,right:c})).annotations({title:`CauseEncoded<${Gc(a)}>`,[Df]:`CauseEncoded${Mu++}`});return d},Mw=(a,b)=>c=>c.letrec(d=>({Empty:c.record({_tag:c.constant("Empty")}),Fail:c.record({_tag:c.constant("Fail"),error:a(c)}),Die:c.record({_tag:c.constant("Die"),defect:b(c)}),Interrupt:c.record({_tag:c.constant("Interrupt"),fiberId:Mm(c)}),Sequential:c.record({_tag:c.constant("Sequential"),left:d("Cause"),right:d("Cause")}),Parallel:c.record({_tag:c.constant("Parallel"),left:d("Cause"),right:d("Cause")}),Cause:c.oneof(d("Empty"),d("Fail"),d("Die"),d("Interrupt"),d("Sequential"),d("Parallel"))})).Cause.map(MA),Mx=a=>b=>{let c=b=>{switch(b._tag){case"Empty":return"Cause.empty";case"Fail":return`Cause.fail(${a(b.error)})`;case"Die":return`Cause.die(${jx(b)})`;case"Interrupt":return`Cause.interrupt(${Mn(b.fiberId)})`;case"Sequential":return`Cause.sequential(${c(b.left)}, ${c(b.right)})`;case"Parallel":return`Cause.parallel(${c(b.left)}, ${c(b.right)})`}};return c(b)},My=a=>(b,c,d)=>jf(b)?Jw(a(MB(b),c),MA,d,b):E_(new EV(d,b)),Mz=({defect:a,error:b})=>Gz([b,a],{decode:(a,b)=>My(Fg(Mv(a,b))),encode:(a,b)=>My(Fl(Mv(a,b)))},{typeConstructor:{_tag:"effect/Cause"},title:`Cause<${b.ast}>`,pretty:Mx,arbitrary:Mw});function MA(a){switch(a._tag){case"Empty":return i9;case"Fail":return ja(a.error);case"Die":return jb(a.defect);case"Interrupt":return jc(Mp(a.fiberId));case"Sequential":return je(MA(a.left),MA(a.right));case"Parallel":return jd(MA(a.left),MA(a.right))}}function MB(a){switch(a._tag){case"Empty":return{_tag:"Empty"};case"Fail":return{_tag:"Fail",error:a.error};case"Die":return{_tag:"Die",defect:a.defect};case"Interrupt":return{_tag:"Interrupt",fiberId:a.fiberId};case"Sequential":return{_tag:"Sequential",left:MB(a.left),right:MB(a.right)};case"Parallel":return{_tag:"Parallel",left:MB(a.left),right:MB(a.right)}}}let MC=({defect:a,error:b})=>HV(Mv(b,a),Mz({error:Gf(b),defect:Gf(a)}),{strict:!1,decode:a=>MA(a),encode:a=>MB(a)});class MD extends HV(GI,GI,{strict:!0,decode:a=>{if(d2(a)&&"message"in a&&"string"==typeof a.message){let b=Error(a.message,{cause:a});return"name"in a&&"string"==typeof a.name&&(b.name=a.name),b.stack="stack"in a&&"string"==typeof a.stack?a.stack:"",b}return jA(a)},encode:a=>a instanceof Error?{name:a.name,message:a.message}:jA(a)}).annotations({identifier:"Defect"}){}let ME=a=>{switch(a._tag){case"Failure":return oK(MA(a.cause));case"Success":return oQ(a.value)}},MF=(a,b,c)=>d=>d.oneof(d.record({_tag:d.constant("Failure"),cause:Mw(b,c)(d)}),d.record({_tag:d.constant("Success"),value:a(d)})).map(ME),MG=(a,b)=>c=>"Failure"===c._tag?`Exit.failCause(${Mx(b)(c.cause)})`:`Exit.succeed(${a(c.value)})`,MH=(a,b)=>(c,d,e)=>oF(c)?oO(c,{onFailure:a=>Jw(b(a,d),oK,e,c),onSuccess:b=>Jw(a(b,d),oQ,e,c)}):E_(new EV(e,c)),MI=({defect:a,failure:b,success:c})=>Gz([c,b,a],{decode:(a,b,c)=>MH(Fg(a),Fg(Mz({error:b,defect:c}))),encode:(a,b,c)=>MH(Fl(a),Fl(Mz({error:b,defect:c})))},{typeConstructor:{_tag:"effect/Exit"},title:`Exit<${c.ast}, ${b.ast}>`,pretty:MG,arbitrary:MF}),MJ=({defect:a,failure:b,success:c})=>HV(GQ(Hs({_tag:Gq("Failure"),cause:Mv(b,a)}),Hs({_tag:Gq("Success"),value:c})).annotations({title:`ExitEncoded<${Gc(c)}, ${Gc(b)}, ${Gc(a)}>`}),MI({failure:Gf(b),success:Gf(c),defect:Gf(a)}),{strict:!1,decode:a=>ME(a),encode:a=>"Failure"===a._tag?{_tag:"Failure",cause:a.cause}:{_tag:"Success",value:a.value}}),MK=(a,b)=>c=>{let d=c.array(a(c));return(void 0!==b.depthIdentifier?c.oneof(b,c.constant([]),d):d).map(i$)},ML=a=>b=>`HashSet(${Array.from(b).map(b=>a(b)).join(", ")})`,MM=a=>{let b=gY(a);return dM((a,c)=>b(Array.from(a),Array.from(c)))},MN=a=>(b,c,d)=>iL(b)?Jw(a(Array.from(b),c),i$,d,b):E_(new EV(d,b)),MO=a=>Gz([a],{decode:a=>MN(Fg(G$(a))),encode:a=>MN(Fl(G$(a)))},{typeConstructor:{_tag:"effect/HashSet"},description:`HashSet<${Gc(a)}>`,pretty:ML,arbitrary:MK,equivalence:MM});function MP(a){return HV(G$(a),MO(Gf(a)),{strict:!0,decode:a=>i$(a),encode:a=>Array.from(a)})}let MQ=(a,b,c)=>d=>{let e=d.array(d.tuple(a(d),b(d)));return(void 0!==c.depthIdentifier?d.oneof(c,d.constant([]),e):e).map(k1)},MR=(a,b)=>c=>`HashMap([${Array.from(c).map(([c,d])=>`[${a(c)}, ${b(d)}]`).join(", ")}])`,MS=(a,b)=>{let c=gY(dM(([c,d],[e,f])=>a(c,e)&&b(d,f)));return dM((a,b)=>c(Array.from(a),Array.from(b)))},MT=a=>(b,c,d)=>is(b)?Jw(a(Array.from(b),c),k1,d,b):E_(new EV(d,b)),MU=({key:a,value:b})=>Gz([a,b],{decode:(a,b)=>MT(Fg(G$(GZ(a,b)))),encode:(a,b)=>MT(Fl(G$(GZ(a,b))))},{typeConstructor:{_tag:"effect/HashMap"},description:`HashMap<${Gc(a)}, ${Gc(b)}>`,pretty:MR,arbitrary:MQ,equivalence:MS}),MV=({key:a,value:b})=>HV(G$(GZ(a,b)),MU({key:Gf(a),value:Gf(b)}),{strict:!0,decode:a=>k1(a),encode:a=>Array.from(a)}),MW=(a,b)=>c=>{let d=c.array(a(c));return(void 0!==b.depthIdentifier?c.oneof(b,c.constant([]),d):d).map(lf)},MX=a=>b=>`List(${Array.from(b).map(b=>a(b)).join(", ")})`,MY=a=>{let b=gY(a);return dM((a,c)=>b(Array.from(a),Array.from(c)))},MZ=a=>(b,c,d)=>k9(b)?Jw(a(Array.from(b),c),lf,d,b):E_(new EV(d,b)),M$=a=>Gz([a],{decode:a=>MZ(Fg(G$(a))),encode:a=>MZ(Fl(G$(a)))},{typeConstructor:{_tag:"effect/List"},description:`List<${Gc(a)}>`,pretty:MX,arbitrary:MW,equivalence:MY});function M_(a){return HV(G$(a),M$(Gf(a)),{strict:!0,decode:a=>lf(a),encode:a=>Array.from(a)})}let M0=a=>b=>`new SortedSet([${Array.from(uT(b.keyTree,uE)).map(b=>a(b)).join(", ")}])`,M1=(a,b)=>(c,d,e)=>u_(c)?Jw(a(Array.from(uT(c.keyTree,uE)),d),a=>u0(a,b),e,c):E_(new EV(e,c)),M2=(a,b,c)=>Gz([a],{decode:a=>M1(Fg(G$(a)),b),encode:a=>M1(Fl(G$(a)),c)},{typeConstructor:{_tag:"effect/SortedSet"},description:`SortedSet<${Gc(a)}>`,pretty:M0,arbitrary:(a,c)=>d=>{let e=d.array(a(d));return(void 0!==c.depthIdentifier?d.oneof(c,d.constant([]),e):e).map(a=>u0(a,b))},equivalence:()=>(a,b)=>u3(a,b)&&u3(b,a)});function M3(a,b){let c=Gf(a);return HV(G$(a),M2(c,b,b),{strict:!0,decode:a=>u0(a,b),encode:a=>Array.from(uT(a.keyTree,uE))})}class M4 extends HV(GI,GO,{strict:!0,decode:a=>dT(a),encode:dF}).annotations({identifier:"BooleanFromUnknown"}){}class M5 extends HV(Gq("true","false").annotations({description:"a string to be decoded into a boolean"}),GO,{strict:!0,decode:a=>"true"===a,encode:a=>a?"true":"false"}).annotations({identifier:"BooleanFromString"}){}let M6=(a,b)=>{let c=Fe(b);return(a=>{let b,c=((b=Object.create(qh))._tag=pD,b.description="a text property",b.parse=fs,b);return void 0===a?c:qj(c,a)})(a).pipe(qi(a=>c(a).pipe(fw(a=>pf([],FF.formatIssueSync(a))))))},M7=Symbol.for("effect/Schema/Serializable/symbol"),M8=a=>a,M9=a=>a[M7],Na=a=>Gg(a[M7])(a),Nb=dE(2,(a,b)=>Gj(a[M7])(b)),Nc=Symbol.for("effect/Schema/Serializable/symbolResult"),Nd=a=>a,Ne=a=>a[Nc].failure,Nf=a=>a[Nc].success,Ng=dS("effect/Schema/Serializable/exitSchemaCache",()=>new WeakMap),Nh=a=>{let b=Object.getPrototypeOf(a);if(!(Nc in b))return MJ({failure:Ne(a),success:Nf(a),defect:MD});let c=Ng.get(b);return void 0===c&&(c=MJ({failure:Ne(a),success:Nf(a),defect:MD}),Ng.set(b,c)),c},Ni=dE(2,(a,b)=>Gg(a[Nc].failure)(b)),Nj=dE(2,(a,b)=>Gj(a[Nc].failure)(b)),Nk=dE(2,(a,b)=>Gg(a[Nc].success)(b)),Nl=dE(2,(a,b)=>Gj(a[Nc].success)(b)),Nm=dE(2,(a,b)=>Gg(Nh(a))(b)),Nn=dE(2,(a,b)=>Gj(Nh(a))(b)),No=a=>a,Np=a=>(b,c,d)=>{let e=Mh({_tag:Me(b)},c.payload);return class extends Mk({kind:"TaggedRequest",identifier:a??b,schema:Hs(e),fields:e,Base:y6,annotations:d}){static _tag=b;static success=c.success;static failure=c.failure;get[M7](){return this.constructor}get[Nc](){return{failure:c.failure,success:c.success}}}},Nq=a=>Ns(a.ast,[]),Nr=C_(CS),Ns=(a,b)=>{let c=Nr(a);if(fh(c))switch(a._tag){case"Declaration":return c.value(...a.typeParameters.map(a=>Ns(a,b)));case"Refinement":return c.value(Ns(a.from,b));default:return c.value()}switch(a._tag){case"NeverKeyword":throw Error(Cb("Unsupported schema","Cannot build an Equivalence",b,a));case"Transformation":return Ns(a.to,b);case"Declaration":case"Literal":case"StringKeyword":case"TemplateLiteral":case"UniqueSymbol":case"SymbolKeyword":case"UnknownKeyword":case"AnyKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"VoidKeyword":case"Enums":case"ObjectKeyword":return ex;case"Refinement":return Ns(a.from,b);case"Suspend":{let c=B8(()=>Ns(a.f(),b));return(a,b)=>c()(a,b)}case"TupleType":{let c=a.elements.map((a,c)=>Ns(a.type,b.concat(c))),d=a.rest.map(a=>Ns(a.type,b));return dM((b,e)=>{if(!Array.isArray(b)||!Array.isArray(e))return!1;let f=b.length;if(f!==e.length)return!1;let g=0;for(;g<Math.min(f,a.elements.length);g++)if(!c[g](b[g],e[g]))return!1;if(gn(d)){let[a,...c]=d;for(;g<f-c.length;g++)if(!a(b[g],e[g]))return!1;for(let a=0;a<c.length;a++)if(g+=a,!c[a](b[g],e[g]))return!1}return!0})}case"TypeLiteral":{if(0===a.propertySignatures.length&&0===a.indexSignatures.length)return ex;let c=a.propertySignatures.map(a=>Ns(a.type,b.concat(a.name))),d=a.indexSignatures.map(a=>Ns(a.type,b));return dM((b,e)=>{let f,g;if(!d9(b)||!d9(e))return!1;let h=Object.keys(b),i=Object.getOwnPropertySymbols(b);for(let d=0;d<c.length;d++){let f=a.propertySignatures[d],g=f.name,h=Object.prototype.hasOwnProperty.call(b,g),i=Object.prototype.hasOwnProperty.call(e,g);if(f.isOptional&&h!==i||h&&i&&!c[d](b[g],e[g]))return!1}for(let c=0;c<d.length;c++){let j=DD(ED(a.indexSignatures[c].parameter));if(j){if(f=f||Object.getOwnPropertySymbols(e),i.length!==f.length)return!1}else if(g=g||Object.keys(e),h.length!==g.length)return!1;let k=j?i:h;for(let a=0;a<k.length;a++){let f=k[a];if(!Object.prototype.hasOwnProperty.call(e,f)||!d[c](b[f],e[f]))return!1}}return!0})}case"Union":{let c=Fy(a.types,!0),d=Reflect.ownKeys(c.keys),e=d.length;return dM((a,f)=>{let g=[];if(e>0&&d1(a))for(let b=0;b<e;b++){let e=d[b],f=c.keys[e].buckets;if(Object.prototype.hasOwnProperty.call(a,e)){let b=String(a[e]);Object.prototype.hasOwnProperty.call(f,b)&&(g=g.concat(f[b]))}}c.otherwise.length>0&&(g=g.concat(c.otherwise));let h=g.map(a=>[Ns(a,b),Fq({ast:a})]);for(let b=0;b<h.length;b++){let[c,d]=h[b];if(d(a)&&d(f)&&c(a,f))return!0}return!1})}}},Nt=Hu("symbol",{key:GM}).annotations({description:"an object to be decoded into a globally shared symbol"}),Nu=HU(Nt,GL,{strict:!0,decode:a=>I9(a.key),encode:(a,b,c)=>E3(I8(a,c),a=>Nt.make({key:a}))});class Nv extends GQ(GM,GN,Nu).annotations({identifier:"PropertyKey"}){}class Nw extends Hs({_tag:Hd(Gq("Pointer","Unexpected","Missing","Composite","Refinement","Transformation","Type","Forbidden")).annotations({description:"The tag identifying the type of parse issue"}),path:Hd(G$(Nv)).annotations({description:"The path to the property where the issue occurred"}),message:Hd(GM).annotations({description:"A descriptive message explaining the issue"})}).annotations({identifier:"ArrayFormatterIssue",description:"Represents an issue returned by the ArrayFormatter formatter"}){}a.s(["Any",()=>GJ,"Array",()=>G$,"ArrayEnsure",()=>G0,"ArrayFormatterIssue",()=>Nw,"BetweenBigDecimalSchemaId",0,LS,"BetweenBigIntSchemaId",0,Cx,"BetweenDateSchemaId",0,Ko,"BetweenDurationSchemaId",0,JV,"BetweenSchemaId",0,Cs,"BigDecimal",()=>Lw,"BigDecimalFromNumber",()=>Lx,"BigDecimalFromSelf",()=>Lv,"BigInt",()=>Jl,"BigIntFromNumber",()=>Ju,"BigIntFromSelf",()=>GK,"Boolean",()=>GO,"BooleanFromString",()=>M5,"BooleanFromUnknown",()=>M4,"BrandSchemaId",0,GA,"Capitalize",()=>Is,"Capitalized",()=>Ik,"CapitalizedSchemaId",0,Ii,"Cause",0,MC,"CauseFromSelf",0,Mz,"Char",()=>Io,"Chunk",()=>LZ,"ChunkFromSelf",0,LY,"Class",0,Md,"Config",0,M6,"Data",0,L8,"DataFromSelf",0,L7,"Date",()=>Ku,"DateFromNumber",()=>Kv,"DateFromSelf",()=>Kr,"DateFromSelfSchemaId",0,Kq,"DateFromString",()=>Kt,"DateTimeUtc",()=>KA,"DateTimeUtcFromDate",()=>Kz,"DateTimeUtcFromNumber",()=>Ky,"DateTimeUtcFromSelf",()=>Kw,"DateTimeZoned",()=>KL,"DateTimeZonedFromSelf",()=>KK,"Defect",()=>MD,"Duration",()=>JL,"DurationFromMillis",()=>JD,"DurationFromNanos",()=>JB,"DurationFromSelf",()=>JA,"Either",0,K7,"EitherFromSelf",0,K4,"EitherFromUnion",0,K8,"EndsWithSchemaId",0,H8,"Enums",0,Gv,"Exit",0,MJ,"ExitFromSelf",0,MI,"FiberId",()=>Mr,"FiberIdFromSelf",()=>Mo,"Finite",()=>I$,"FiniteSchemaId",0,Cq,"FromPropertySignature",()=>G4,"GreaterThanBigDecimalSchemaId",0,Ly,"GreaterThanBigIntSchemaId",0,Ct,"GreaterThanDateSchemaId",0,Kk,"GreaterThanDurationSchemaId",0,JR,"GreaterThanOrEqualToBigDecimalSchemaId",0,LA,"GreaterThanOrEqualToBigIntSchemaId",0,Cu,"GreaterThanOrEqualToDateSchemaId",0,Km,"GreaterThanOrEqualToDurationSchemaId",0,JT,"GreaterThanOrEqualToSchemaId",0,Cl,"GreaterThanSchemaId",0,Ck,"HashMap",0,MV,"HashMapFromSelf",0,MU,"HashSet",()=>MP,"HashSetFromSelf",0,MO,"IncludesSchemaId",0,Ia,"InstanceOfSchemaId",0,GC,"Int",()=>I_,"IntSchemaId",0,Co,"ItemsCountSchemaId",0,CD,"JsonNumber",()=>I6,"JsonNumberSchemaId",0,I5,"LengthSchemaId",0,CA,"LessThanBigDecimalSchemaId",0,LC,"LessThanBigIntSchemaId",0,Cv,"LessThanDateSchemaId",0,Kg,"LessThanDurationSchemaId",0,JN,"LessThanOrEqualToBigDecimalSchemaId",0,LE,"LessThanOrEqualToBigIntSchemaId",0,Cw,"LessThanOrEqualToDateSchemaId",0,Ki,"LessThanOrEqualToDurationSchemaId",0,JP,"LessThanOrEqualToSchemaId",0,Cn,"LessThanSchemaId",0,Cm,"List",()=>M_,"ListFromSelf",0,M$,"Literal",()=>Gq,"Lowercase",()=>Iq,"Lowercased",()=>Ie,"LowercasedSchemaId",0,Ic,"Map",()=>Lh,"MapFromRecord",0,Lj,"MapFromSelf",0,Lf,"MaxItemsSchemaId",0,CC,"MaxLengthSchemaId",0,Cz,"MinItemsSchemaId",0,CB,"MinLengthSchemaId",0,Cy,"MultipleOfSchemaId",0,IM,"Negative",()=>I2,"NegativeBigDecimalFromSelf",0,LO,"NegativeBigDecimalSchemaId",0,LM,"NegativeBigInt",0,Jp,"NegativeBigIntFromSelf",0,Jo,"Never",()=>GH,"NonEmptyArray",0,G_,"NonEmptyArrayEnsure",()=>G1,"NonEmptyChunk",()=>L2,"NonEmptyChunkFromSelf",0,L1,"NonEmptyString",()=>IA,"NonEmptyTrimmedString",()=>Iv,"NonNaN",()=>I0,"NonNaNSchemaId",0,Cp,"NonNegative",()=>I4,"NonNegativeBigDecimalFromSelf",0,LL,"NonNegativeBigDecimalSchemaId",0,LJ,"NonNegativeBigInt",0,Jt,"NonNegativeBigIntFromSelf",0,Js,"NonNegativeInt",0,JC,"NonPositive",()=>I3,"NonPositiveBigDecimalFromSelf",0,LR,"NonPositiveBigDecimalSchemaId",0,LP,"NonPositiveBigInt",0,Jr,"NonPositiveBigIntFromSelf",0,Jq,"Not",()=>I7,"Null",()=>GG,"NullOr",0,GR,"NullishOr",0,GT,"Number",()=>GN,"NumberFromString",()=>IZ,"Object",()=>GP,"Option",()=>KV,"OptionFromNonEmptyTrimmedString",()=>KZ,"OptionFromNullOr",()=>KW,"OptionFromNullishOr",()=>KX,"OptionFromSelf",0,KS,"OptionFromUndefinedOr",()=>KY,"PatternSchemaId",0,H4,"Positive",()=>I1,"PositiveBigDecimalFromSelf",0,LI,"PositiveBigDecimalSchemaId",0,LG,"PositiveBigInt",0,Jn,"PositiveBigIntFromSelf",0,Jm,"PropertyKey",()=>Nv,"PropertySignatureDeclaration",()=>G3,"PropertySignatureTransformation",()=>G6,"PropertySignatureTypeId",0,G8,"ReadonlyMap",()=>Lg,"ReadonlyMapFromRecord",0,Li,"ReadonlyMapFromSelf",0,Le,"ReadonlySet",()=>Lr,"ReadonlySetFromSelf",0,Lp,"Record",0,Hv,"Redacted",()=>Jz,"RedactedFromSelf",0,Jy,"RefineSchemaId",0,HO,"Set",()=>Ls,"SetFromSelf",0,Lq,"SortedSet",()=>M3,"SortedSetFromSelf",0,M2,"StartsWithSchemaId",0,H6,"String",()=>GM,"StringFromBase64",0,J3,"StringFromBase64Url",0,J4,"StringFromHex",0,J5,"StringFromUriComponent",0,J6,"Struct",()=>Hs,"Symbol",()=>Ja,"SymbolFromSelf",()=>GL,"TaggedClass",0,Mf,"TaggedError",0,Mg,"TaggedRequest",0,Np,"TaggedStruct",0,Hu,"TemplateLiteral",0,Gw,"TemplateLiteralParser",0,Gx,"TimeZone",()=>KI,"TimeZoneFromSelf",()=>KH,"TimeZoneNamed",()=>KG,"TimeZoneNamedFromSelf",()=>KF,"TimeZoneOffset",()=>KD,"TimeZoneOffsetFromSelf",()=>KC,"ToPropertySignature",()=>G5,"Trim",()=>Iw,"Trimmed",()=>Iu,"TrimmedSchemaId",0,H_,"Tuple",()=>GZ,"TypeId",0,F1,"ULID",()=>IG,"ULIDSchemaId",0,IE,"URL",()=>II,"URLFromSelf",()=>IH,"UUID",()=>ID,"UUIDSchemaId",0,IB,"Uint8",()=>JY,"Uint8Array",()=>JZ,"Uint8ArrayFromBase64",0,J_,"Uint8ArrayFromBase64Url",0,J0,"Uint8ArrayFromHex",0,J1,"Uint8ArrayFromSelf",()=>JX,"Uncapitalize",()=>It,"Uncapitalized",()=>In,"UncapitalizedSchemaId",0,Il,"Undefined",()=>GE,"UndefinedOr",0,GS,"Union",()=>GQ,"UniqueSymbolFromSelf",0,Gs,"Unknown",()=>GI,"Uppercase",()=>Ir,"Uppercased",()=>Ih,"UppercasedSchemaId",0,If,"ValidDateFromSelf",()=>Ks,"ValidDateSchemaId",0,Ke,"Void",()=>GF,"annotations",0,HZ,"asSchema",()=>Gb,"asSerializable",0,M8,"asSerializableWithResult",0,No,"asWithResult",0,Nd,"attachPropertySignature",0,HY,"between",0,IR,"betweenBigDecimal",0,LT,"betweenBigInt",0,Jf,"betweenDate",0,Kp,"betweenDuration",0,JW,"brand",0,HA,"capitalized",0,Ij,"clamp",0,IX,"clampBigDecimal",0,LU,"clampBigInt",0,Jk,"clampDuration",0,JM,"compose",0,HM,"declare",0,Gz,"decode",0,Gj,"decodeEither",0,Gk,"decodePromise",0,Gl,"decodeUnknown",0,Gj,"decodeUnknownEither",0,Gk,"decodeUnknownPromise",0,Gl,"deserialize",0,Nb,"deserializeExit",0,Nn,"deserializeFailure",0,Nj,"deserializeSuccess",0,Nl,"element",0,GV,"encode",0,Gg,"encodeEither",0,Gh,"encodePromise",0,Gi,"encodeUnknown",0,Gg,"encodeUnknownEither",0,Gh,"encodeUnknownPromise",0,Gi,"encodedBoundSchema",0,Ge,"encodedSchema",0,Gd,"endsWith",0,H9,"equivalence",0,Nq,"exitSchema",0,Nh,"extend",0,HL,"failureSchema",0,Ne,"filter",()=>HR,"filterEffect",0,HS,"finite",0,IJ,"format",0,Gc,"fromBrand",0,GB,"fromKey",0,Hj,"getClassTag",0,Me,"getNumberIndexedAccess",0,Ka,"greaterThan",0,IK,"greaterThanBigDecimal",0,Lz,"greaterThanBigInt",0,Jb,"greaterThanDate",0,Kl,"greaterThanDuration",0,JS,"greaterThanOrEqualTo",0,IL,"greaterThanOrEqualToBigDecimal",0,LB,"greaterThanOrEqualToBigInt",0,Jc,"greaterThanOrEqualToDate",0,Kn,"greaterThanOrEqualToDuration",0,JU,"head",()=>Kb,"headNonEmpty",()=>Kc,"headOrElse",0,Kd,"includes",0,Ib,"instanceOf",0,GD,"int",0,IO,"isPropertySignature",0,G9,"isSchema",0,Gp,"itemsCount",0,J9,"keyof",0,GU,"length",0,H3,"lessThan",0,IP,"lessThanBigDecimal",0,LD,"lessThanBigInt",0,Jd,"lessThanDate",0,Kh,"lessThanDuration",0,JO,"lessThanOrEqualTo",0,IQ,"lessThanOrEqualToBigDecimal",0,LF,"lessThanOrEqualToBigInt",0,Je,"lessThanOrEqualToDate",0,Kj,"lessThanOrEqualToDuration",0,JQ,"lowercased",0,Id,"make",()=>F2,"makePropertySignature",0,Hb,"maxItems",0,J8,"maxLength",0,H1,"minItems",0,J7,"minLength",0,H2,"multipleOf",0,IN,"mutable",0,HE,"negative",0,IU,"negativeBigDecimal",0,LN,"negativeBigInt",0,Jh,"nonEmptyString",0,Ip,"nonNaN",0,IS,"nonNegative",0,IW,"nonNegativeBigDecimal",0,LK,"nonNegativeBigInt",0,Ji,"nonPositive",0,IV,"nonPositiveBigDecimal",0,LQ,"nonPositiveBigInt",0,Jj,"omit",0,Hx,"optional",0,Hn,"optionalElement",0,GW,"optionalToOptional",0,Hm,"optionalToRequired",0,Hk,"optionalWith",0,Ho,"parseJson",0,Iz,"parseNumber",()=>IY,"partial",0,HB,"partialWith",0,HC,"pattern",0,H5,"pick",0,Hw,"pickLiteral",0,Gr,"pluck",0,Hy,"positive",0,IT,"positiveBigDecimal",0,LH,"positiveBigInt",0,Jg,"propertySignature",0,Hd,"rename",0,H$,"required",0,HD,"requiredToOptional",0,Hl,"serializableSchema",0,M9,"serialize",0,Na,"serializeExit",0,Nm,"serializeFailure",0,Ni,"serializeSuccess",0,Nk,"split",0,Ix,"standardSchemaV1",0,F7,"startsWith",0,H7,"successSchema",0,Nf,"suspend",0,HN,"symbolSerializable",0,M7,"symbolWithResult",0,Nc,"tag",0,Ht,"transform",0,HV,"transformLiteral",()=>HW,"transformLiterals",()=>HX,"transformOrFail",0,HU,"trimmed",0,H0,"typeSchema",0,Gf,"uncapitalized",0,Im,"uppercased",0,Ig,"validDate",0,Kf,"validate",0,Gm,"validateEither",0,Gn,"validatePromise",0,Go,"withConstructorDefault",0,He,"withDecodingDefault",0,Hh,"withDefaults",0,Hi],84536),a.i(84536),a.s(["Any",()=>GJ,"Array",()=>G$,"ArrayEnsure",()=>G0,"ArrayFormatterIssue",()=>Nw,"BetweenBigDecimalSchemaId",0,LS,"BetweenBigIntSchemaId",0,Cx,"BetweenDateSchemaId",0,Ko,"BetweenDurationSchemaId",0,JV,"BetweenSchemaId",0,Cs,"BigDecimal",()=>Lw,"BigDecimalFromNumber",()=>Lx,"BigDecimalFromSelf",()=>Lv,"BigInt",()=>Jl,"BigIntFromNumber",()=>Ju,"BigIntFromSelf",()=>GK,"Boolean",()=>GO,"BooleanFromString",()=>M5,"BooleanFromUnknown",()=>M4,"BrandSchemaId",0,GA,"Capitalize",()=>Is,"Capitalized",()=>Ik,"CapitalizedSchemaId",0,Ii,"Cause",0,MC,"CauseFromSelf",0,Mz,"Char",()=>Io,"Chunk",()=>LZ,"ChunkFromSelf",0,LY,"Class",0,Md,"Config",0,M6,"Data",0,L8,"DataFromSelf",0,L7,"Date",()=>Ku,"DateFromNumber",()=>Kv,"DateFromSelf",()=>Kr,"DateFromSelfSchemaId",0,Kq,"DateFromString",()=>Kt,"DateTimeUtc",()=>KA,"DateTimeUtcFromDate",()=>Kz,"DateTimeUtcFromNumber",()=>Ky,"DateTimeUtcFromSelf",()=>Kw,"DateTimeZoned",()=>KL,"DateTimeZonedFromSelf",()=>KK,"Defect",()=>MD,"Duration",()=>JL,"DurationFromMillis",()=>JD,"DurationFromNanos",()=>JB,"DurationFromSelf",()=>JA,"Either",0,K7,"EitherFromSelf",0,K4,"EitherFromUnion",0,K8,"EndsWithSchemaId",0,H8,"Enums",0,Gv,"Exit",0,MJ,"ExitFromSelf",0,MI,"FiberId",()=>Mr,"FiberIdFromSelf",()=>Mo,"Finite",()=>I$,"FiniteSchemaId",0,Cq,"FromPropertySignature",()=>G4,"GreaterThanBigDecimalSchemaId",0,Ly,"GreaterThanBigIntSchemaId",0,Ct,"GreaterThanDateSchemaId",0,Kk,"GreaterThanDurationSchemaId",0,JR,"GreaterThanOrEqualToBigDecimalSchemaId",0,LA,"GreaterThanOrEqualToBigIntSchemaId",0,Cu,"GreaterThanOrEqualToDateSchemaId",0,Km,"GreaterThanOrEqualToDurationSchemaId",0,JT,"GreaterThanOrEqualToSchemaId",0,Cl,"GreaterThanSchemaId",0,Ck,"HashMap",0,MV,"HashMapFromSelf",0,MU,"HashSet",()=>MP,"HashSetFromSelf",0,MO,"IncludesSchemaId",0,Ia,"InstanceOfSchemaId",0,GC,"Int",()=>I_,"IntSchemaId",0,Co,"ItemsCountSchemaId",0,CD,"JsonNumber",()=>I6,"JsonNumberSchemaId",0,I5,"LengthSchemaId",0,CA,"LessThanBigDecimalSchemaId",0,LC,"LessThanBigIntSchemaId",0,Cv,"LessThanDateSchemaId",0,Kg,"LessThanDurationSchemaId",0,JN,"LessThanOrEqualToBigDecimalSchemaId",0,LE,"LessThanOrEqualToBigIntSchemaId",0,Cw,"LessThanOrEqualToDateSchemaId",0,Ki,"LessThanOrEqualToDurationSchemaId",0,JP,"LessThanOrEqualToSchemaId",0,Cn,"LessThanSchemaId",0,Cm,"List",()=>M_,"ListFromSelf",0,M$,"Literal",()=>Gq,"Lowercase",()=>Iq,"Lowercased",()=>Ie,"LowercasedSchemaId",0,Ic,"Map",()=>Lh,"MapFromRecord",0,Lj,"MapFromSelf",0,Lf,"MaxItemsSchemaId",0,CC,"MaxLengthSchemaId",0,Cz,"MinItemsSchemaId",0,CB,"MinLengthSchemaId",0,Cy,"MultipleOfSchemaId",0,IM,"Negative",()=>I2,"NegativeBigDecimalFromSelf",0,LO,"NegativeBigDecimalSchemaId",0,LM,"NegativeBigInt",0,Jp,"NegativeBigIntFromSelf",0,Jo,"Never",()=>GH,"NonEmptyArray",0,G_,"NonEmptyArrayEnsure",()=>G1,"NonEmptyChunk",()=>L2,"NonEmptyChunkFromSelf",0,L1,"NonEmptyString",()=>IA,"NonEmptyTrimmedString",()=>Iv,"NonNaN",()=>I0,"NonNaNSchemaId",0,Cp,"NonNegative",()=>I4,"NonNegativeBigDecimalFromSelf",0,LL,"NonNegativeBigDecimalSchemaId",0,LJ,"NonNegativeBigInt",0,Jt,"NonNegativeBigIntFromSelf",0,Js,"NonNegativeInt",0,JC,"NonPositive",()=>I3,"NonPositiveBigDecimalFromSelf",0,LR,"NonPositiveBigDecimalSchemaId",0,LP,"NonPositiveBigInt",0,Jr,"NonPositiveBigIntFromSelf",0,Jq,"Not",()=>I7,"Null",()=>GG,"NullOr",0,GR,"NullishOr",0,GT,"Number",()=>GN,"NumberFromString",()=>IZ,"Object",()=>GP,"Option",()=>KV,"OptionFromNonEmptyTrimmedString",()=>KZ,"OptionFromNullOr",()=>KW,"OptionFromNullishOr",()=>KX,"OptionFromSelf",0,KS,"OptionFromUndefinedOr",()=>KY,"PatternSchemaId",0,H4,"Positive",()=>I1,"PositiveBigDecimalFromSelf",0,LI,"PositiveBigDecimalSchemaId",0,LG,"PositiveBigInt",0,Jn,"PositiveBigIntFromSelf",0,Jm,"PropertyKey",()=>Nv,"PropertySignatureDeclaration",()=>G3,"PropertySignatureTransformation",()=>G6,"PropertySignatureTypeId",0,G8,"ReadonlyMap",()=>Lg,"ReadonlyMapFromRecord",0,Li,"ReadonlyMapFromSelf",0,Le,"ReadonlySet",()=>Lr,"ReadonlySetFromSelf",0,Lp,"Record",0,Hv,"Redacted",()=>Jz,"RedactedFromSelf",0,Jy,"RefineSchemaId",0,HO,"Set",()=>Ls,"SetFromSelf",0,Lq,"SortedSet",()=>M3,"SortedSetFromSelf",0,M2,"StartsWithSchemaId",0,H6,"String",()=>GM,"StringFromBase64",0,J3,"StringFromBase64Url",0,J4,"StringFromHex",0,J5,"StringFromUriComponent",0,J6,"Struct",()=>Hs,"Symbol",()=>Ja,"SymbolFromSelf",()=>GL,"TaggedClass",0,Mf,"TaggedError",0,Mg,"TaggedRequest",0,Np,"TaggedStruct",0,Hu,"TemplateLiteral",0,Gw,"TemplateLiteralParser",0,Gx,"TimeZone",()=>KI,"TimeZoneFromSelf",()=>KH,"TimeZoneNamed",()=>KG,"TimeZoneNamedFromSelf",()=>KF,"TimeZoneOffset",()=>KD,"TimeZoneOffsetFromSelf",()=>KC,"ToPropertySignature",()=>G5,"Trim",()=>Iw,"Trimmed",()=>Iu,"TrimmedSchemaId",0,H_,"Tuple",()=>GZ,"TypeId",0,F1,"ULID",()=>IG,"ULIDSchemaId",0,IE,"URL",()=>II,"URLFromSelf",()=>IH,"UUID",()=>ID,"UUIDSchemaId",0,IB,"Uint8",()=>JY,"Uint8Array",()=>JZ,"Uint8ArrayFromBase64",0,J_,"Uint8ArrayFromBase64Url",0,J0,"Uint8ArrayFromHex",0,J1,"Uint8ArrayFromSelf",()=>JX,"Uncapitalize",()=>It,"Uncapitalized",()=>In,"UncapitalizedSchemaId",0,Il,"Undefined",()=>GE,"UndefinedOr",0,GS,"Union",()=>GQ,"UniqueSymbolFromSelf",0,Gs,"Unknown",()=>GI,"Uppercase",()=>Ir,"Uppercased",()=>Ih,"UppercasedSchemaId",0,If,"ValidDateFromSelf",()=>Ks,"ValidDateSchemaId",0,Ke,"Void",()=>GF,"annotations",0,HZ,"asSchema",()=>Gb,"asSerializable",0,M8,"asSerializableWithResult",0,No,"asWithResult",0,Nd,"asserts",0,Fr,"attachPropertySignature",0,HY,"between",0,IR,"betweenBigDecimal",0,LT,"betweenBigInt",0,Jf,"betweenDate",0,Kp,"betweenDuration",0,JW,"brand",0,HA,"capitalized",0,Ij,"clamp",0,IX,"clampBigDecimal",0,LU,"clampBigInt",0,Jk,"clampDuration",0,JM,"compose",0,HM,"declare",0,Gz,"decode",0,Gj,"decodeEither",0,Gk,"decodeOption",0,Fd,"decodePromise",0,Gl,"decodeSync",0,Fc,"decodeUnknown",0,Gj,"decodeUnknownEither",0,Gk,"decodeUnknownOption",0,Fd,"decodeUnknownPromise",0,Gl,"decodeUnknownSync",0,Fc,"deserialize",0,Nb,"deserializeExit",0,Nn,"deserializeFailure",0,Nj,"deserializeSuccess",0,Nl,"element",0,GV,"encode",0,Gg,"encodeEither",0,Gh,"encodeOption",0,Fi,"encodePromise",0,Gi,"encodeSync",0,Fh,"encodeUnknown",0,Gg,"encodeUnknownEither",0,Gh,"encodeUnknownOption",0,Fi,"encodeUnknownPromise",0,Gi,"encodeUnknownSync",0,Fh,"encodedBoundSchema",0,Ge,"encodedSchema",0,Gd,"endsWith",0,H9,"equivalence",0,Nq,"exitSchema",0,Nh,"extend",0,HL,"failureSchema",0,Ne,"filter",()=>HR,"filterEffect",0,HS,"finite",0,IJ,"format",0,Gc,"fromBrand",0,GB,"fromKey",0,Hj,"getClassTag",0,Me,"getNumberIndexedAccess",0,Ka,"greaterThan",0,IK,"greaterThanBigDecimal",0,Lz,"greaterThanBigInt",0,Jb,"greaterThanDate",0,Kl,"greaterThanDuration",0,JS,"greaterThanOrEqualTo",0,IL,"greaterThanOrEqualToBigDecimal",0,LB,"greaterThanOrEqualToBigInt",0,Jc,"greaterThanOrEqualToDate",0,Kn,"greaterThanOrEqualToDuration",0,JU,"head",()=>Kb,"headNonEmpty",()=>Kc,"headOrElse",0,Kd,"includes",0,Ib,"instanceOf",0,GD,"int",0,IO,"is",0,Fq,"isPropertySignature",0,G9,"isSchema",0,Gp,"itemsCount",0,J9,"keyof",0,GU,"length",0,H3,"lessThan",0,IP,"lessThanBigDecimal",0,LD,"lessThanBigInt",0,Jd,"lessThanDate",0,Kh,"lessThanDuration",0,JO,"lessThanOrEqualTo",0,IQ,"lessThanOrEqualToBigDecimal",0,LF,"lessThanOrEqualToBigInt",0,Je,"lessThanOrEqualToDate",0,Kj,"lessThanOrEqualToDuration",0,JQ,"lowercased",0,Id,"make",()=>F2,"makePropertySignature",0,Hb,"maxItems",0,J8,"maxLength",0,H1,"minItems",0,J7,"minLength",0,H2,"multipleOf",0,IN,"mutable",0,HE,"negative",0,IU,"negativeBigDecimal",0,LN,"negativeBigInt",0,Jh,"nonEmptyString",0,Ip,"nonNaN",0,IS,"nonNegative",0,IW,"nonNegativeBigDecimal",0,LK,"nonNegativeBigInt",0,Ji,"nonPositive",0,IV,"nonPositiveBigDecimal",0,LQ,"nonPositiveBigInt",0,Jj,"omit",0,Hx,"optional",0,Hn,"optionalElement",0,GW,"optionalToOptional",0,Hm,"optionalToRequired",0,Hk,"optionalWith",0,Ho,"parseJson",0,Iz,"parseNumber",()=>IY,"partial",0,HB,"partialWith",0,HC,"pattern",0,H5,"pick",0,Hw,"pickLiteral",0,Gr,"pluck",0,Hy,"positive",0,IT,"positiveBigDecimal",0,LH,"positiveBigInt",0,Jg,"propertySignature",0,Hd,"rename",0,H$,"required",0,HD,"requiredToOptional",0,Hl,"serializableSchema",0,M9,"serialize",0,Na,"serializeExit",0,Nm,"serializeFailure",0,Ni,"serializeSuccess",0,Nk,"split",0,Ix,"standardSchemaV1",0,F7,"startsWith",0,H7,"successSchema",0,Nf,"suspend",0,HN,"symbolSerializable",0,M7,"symbolWithResult",0,Nc,"tag",0,Ht,"transform",0,HV,"transformLiteral",()=>HW,"transformLiterals",()=>HX,"transformOrFail",0,HU,"trimmed",0,H0,"typeSchema",0,Gf,"uncapitalized",0,Im,"uppercased",0,Ig,"validDate",0,Kf,"validate",0,Gm,"validateEither",0,Gn,"validateOption",0,Fn,"validatePromise",0,Go,"validateSync",0,Fm,"withConstructorDefault",0,He,"withDecodingDefault",0,Hh,"withDefaults",0,Hi],60113);var Nx=a.i(60113),Nx=Nx,Ny=a.i(72433),Nz=a.i(15632),NA=a.i(51358),NB=a.i(23739),NC=a.i(22970),ND=a.i(63858),NE=a.i(18182),NF=a.i(84906);function NG(a,b){if(a.length!==b.length)throw new Nz.AbiEncodingLengthMismatchError({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(function a(b,c,d=!1){if("address"===b){if(!(0,NB.isAddress)(c))throw new NA.InvalidAddressError({address:c});return(0,ND.pad)(c.toLowerCase(),{size:d?32:null})}if("string"===b)return(0,NE.stringToHex)(c);if("bytes"===b)return c;if("bool"===b)return(0,ND.pad)((0,NE.boolToHex)(c),{size:d?32:1});let e=b.match(NF.integerRegex);if(e){let[a,b,f="256"]=e,g=Number.parseInt(f,10)/8;return(0,NE.numberToHex)(c,{size:d?32:g,signed:"int"===b})}let f=b.match(NF.bytesRegex);if(f){let[a,b]=f;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new Nz.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(c.length-2)/2});return(0,ND.pad)(c,{dir:"right",size:d?32:null})}let g=b.match(NF.arrayRegex);if(g&&Array.isArray(c)){let[b,d]=g,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":(0,NC.concatHex)(e)}throw new Nz.UnsupportedPackedAbiType(b)}(e,f))}return(0,NC.concatHex)(c)}var NH=a.i(42596),NI=a.i(19438),NI=NI,Nx=Nx,NJ=a.i(36775),Nx=Nx;function NK(a,b,c){return Nx.decodeUnknownSync(a)(b,c)}let NL=Nx.TemplateLiteral("0x",Nx.String);function NM(a){return a?.length?BigInt("0x"+Buffer.from(a).toString("hex")):BigInt(0)}function NN(a){return Buffer.from(a.toString(16).padStart(64,"0"),"hex")}function NO(a){return NK(NR,NN(a).toString("hex"))}function NP(a){return"0x"+Buffer.from(a).toString("hex")}let NQ=Nx.Object.pipe(Nx.filter(a=>a instanceof Uint8Array)),NR=Nx.transformOrFail(Nx.Union(Nx.String,NQ),NL,{strict:!0,encode:NI.succeed,decode:a=>{let b;return a instanceof Uint8Array?NI.succeed(NP(a)):(b=function(a){var b=a.startsWith("0x")?a:`0x${a}`;if(!(0,NJ.isHex)(b))throw Error(`Expected hex string, got: ${b}`);return b}(a),(0,NJ.isHex)(b)?NI.succeed(b):NI.fail(new NI.Unexpected(b,`'${b}' is not a hex string`)))}}).pipe(Nx.filter(a=>66===a.length||`Expected 32-byte hex string (66 characters with 0x prefix) but got ${a.length} character string`),Nx.brand("Bytes32")),NS=NL.pipe(Nx.filter(a=>42===a.length||`Address must be a 20-byte '0x'-prefixed hex string, but got: ${a}`),Nx.brand("Address"));function NT(a){return NK(NS,a)}let NU=Object.freeze({ebool:0,euint4:1,euint8:2,euint16:3,euint32:4,euint64:5,euint128:6,euint160:7,euint256:8,ebytes64:9,ebytes128:10,ebytes256:11}),NV=Object.keys(NU);Nx.Literal(...NV);let NW=Nx.Struct({hostChainId:Nx.BigInt,aclAddress:NL,userAddress:NL,contractAddress:NL});function NX(a){let b=(0,NH.hexToBytes)(a)[30];if(!Object.values(NU).includes(b))throw Error(`Invalid handle type ${b} for handle ${a}`);return b}function NY(a){if(!Number.isInteger(a)||a<0||a>255)throw Error(`Invalid uint8 value: ${a}`)}var NZ=a.i(72813);let N$=256;function N_(a=11){if(!c||N$+a>512){c="",N$=0;for(let a=0;a<256;a++)c+=(256+256*Math.random()|0).toString(16).substring(1)}return c.substring(N$,N$+++a)}var N0=a.i(25708),N1=a.i(10692),N2=a.i(11524),N3=a.i(26952),N4=a.i(9424),N5=a.i(30364),N6=a.i(67539);function N7(a){if(!(a instanceof N5.BaseError))return!1;let b=a.walk(a=>a instanceof N6.ContractFunctionRevertedError);return b instanceof N6.ContractFunctionRevertedError&&(b.data?.errorName==="HttpError"||b.data?.errorName==="ResolverError"||b.data?.errorName==="ResolverNotContract"||b.data?.errorName==="ResolverNotFound"||b.data?.errorName==="ReverseAddressMismatch"||b.data?.errorName==="UnsupportedResolverProfile")}var N8=a.i(46758),N9=a.i(39566);function Oa(a){if(66!==a.length||0!==a.indexOf("[")||65!==a.indexOf("]"))return null;let b=`0x${a.slice(1,65)}`;return(0,NJ.isHex)(b)?b:null}function Ob(a){let b=new Uint8Array(32).fill(0);if(!a)return(0,NE.bytesToHex)(b);let c=a.split(".");for(let a=c.length-1;a>=0;a-=1){let d=Oa(c[a]),e=d?(0,NH.toBytes)(d):(0,N9.keccak256)((0,NH.stringToBytes)(c[a]),"bytes");b=(0,N9.keccak256)((0,NC.concat)([b,e]),"bytes")}return(0,NE.bytesToHex)(b)}function Oc(a){let b=a.replace(/^\.|\.$/gm,"");if(0===b.length)return new Uint8Array(1);let c=new Uint8Array((0,NH.stringToBytes)(b).byteLength+2),d=0,e=b.split(".");for(let a=0;a<e.length;a++){var f;let b=(0,NH.stringToBytes)(e[a]);b.byteLength>255&&(b=(0,NH.stringToBytes)((f=function(a){let b=new Uint8Array(32).fill(0);return a?Oa(a)||(0,N9.keccak256)((0,NH.stringToBytes)(a)):(0,NE.bytesToHex)(b)}(e[a]),`[${f.slice(2)}]`))),c[d]=b.length,c.set(b,d+1),d+=b.length+1}return c.byteLength!==d+1?c.slice(0,d+1):c}function Od(a,b,c){let d=a[b.name];if("function"==typeof d)return d;let e=a[c];return"function"==typeof e?e:c=>b(a,c)}var Oe=a.i(43348),Of=N5;class Og extends Of.BaseError{constructor(a,{code:b,docsPath:c,metaMessages:d,name:e,shortMessage:f}){super(f,{cause:a,docsPath:c,metaMessages:d||a?.metaMessages,name:e||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e||a.name,this.code=a instanceof Oe.RpcRequestError?a.code:b??-1}}class Oh extends Og{constructor(a,b){super(a,b),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=b.data}}class Oi extends Og{constructor(a){super(a,{code:Oi.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Oi,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Oj extends Og{constructor(a){super(a,{code:Oj.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Oj,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ok extends Og{constructor(a,{method:b}={}){super(a,{code:Ok.code,name:"MethodNotFoundRpcError",shortMessage:`The method${b?` "${b}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ok,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ol extends Og{constructor(a){super(a,{code:Ol.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(Ol,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Om extends Og{constructor(a){super(a,{code:Om.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Om,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class On extends Og{constructor(a){super(a,{code:On.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Oo extends Og{constructor(a){super(a,{code:Oo.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Op extends Og{constructor(a){super(a,{code:Op.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Op,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Oq extends Og{constructor(a){super(a,{code:Oq.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Oq,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Or extends Og{constructor(a,{method:b}={}){super(a,{code:Or.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${b?` "${b}"`:""} is not supported.`})}}Object.defineProperty(Or,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Os extends Og{constructor(a){super(a,{code:Os.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Os,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ot extends Og{constructor(a){super(a,{code:Ot.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ou extends Oh{constructor(a){super(a,{code:Ou.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ov extends Oh{constructor(a){super(a,{code:Ov.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Ov,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ow extends Oh{constructor(a,{method:b}={}){super(a,{code:Ow.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${b?` " ${b}"`:""}.`})}}Object.defineProperty(Ow,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ox extends Oh{constructor(a){super(a,{code:Ox.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ox,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Oy extends Oh{constructor(a){super(a,{code:Oy.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Oy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Oz extends Oh{constructor(a){super(a,{code:Oz.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Oz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class OA extends Oh{constructor(a){super(a,{code:OA.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(OA,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class OB extends Oh{constructor(a){super(a,{code:OB.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(OB,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class OC extends Oh{constructor(a){super(a,{code:OC.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(OC,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class OD extends Oh{constructor(a){super(a,{code:OD.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(OD,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class OE extends Oh{constructor(a){super(a,{code:OE.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(OE,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class OF extends Oh{constructor(a){super(a,{code:OF.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(OF,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class OG extends Oh{constructor(a){super(a,{code:OG.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(OG,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class OH extends Og{constructor(a){super(a,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function OI(a,{abi:b,address:c,args:d,docsPath:e,functionName:f,sender:g}){let h=a instanceof N6.RawContractError?a:a instanceof N5.BaseError?a.walk(a=>"data"in a)||a.walk():{},{code:i,data:j,details:k,message:l,shortMessage:m}=h,n=a instanceof Nz.AbiDecodingZeroDataError?new N6.ContractFunctionZeroDataError({functionName:f}):[3,Om.code].includes(i)&&(j||k||l||m)||i===On.code&&"execution reverted"===k&&j?new N6.ContractFunctionRevertedError({abi:b,data:"object"==typeof j?j.data:j,functionName:f,message:h instanceof Oe.RpcRequestError?k:m??l}):a;return new N6.ContractFunctionExecutionError(n,{abi:b,args:d,contractAddress:c,docsPath:e,functionName:f,sender:g})}var OJ=a.i(41794);async function OK(a,b){let{abi:c,address:d,args:e,functionName:f,...g}=b,h=(0,N2.encodeFunctionData)({abi:c,args:e,functionName:f});try{let{data:b}=await Od(a,OJ.call,"call")({...g,data:h,to:d});return(0,N1.decodeFunctionResult)({abi:c,args:e,functionName:f,data:b||"0x"})}catch(a){throw OI(a,{abi:c,address:d,args:e,docsPath:"/docs/contract/readContract",functionName:f})}}async function OL(a,b){let{blockNumber:c,blockTag:d,coinType:e,name:f,gatewayUrls:g,strict:h}=b,{chain:i}=a,j=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!i)throw Error("client chain not configured. universalResolverAddress is required.");return(0,N3.getChainContractAddress)({blockNumber:c,chain:i,contract:"ensUniversalResolver"})})(),k=i?.ensTlds;if(k&&!k.some(a=>f.endsWith(a)))return null;let l=null!=e?[Ob(f),BigInt(e)]:[Ob(f)];try{let b=(0,N2.encodeFunctionData)({abi:N0.addressResolverAbi,functionName:"addr",args:l}),e={address:j,abi:N0.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,NE.toHex)(Oc(f)),b,g??[N8.localBatchGatewayUrl]],blockNumber:c,blockTag:d},h=Od(a,OK,"readContract"),i=await h(e);if("0x"===i[0])return null;let k=(0,N1.decodeFunctionResult)({abi:N0.addressResolverAbi,args:l,functionName:"addr",data:i[0]});if("0x"===k||"0x00"===(0,N4.trim)(k))return null;return k}catch(a){if(h)throw a;if(N7(a))return null;throw a}}var OM=N5;class ON extends OM.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}class OO extends OM.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}class OP extends OM.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class OQ extends OM.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}OM.BaseError;let OR=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,OS=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,OT=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,OU=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function OV(a){try{let b=await fetch(a,{method:"HEAD"});if(200===b.status){let a=b.headers.get("content-type");return a?.startsWith("image/")}return!1}catch(b){if("object"==typeof b&&void 0!==b.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(b=>{let c=new Image;c.onload=()=>{b(!0)},c.onerror=()=>{b(!1)},c.src=a})}}function OW(a,b){return a?a.endsWith("/")?a.slice(0,-1):a:b}function OX({uri:a,gatewayUrls:b}){let c=OT.test(a);if(c)return{uri:a,isOnChain:!0,isEncoded:c};let d=OW(b?.ipfs,"https://ipfs.io"),e=OW(b?.arweave,"https://arweave.net"),f=a.match(OR),{protocol:g,subpath:h,target:i,subtarget:j=""}=f?.groups||{},k="ipns:/"===g||"ipns/"===h,l="ipfs:/"===g||"ipfs/"===h||OS.test(a);if(a.startsWith("http")&&!k&&!l){let c=a;return b?.arweave&&(c=a.replace(/https:\/\/arweave.net/g,b?.arweave)),{uri:c,isOnChain:!1,isEncoded:!1}}if((k||l)&&i)return{uri:`${d}/${k?"ipns":"ipfs"}/${i}${j}`,isOnChain:!1,isEncoded:!1};if("ar:/"===g&&i)return{uri:`${e}/${i}${j||""}`,isOnChain:!1,isEncoded:!1};let m=a.replace(OU,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new OP({uri:a})}function OY(a){if("object"!=typeof a||!("image"in a)&&!("image_url"in a)&&!("image_data"in a))throw new ON({data:a});return a.image||a.image_url||a.image_data}async function OZ({gatewayUrls:a,uri:b}){try{let c=await fetch(b).then(a=>a.json());return await O$({gatewayUrls:a,uri:OY(c)})}catch{throw new OP({uri:b})}}async function O$({gatewayUrls:a,uri:b}){let{uri:c,isOnChain:d}=OX({uri:b,gatewayUrls:a});if(d||await OV(c))return c;throw new OP({uri:b})}async function O_(a,{nft:b}){if("erc721"===b.namespace)return OK(a,{address:b.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(b.tokenID)]});if("erc1155"===b.namespace)return OK(a,{address:b.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(b.tokenID)]});throw new OQ({namespace:b.namespace})}async function O0(a,{gatewayUrls:b,record:c}){return/eip155:/i.test(c)?O1(a,{gatewayUrls:b,record:c}):O$({uri:c,gatewayUrls:b})}async function O1(a,{gatewayUrls:b,record:c}){let d=function(a){let b=a;b.startsWith("did:nft:")&&(b=b.replace("did:nft:","").replace(/_/g,"/"));let[c,d,e]=b.split("/"),[f,g]=c.split(":"),[h,i]=d.split(":");if(!f||"eip155"!==f.toLowerCase())throw new OO({reason:"Only EIP-155 supported"});if(!g)throw new OO({reason:"Chain ID not found"});if(!i)throw new OO({reason:"Contract address not found"});if(!e)throw new OO({reason:"Token ID not found"});if(!h)throw new OO({reason:"ERC namespace not found"});return{chainID:Number.parseInt(g,10),namespace:h.toLowerCase(),contractAddress:i,tokenID:e}}(c),{uri:e,isOnChain:f,isEncoded:g}=OX({uri:await O_(a,{nft:d}),gatewayUrls:b});if(f&&(e.includes("data:application/json;base64,")||e.startsWith("{")))return O$({uri:OY(JSON.parse(g?atob(e.replace("data:application/json;base64,","")):e)),gatewayUrls:b});let h=d.tokenID;return"erc1155"===d.namespace&&(h=h.replace("0x","").padStart(64,"0")),OZ({gatewayUrls:b,uri:e.replace(/(?:0x)?{id}/,h)})}async function O2(a,b){let{blockNumber:c,blockTag:d,key:e,name:f,gatewayUrls:g,strict:h}=b,{chain:i}=a,j=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!i)throw Error("client chain not configured. universalResolverAddress is required.");return(0,N3.getChainContractAddress)({blockNumber:c,chain:i,contract:"ensUniversalResolver"})})(),k=i?.ensTlds;if(k&&!k.some(a=>f.endsWith(a)))return null;try{let b={address:j,abi:N0.universalResolverResolveAbi,args:[(0,NE.toHex)(Oc(f)),(0,N2.encodeFunctionData)({abi:N0.textResolverAbi,functionName:"text",args:[Ob(f),e]}),g??[N8.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:c,blockTag:d},h=Od(a,OK,"readContract"),i=await h(b);if("0x"===i[0])return null;let k=(0,N1.decodeFunctionResult)({abi:N0.textResolverAbi,functionName:"text",data:i[0]});return""===k?null:k}catch(a){if(h)throw a;if(N7(a))return null;throw a}}async function O3(a,{blockNumber:b,blockTag:c,assetGatewayUrls:d,name:e,gatewayUrls:f,strict:g,universalResolverAddress:h}){let i=await Od(a,O2,"getEnsText")({blockNumber:b,blockTag:c,key:"avatar",name:e,universalResolverAddress:h,gatewayUrls:f,strict:g});if(!i)return null;try{return await O0(a,{record:i,gatewayUrls:d})}catch{return null}}async function O4(a,b){let{address:c,blockNumber:d,blockTag:e,coinType:f=60n,gatewayUrls:g,strict:h}=b,{chain:i}=a,j=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!i)throw Error("client chain not configured. universalResolverAddress is required.");return(0,N3.getChainContractAddress)({blockNumber:d,chain:i,contract:"ensUniversalResolver"})})();try{let b={address:j,abi:N0.universalResolverReverseAbi,args:[c,f,g??[N8.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:d,blockTag:e},h=Od(a,OK,"readContract"),[i]=await h(b);return i||null}catch(a){if(h)throw a;if(N7(a))return null;throw a}}async function O5(a,b){let{blockNumber:c,blockTag:d,name:e}=b,{chain:f}=a,g=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!f)throw Error("client chain not configured. universalResolverAddress is required.");return(0,N3.getChainContractAddress)({blockNumber:c,chain:f,contract:"ensUniversalResolver"})})(),h=f?.ensTlds;if(h&&!h.some(a=>e.endsWith(a)))throw Error(`${e} is not a valid ENS TLD (${h?.join(", ")}) for chain "${f.name}" (id: ${f.id}).`);let[i]=await Od(a,OK,"readContract")({address:g,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,NE.toHex)(Oc(e))],blockNumber:c,blockTag:d});return i}var O6=a.i(991),O7=a.i(16888),O8=a.i(71103),O9=a.i(59560);async function Pa(a,b){let{account:c=a.account,blockNumber:d,blockTag:e="latest",blobs:f,data:g,gas:h,gasPrice:i,maxFeePerBlobGas:j,maxFeePerGas:k,maxPriorityFeePerGas:l,to:m,value:n,...o}=b,p=c?(0,NZ.parseAccount)(c):void 0;try{(0,O9.assertRequest)(b);let c="bigint"==typeof d?(0,NE.numberToHex)(d):void 0,q=a.chain?.formatters?.transactionRequest?.format,r=(q||O8.formatTransactionRequest)({...(0,O7.extract)(o,{format:q}),account:p,blobs:f,data:g,gas:h,gasPrice:i,maxFeePerBlobGas:j,maxFeePerGas:k,maxPriorityFeePerGas:l,to:m,value:n},"createAccessList"),s=await a.request({method:"eth_createAccessList",params:[r,c||e]});return{accessList:s.accessList,gasUsed:BigInt(s.gasUsed)}}catch(c){throw(0,O6.getCallError)(c,{...b,account:p,chain:a.chain})}}function Pb(a,{method:b}){let c={};return"fallback"===a.transport.type&&a.transport.onResponse?.(({method:a,response:d,status:e,transport:f})=>{"success"===e&&b===a&&(c[d]=f.request)}),b=>c[b]||a.request}async function Pc(a){let b=Pb(a,{method:"eth_newBlockFilter"}),c=await a.request({method:"eth_newBlockFilter"});return{id:c,request:b(c),type:"block"}}var Pd=N5;class Pe extends Pd.BaseError{constructor(a){super(`Filter type "${a}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var Pf=a.i(65422),Pg=a.i(5261),Ph=a.i(14120),Pi=a.i(78058);let Pj="/docs/contract/encodeEventTopics";function Pk(a){let{abi:b,eventName:c,args:d}=a,e=b[0];if(c){let a=(0,Pi.getAbiItem)({abi:b,name:c});if(!a)throw new Nz.AbiEventNotFoundError(c,{docsPath:Pj});e=a}if("event"!==e.type)throw new Nz.AbiEventNotFoundError(void 0,{docsPath:Pj});let f=(0,Ph.formatAbiItem)(e),g=(0,Pf.toEventSelector)(f),h=[];if(d&&"inputs"in e){let a=e.inputs?.filter(a=>"indexed"in a&&a.indexed),b=Array.isArray(d)?d:Object.values(d).length>0?a?.map(a=>d[a.name])??[]:[];b.length>0&&(h=a?.map((a,c)=>Array.isArray(b[c])?b[c].map((d,e)=>Pl({param:a,value:b[c][e]})):void 0!==b[c]&&null!==b[c]?Pl({param:a,value:b[c]}):null)??[])}return[g,...h]}function Pl({param:a,value:b}){if("string"===a.type||"bytes"===a.type)return(0,N9.keccak256)((0,NH.toBytes)(b));if("tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/))throw new Pe(a.type);return(0,Pg.encodeAbiParameters)([a],[b])}async function Pm(a,b){let{address:c,abi:d,args:e,eventName:f,fromBlock:g,strict:h,toBlock:i}=b,j=Pb(a,{method:"eth_newFilter"}),k=f?Pk({abi:d,args:e,eventName:f}):void 0,l=await a.request({method:"eth_newFilter",params:[{address:c,fromBlock:"bigint"==typeof g?(0,NE.numberToHex)(g):g,toBlock:"bigint"==typeof i?(0,NE.numberToHex)(i):i,topics:k}]});return{abi:d,args:e,eventName:f,id:l,request:j(l),strict:!!h,type:"event"}}async function Pn(a,{address:b,args:c,event:d,events:e,fromBlock:f,strict:g,toBlock:h}={}){let i=e??(d?[d]:void 0),j=Pb(a,{method:"eth_newFilter"}),k=[];i&&(k=[i.flatMap(a=>Pk({abi:[a],eventName:a.name,args:c}))],d&&(k=k[0]));let l=await a.request({method:"eth_newFilter",params:[{address:b,fromBlock:"bigint"==typeof f?(0,NE.numberToHex)(f):f,toBlock:"bigint"==typeof h?(0,NE.numberToHex)(h):h,...k.length?{topics:k}:{}}]});return{abi:i,args:c,eventName:d?d.name:void 0,fromBlock:f,id:l,request:j(l),strict:!!g,toBlock:h,type:"event"}}async function Po(a){let b=Pb(a,{method:"eth_newPendingTransactionFilter"}),c=await a.request({method:"eth_newPendingTransactionFilter"});return{id:c,request:b(c),type:"transaction"}}var Pp=a.i(5923);function Pq(a){let b=(0,N9.keccak256)(`0x${a.substring(4)}`).substring(26);return(0,Pp.checksumAddress)(`0x${b}`)}var Pr=a.i(4639),Ps=a.i(10199);async function Pt({hash:b,signature:c}){let d=(0,NJ.isHex)(b)?b:(0,NE.toHex)(b),{secp256k1:e}=await a.A(43804),f=(()=>{if("object"==typeof c&&"r"in c&&"s"in c){let{r:a,s:b,v:d,yParity:f}=c,g=Pu(Number(f??d));return new e.Signature((0,Ps.hexToBigInt)(a),(0,Ps.hexToBigInt)(b)).addRecoveryBit(g)}let a=(0,NJ.isHex)(c)?c:(0,NE.toHex)(c);if(65!==(0,Pr.size)(a))throw Error("invalid signature length");let b=Pu((0,Ps.hexToNumber)(`0x${a.slice(130)}`));return e.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(b)})().recoverPublicKey(d.substring(2)).toHex(!1);return`0x${f}`}function Pu(a){if(0===a||1===a)return a;if(27===a)return 0;if(28===a)return 1;throw Error("Invalid yParityOrV value")}async function Pv({hash:a,signature:b}){return Pq(await Pt({hash:a,signature:b}))}var Pw=a.i(2438);function Px(a,b="hex"){let c=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=Py(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=Py((g="string"==typeof(d=b)?(0,NH.hexToBytes)(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),d=(0,Pw.createCursor)(new Uint8Array(c.length));return(c.encode(d),"hex"===b)?(0,NE.bytesToHex)(d.bytes):d.bytes}function Py(a){if(a<256)return 1;if(a<65536)return 2;if(a<0x1000000)return 3;if(a<0x100000000)return 4;throw new N5.BaseError("Length is too large.")}function Pz(a){let{chainId:b,nonce:c,to:d}=a,e=a.contractAddress??a.address,f=(0,N9.keccak256)((0,NC.concatHex)(["0x05",Px([b?(0,NE.numberToHex)(b):"0x",e,c?(0,NE.numberToHex)(c):"0x"])]));return"bytes"===d?(0,NH.hexToBytes)(f):f}async function PA(a){let{authorization:b,signature:c}=a;return Pv({hash:Pz(b),signature:c??b})}var PB=a.i(7776),PC=a.i(72711),PD=N5,PE=a.i(41969);class PF extends PD.BaseError{constructor(a,{account:b,docsPath:c,chain:d,data:e,gas:f,gasPrice:g,maxFeePerGas:h,maxPriorityFeePerGas:i,nonce:j,to:k,value:l}){super(a.shortMessage,{cause:a,docsPath:c,metaMessages:[...a.metaMessages?[...a.metaMessages," "]:[],"Estimate Gas Arguments:",(0,PE.prettyPrint)({from:b?.address,to:k,value:void 0!==l&&`${(0,PB.formatEther)(l)} ${d?.nativeCurrency?.symbol||"ETH"}`,data:e,gas:f,gasPrice:void 0!==g&&`${(0,PC.formatGwei)(g)} gwei`,maxFeePerGas:void 0!==h&&`${(0,PC.formatGwei)(h)} gwei`,maxPriorityFeePerGas:void 0!==i&&`${(0,PC.formatGwei)(i)} gwei`,nonce:j})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=a}}var PG=a.i(15183),PH=a.i(2174),PI=a.i(6880),PJ=N5;class PK extends PJ.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class PL extends PJ.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class PM extends PJ.BaseError{constructor({maxPriorityFeePerGas:a}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,PC.formatGwei)(a)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}var PN=N5;class PO extends PN.BaseError{constructor({blockHash:a,blockNumber:b}){let c="Block";a&&(c=`Block at hash "${a}"`),b&&(c=`Block at number "${b}"`),super(`${c} could not be found.`,{name:"BlockNotFoundError"})}}var PP=a.i(31584);let PQ={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function PR(a,b){let c={...a,blockHash:a.blockHash?a.blockHash:null,blockNumber:a.blockNumber?BigInt(a.blockNumber):null,chainId:a.chainId?(0,Ps.hexToNumber)(a.chainId):void 0,gas:a.gas?BigInt(a.gas):void 0,gasPrice:a.gasPrice?BigInt(a.gasPrice):void 0,maxFeePerBlobGas:a.maxFeePerBlobGas?BigInt(a.maxFeePerBlobGas):void 0,maxFeePerGas:a.maxFeePerGas?BigInt(a.maxFeePerGas):void 0,maxPriorityFeePerGas:a.maxPriorityFeePerGas?BigInt(a.maxPriorityFeePerGas):void 0,nonce:a.nonce?(0,Ps.hexToNumber)(a.nonce):void 0,to:a.to?a.to:null,transactionIndex:a.transactionIndex?Number(a.transactionIndex):null,type:a.type?PQ[a.type]:void 0,typeHex:a.type?a.type:void 0,value:a.value?BigInt(a.value):void 0,v:a.v?BigInt(a.v):void 0};return a.authorizationList&&(c.authorizationList=a.authorizationList.map(a=>({address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:a.r,s:a.s,yParity:Number(a.yParity)}))),c.yParity=(()=>{if(a.yParity)return Number(a.yParity);if("bigint"==typeof c.v){if(0n===c.v||27n===c.v)return 0;if(1n===c.v||28n===c.v)return 1;if(c.v>=35n)return+(c.v%2n===0n)}})(),"legacy"===c.type&&(delete c.accessList,delete c.maxFeePerBlobGas,delete c.maxFeePerGas,delete c.maxPriorityFeePerGas,delete c.yParity),"eip2930"===c.type&&(delete c.maxFeePerBlobGas,delete c.maxFeePerGas,delete c.maxPriorityFeePerGas),"eip1559"===c.type&&delete c.maxFeePerBlobGas,c}let PS=(0,PP.defineFormatter)("transaction",PR);function PT(a,b){let c=(a.transactions??[]).map(a=>"string"==typeof a?a:PR(a));return{...a,baseFeePerGas:a.baseFeePerGas?BigInt(a.baseFeePerGas):null,blobGasUsed:a.blobGasUsed?BigInt(a.blobGasUsed):void 0,difficulty:a.difficulty?BigInt(a.difficulty):void 0,excessBlobGas:a.excessBlobGas?BigInt(a.excessBlobGas):void 0,gasLimit:a.gasLimit?BigInt(a.gasLimit):void 0,gasUsed:a.gasUsed?BigInt(a.gasUsed):void 0,hash:a.hash?a.hash:null,logsBloom:a.logsBloom?a.logsBloom:null,nonce:a.nonce?a.nonce:null,number:a.number?BigInt(a.number):null,size:a.size?BigInt(a.size):void 0,timestamp:a.timestamp?BigInt(a.timestamp):void 0,transactions:c,totalDifficulty:a.totalDifficulty?BigInt(a.totalDifficulty):null}}let PU=(0,PP.defineFormatter)("block",PT);async function PV(a,{blockHash:b,blockNumber:c,blockTag:d=a.experimental_blockTag??"latest",includeTransactions:e}={}){let f=e??!1,g=void 0!==c?(0,NE.numberToHex)(c):void 0,h=null;if(!(h=b?await a.request({method:"eth_getBlockByHash",params:[b,f]},{dedupe:!0}):await a.request({method:"eth_getBlockByNumber",params:[g||d,f]},{dedupe:!!g})))throw new PO({blockHash:b,blockNumber:c});return(a.chain?.formatters?.block?.format||PT)(h,"getBlock")}async function PW(a){return BigInt(await a.request({method:"eth_gasPrice"}))}async function PX(a,b){return PY(a,b)}async function PY(a,b){let{block:c,chain:d=a.chain,request:e}=b||{};try{let b=d?.fees?.maxPriorityFeePerGas??d?.fees?.defaultPriorityFee;if("function"==typeof b){let d=c||await Od(a,PV,"getBlock")({}),f=await b({block:d,client:a,request:e});if(null===f)throw Error();return f}if(void 0!==b)return b;let f=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,Ps.hexToBigInt)(f)}catch{let[b,d]=await Promise.all([c?Promise.resolve(c):Od(a,PV,"getBlock")({}),Od(a,PW,"getGasPrice")({})]);if("bigint"!=typeof b.baseFeePerGas)throw new PL;let e=d-b.baseFeePerGas;if(e<0n)return 0n;return e}}async function PZ(a,b){return P$(a,b)}async function P$(a,b){let{block:c,chain:d=a.chain,request:e,type:f="eip1559"}=b||{},g=await (async()=>"function"==typeof d?.fees?.baseFeeMultiplier?d.fees.baseFeeMultiplier({block:c,client:a,request:e}):d?.fees?.baseFeeMultiplier??1.2)();if(g<1)throw new PK;let h=g.toString().split(".")[1]?.length??0,i=10**h,j=a=>a*BigInt(Math.ceil(g*i))/BigInt(i),k=c||await Od(a,PV,"getBlock")({});if("function"==typeof d?.fees?.estimateFeesPerGas){let b=await d.fees.estimateFeesPerGas({block:c,client:a,multiply:j,request:e,type:f});if(null!==b)return b}if("eip1559"===f){if("bigint"!=typeof k.baseFeePerGas)throw new PL;let b="bigint"==typeof e?.maxPriorityFeePerGas?e.maxPriorityFeePerGas:await PY(a,{block:k,chain:d,request:e}),c=j(k.baseFeePerGas);return{maxFeePerGas:e?.maxFeePerGas??c+b,maxPriorityFeePerGas:b}}return{gasPrice:e?.gasPrice??j(await Od(a,PW,"getGasPrice")({}))}}async function P_(a,{address:b,blockTag:c="latest",blockNumber:d}){let e=await a.request({method:"eth_getTransactionCount",params:[b,"bigint"==typeof d?(0,NE.numberToHex)(d):c]},{dedupe:!!d});return(0,Ps.hexToNumber)(e)}function P0(a){let{kzg:b}=a,c=a.to??("string"==typeof a.blobs[0]?"hex":"bytes"),d="string"==typeof a.blobs[0]?a.blobs.map(a=>(0,NH.hexToBytes)(a)):a.blobs,e=[];for(let a of d)e.push(Uint8Array.from(b.blobToKzgCommitment(a)));return"bytes"===c?e:e.map(a=>(0,NE.bytesToHex)(a))}function P1(a){let{kzg:b}=a,c=a.to??("string"==typeof a.blobs[0]?"hex":"bytes"),d="string"==typeof a.blobs[0]?a.blobs.map(a=>(0,NH.hexToBytes)(a)):a.blobs,e="string"==typeof a.commitments[0]?a.commitments.map(a=>(0,NH.hexToBytes)(a)):a.commitments,f=[];for(let a=0;a<d.length;a++){let c=d[a],g=e[a];f.push(Uint8Array.from(b.computeBlobKzgProof(c,g)))}return"bytes"===c?f:f.map(a=>(0,NE.bytesToHex)(a))}var P2=a.i(89032);P2.SHA256;let P3=P2.sha256;function P4(a){let{commitments:b,version:c}=a,d=a.to??("string"==typeof b[0]?"hex":"bytes"),e=[];for(let a of b)e.push(function(a){let{commitment:b,version:c=1}=a,d=a.to??("string"==typeof b?"hex":"bytes"),e=P3((0,NJ.isHex)(b,{strict:!1})?(0,NH.toBytes)(b):b);return e.set([c],0),"bytes"===d?e:(0,NE.bytesToHex)(e)}({commitment:a,to:d,version:c}));return e}P2.SHA224,P2.sha224;var P5=N5;class P6 extends P5.BaseError{constructor({maxSize:a,size:b}){super("Blob size is too large.",{metaMessages:[`Max: ${a} bytes`,`Given: ${b} bytes`],name:"BlobSizeTooLargeError"})}}class P7 extends P5.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class P8 extends P5.BaseError{constructor({hash:a,size:b}){super(`Versioned hash "${a}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${b}`],name:"InvalidVersionedHashSizeError"})}}class P9 extends P5.BaseError{constructor({hash:a,version:b}){super(`Versioned hash "${a}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${b}`],name:"InvalidVersionedHashVersionError"})}}function Qa(a){let{data:b,kzg:c,to:d}=a,e=a.blobs??function(a){let b=a.to??("string"==typeof a.data?"hex":"bytes"),c="string"==typeof a.data?(0,NH.hexToBytes)(a.data):a.data,d=(0,Pr.size)(c);if(!d)throw new P7;if(d>761855)throw new P6({maxSize:761855,size:d});let e=[],f=!0,g=0;for(;f;){let a=(0,Pw.createCursor)(new Uint8Array(131072)),b=0;for(;b<4096;){let d=c.slice(g,g+31);if(a.pushByte(0),a.pushBytes(d),d.length<31){a.pushByte(128),f=!1;break}b++,g+=31}e.push(a)}return"bytes"===b?e.map(a=>a.bytes):e.map(a=>(0,NE.bytesToHex)(a.bytes))}({data:b,to:d}),f=a.commitments??P0({blobs:e,kzg:c,to:d}),g=a.proofs??P1({blobs:e,commitments:f,kzg:c,to:d}),h=[];for(let a=0;a<e.length;a++)h.push({blob:e[a],commitment:f[a],proof:g[a]});return h}var Qb=a.i(48767);function Qc(a){if(a.type)return a.type;if(void 0!==a.authorizationList)return"eip7702";if(void 0!==a.blobs||void 0!==a.blobVersionedHashes||void 0!==a.maxFeePerBlobGas||void 0!==a.sidecars)return"eip4844";if(void 0!==a.maxFeePerGas||void 0!==a.maxPriorityFeePerGas)return"eip1559";if(void 0!==a.gasPrice)return void 0!==a.accessList?"eip2930":"legacy";throw new PE.InvalidSerializableTransactionError({transaction:a})}function Qd(a,{docsPath:b,...c}){let d,e=(d=(0,PH.getNodeError)(a,c))instanceof PG.UnknownNodeError?a:d;return new PE.TransactionExecutionError(e,{docsPath:b,...c})}async function Qe(a){let b=await a.request({method:"eth_chainId"},{dedupe:!0});return(0,Ps.hexToNumber)(b)}async function Qf(a,b){let{account:c=a.account,accessList:d,authorizationList:e,chain:f=a.chain,blobVersionedHashes:g,blobs:h,data:i,gas:j,gasPrice:k,maxFeePerBlobGas:l,maxFeePerGas:m,maxPriorityFeePerGas:n,nonce:o,nonceManager:p,to:q,type:r,value:s,...t}=b,u=await (async()=>{if(!c||!p||void 0!==o)return o;let b=(0,NZ.parseAccount)(c),d=f?f.id:await Od(a,Qe,"getChainId")({});return await p.consume({address:b.address,chainId:d,client:a})})();(0,O9.assertRequest)(b);let v=f?.formatters?.transactionRequest?.format,w=(v||O8.formatTransactionRequest)({...(0,O7.extract)(t,{format:v}),account:c?(0,NZ.parseAccount)(c):void 0,accessList:d,authorizationList:e,blobs:h,blobVersionedHashes:g,data:i,gas:j,gasPrice:k,maxFeePerBlobGas:l,maxFeePerGas:m,maxPriorityFeePerGas:n,nonce:u,to:q,type:r,value:s},"fillTransaction");try{let c=await a.request({method:"eth_fillTransaction",params:[w]}),d=(f?.formatters?.transaction?.format||PR)(c.tx);delete d.blockHash,delete d.blockNumber,delete d.r,delete d.s,delete d.transactionIndex,delete d.v,delete d.yParity,d.data=d.input,d.gas&&(d.gas=b.gas??d.gas),d.gasPrice&&(d.gasPrice=b.gasPrice??d.gasPrice),d.maxFeePerBlobGas&&(d.maxFeePerBlobGas=b.maxFeePerBlobGas??d.maxFeePerBlobGas),d.maxFeePerGas&&(d.maxFeePerGas=b.maxFeePerGas??d.maxFeePerGas),d.maxPriorityFeePerGas&&(d.maxPriorityFeePerGas=b.maxPriorityFeePerGas??d.maxPriorityFeePerGas),d.nonce&&(d.nonce=b.nonce??d.nonce);let e=await (async()=>{if("function"==typeof f?.fees?.baseFeeMultiplier){let c=await Od(a,PV,"getBlock")({});return f.fees.baseFeeMultiplier({block:c,client:a,request:b})}return f?.fees?.baseFeeMultiplier??1.2})();if(e<1)throw new PK;let g=e.toString().split(".")[1]?.length??0,h=10**g,i=a=>a*BigInt(Math.ceil(e*h))/BigInt(h);return d.maxFeePerGas&&!b.maxFeePerGas&&(d.maxFeePerGas=i(d.maxFeePerGas)),d.gasPrice&&!b.gasPrice&&(d.gasPrice=i(d.gasPrice)),{raw:c.raw,transaction:{from:w.from,...d}}}catch(c){throw Qd(c,{...b,chain:a.chain})}}let Qg=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Qh=new Map,Qi=new Qb.LruMap(128);async function Qj(a,b){let c,d,e=b;e.account??=a.account,e.parameters??=Qg;let{account:f,chain:g=a.chain,nonceManager:h,parameters:i}=e,j="function"==typeof g?.prepareTransactionRequest?{fn:g.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(g?.prepareTransactionRequest)?{fn:g.prepareTransactionRequest[0],runAt:g.prepareTransactionRequest[1].runAt}:void 0;async function k(){return c?c:void 0!==e.chainId?e.chainId:g?g.id:c=await Od(a,Qe,"getChainId")({})}let l=f?(0,NZ.parseAccount)(f):f,m=e.nonce;if(i.includes("nonce")&&void 0===m&&l&&h){let b=await k();m=await h.consume({address:l.address,chainId:b,client:a})}j?.fn&&j.runAt?.includes("beforeFillTransaction")&&(e=await j.fn({...e,chain:g},{phase:"beforeFillTransaction"}),m??=e.nonce);let n=(!(i.includes("blobVersionedHashes")||i.includes("sidecars"))||!e.kzg||!e.blobs)&&!1!==Qi.get(a.uid)&&["fees","gas"].some(a=>i.includes(a))&&(i.includes("chainId")&&"number"!=typeof e.chainId||i.includes("nonce")&&"number"!=typeof m||i.includes("fees")&&"bigint"!=typeof e.gasPrice&&("bigint"!=typeof e.maxFeePerGas||"bigint"!=typeof e.maxPriorityFeePerGas)||i.includes("gas")&&"bigint"!=typeof e.gas)?await Od(a,Qf,"fillTransaction")({...e,nonce:m}).then(b=>{let{chainId:c,from:d,gas:f,gasPrice:g,nonce:h,maxFeePerBlobGas:i,maxFeePerGas:j,maxPriorityFeePerGas:k,type:l,...m}=b.transaction;return Qi.set(a.uid,!0),{...e,...d?{from:d}:{},...l?{type:l}:{},...void 0!==c?{chainId:c}:{},...void 0!==f?{gas:f}:{},...void 0!==g?{gasPrice:g}:{},...void 0!==h?{nonce:h}:{},...void 0!==i?{maxFeePerBlobGas:i}:{},...void 0!==j?{maxFeePerGas:j}:{},...void 0!==k?{maxPriorityFeePerGas:k}:{},..."nonceKey"in m&&void 0!==m.nonceKey?{nonceKey:m.nonceKey}:{}}}).catch(b=>("TransactionExecutionError"!==b.name||b.walk?.(a=>"MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name)&&Qi.set(a.uid,!1),e)):e;m??=n.nonce;let{blobs:o,gas:p,kzg:q,type:r}=e={...n,...l?{from:l?.address}:{},...m?{nonce:m}:{}};async function s(){return d||(d=await Od(a,PV,"getBlock")({blockTag:"latest"}))}if(j?.fn&&j.runAt?.includes("beforeFillParameters")&&(e=await j.fn({...e,chain:g},{phase:"beforeFillParameters"})),i.includes("nonce")&&void 0===m&&l&&!h&&(e.nonce=await Od(a,P_,"getTransactionCount")({address:l.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&o&&q){let a=P0({blobs:o,kzg:q});if(i.includes("blobVersionedHashes")){let b=P4({commitments:a,to:"hex"});e.blobVersionedHashes=b}if(i.includes("sidecars")){let b=P1({blobs:o,commitments:a,kzg:q}),c=Qa({blobs:o,commitments:a,proofs:b,to:"hex"});e.sidecars=c}}if(i.includes("chainId")&&(e.chainId=await k()),(i.includes("fees")||i.includes("type"))&&void 0===r)try{e.type=Qc(e)}catch{let b=Qh.get(a.uid);if(void 0===b){let c=await s();b="bigint"==typeof c?.baseFeePerGas,Qh.set(a.uid,b)}e.type=b?"eip1559":"legacy"}if(i.includes("fees"))if("legacy"!==e.type&&"eip2930"!==e.type){if(void 0===e.maxFeePerGas||void 0===e.maxPriorityFeePerGas){let b=await s(),{maxFeePerGas:c,maxPriorityFeePerGas:d}=await P$(a,{block:b,chain:g,request:e});if(void 0===e.maxPriorityFeePerGas&&e.maxFeePerGas&&e.maxFeePerGas<d)throw new PM({maxPriorityFeePerGas:d});e.maxPriorityFeePerGas=d,e.maxFeePerGas=c}}else{if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)throw new PL;if(void 0===e.gasPrice){let b=await s(),{gasPrice:c}=await P$(a,{block:b,chain:g,request:e,type:"legacy"});e.gasPrice=c}}return i.includes("gas")&&void 0===p&&(e.gas=await Od(a,Qk,"estimateGas")({...e,account:l,prepare:l?.type==="local"?[]:["blobVersionedHashes"]})),j?.fn&&j.runAt?.includes("afterFillParameters")&&(e=await j.fn({...e,chain:g},{phase:"afterFillParameters"})),(0,O9.assertRequest)(e),delete e.parameters,e}async function Qk(a,b){let{account:c=a.account,prepare:d=!0}=b,e=c?(0,NZ.parseAccount)(c):void 0,f=Array.isArray(d)?d:e?.type!=="local"?["blobVersionedHashes"]:void 0;try{let c=await (async()=>b.to?b.to:b.authorizationList&&b.authorizationList.length>0?await PA({authorization:b.authorizationList[0]}).catch(()=>{throw new N5.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:g,authorizationList:h,blobs:i,blobVersionedHashes:j,blockNumber:k,blockTag:l,data:m,gas:n,gasPrice:o,maxFeePerBlobGas:p,maxFeePerGas:q,maxPriorityFeePerGas:r,nonce:s,value:t,stateOverride:u,...v}=d?await Qj(a,{...b,parameters:f,to:c}):b;if(n&&b.gas!==n)return n;let w=("bigint"==typeof k?(0,NE.numberToHex)(k):void 0)||l,x=(0,PI.serializeStateOverride)(u);(0,O9.assertRequest)(b);let y=a.chain?.formatters?.transactionRequest?.format,z=(y||O8.formatTransactionRequest)({...(0,O7.extract)(v,{format:y}),account:e,accessList:g,authorizationList:h,blobs:i,blobVersionedHashes:j,data:m,gasPrice:o,maxFeePerBlobGas:p,maxFeePerGas:q,maxPriorityFeePerGas:r,nonce:s,to:c,value:t},"estimateGas");return BigInt(await a.request({method:"eth_estimateGas",params:x?[z,w??a.experimental_blockTag??"latest",x]:w?[z,w]:[z]}))}catch(c){throw function(a,{docsPath:b,...c}){let d;return new PF((d=(0,PH.getNodeError)(a,c))instanceof PG.UnknownNodeError?a:d,{docsPath:b,...c})}(c,{...b,account:e,chain:a.chain})}}async function Ql(a,b){let{abi:c,address:d,args:e,functionName:f,dataSuffix:g,...h}=b,i=(0,N2.encodeFunctionData)({abi:c,args:e,functionName:f});try{return await Od(a,Qk,"estimateGas")({data:`${i}${g?g.replace("0x",""):""}`,to:d,...h})}catch(b){let a=h.account?(0,NZ.parseAccount)(h.account):void 0;throw OI(b,{abi:c,address:d,args:e,docsPath:"/docs/contract/estimateContractGas",functionName:f,sender:a?.address})}}async function Qm(a,{address:b,blockNumber:c,blockTag:d=a.experimental_blockTag??"latest"}){let e="bigint"==typeof c?(0,NE.numberToHex)(c):void 0;return BigInt(await a.request({method:"eth_getBalance",params:[b,e||d]}))}async function Qn(a){return BigInt(await a.request({method:"eth_blobBaseFee"}))}let Qo=new Map,Qp=new Map;async function Qq(a,{cacheKey:b,cacheTime:c=1/0}){let d,e,f,g=(e=(d=(a,b)=>({clear:()=>b.delete(a),get:()=>b.get(a),set:c=>b.set(a,c)}))(b,Qo),{clear:()=>{e.clear(),f.clear()},promise:e,response:f=d(b,Qp)}),h=g.response.get();if(h&&c>0&&Date.now()-h.created.getTime()<c)return h.data;let i=g.promise.get();i||(i=a(),g.promise.set(i));try{let a=await i;return g.response.set({created:new Date,data:a}),a}finally{g.promise.clear()}}async function Qr(a,{cacheTime:b=a.cacheTime}={}){let c;return BigInt(await Qq(()=>a.request({method:"eth_blockNumber"}),{cacheKey:(c=a.uid,`blockNumber.${c}`),cacheTime:b}))}async function Qs(a,{blockHash:b,blockNumber:c,blockTag:d="latest"}={}){let e,f=void 0!==c?(0,NE.numberToHex)(c):void 0;return e=b?await a.request({method:"eth_getBlockTransactionCountByHash",params:[b]},{dedupe:!0}):await a.request({method:"eth_getBlockTransactionCountByNumber",params:[f||d]},{dedupe:!!f}),(0,Ps.hexToNumber)(e)}async function Qt(a,{address:b,blockNumber:c,blockTag:d="latest"}){let e=void 0!==c?(0,NE.numberToHex)(c):void 0,f=await a.request({method:"eth_getCode",params:[b,e||d]},{dedupe:!!e});if("0x"!==f)return f}var Qu=a.i(84095),Qv=a.i(48949),Qw=a.i(17400);let Qx="/docs/contract/decodeEventLog";function Qy(a){let{abi:b,data:c,strict:d,topics:e}=a,f=d??!0,[g,...h]=e;if(!g)throw new Nz.AbiEventSignatureEmptyTopicsError({docsPath:Qx});let i=b.find(a=>"event"===a.type&&g===(0,Pf.toEventSelector)((0,Ph.formatAbiItem)(a)));if(!(i&&"name"in i)||"event"!==i.type)throw new Nz.AbiEventSignatureNotFoundError(g,{docsPath:Qx});let{name:j,inputs:k}=i,l=k?.some(a=>!("name"in a&&a.name)),m=l?[]:{},n=k.map((a,b)=>[a,b]).filter(([a])=>"indexed"in a&&a.indexed),o=[];for(let a=0;a<n.length;a++){let[b,c]=n[a],d=h[a];if(!d){if(f)throw new Nz.DecodeLogTopicsMismatch({abiItem:i,param:b});o.push([b,c]);continue}m[l?c:b.name||c]=function({param:a,value:b}){return"string"===a.type||"bytes"===a.type||"tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/)?b:((0,Qw.decodeAbiParameters)([a],b)||[])[0]}({param:b,value:d})}let p=k.filter(a=>!("indexed"in a&&a.indexed)),q=f?p:[...o.map(([a])=>a),...p];if(q.length>0){if(c&&"0x"!==c)try{let a=(0,Qw.decodeAbiParameters)(q,c);if(a){let b=0;if(!f)for(let[c,d]of o)m[l?d:c.name||d]=a[b++];if(l)for(let c=0;c<k.length;c++)void 0===m[c]&&b<a.length&&(m[c]=a[b++]);else for(let c=0;c<p.length;c++)m[p[c].name]=a[b++]}}catch(a){if(f){if(a instanceof Nz.AbiDecodingDataSizeTooSmallError||a instanceof Qv.PositionOutOfBoundsError)throw new Nz.DecodeLogDataMismatch({abiItem:i,data:c,params:q,size:(0,Pr.size)(c)});throw a}}else if(f)throw new Nz.DecodeLogDataMismatch({abiItem:i,data:"0x",params:q,size:0})}return{eventName:j,args:Object.values(m).length>0?m:void 0}}function Qz(a){let{abi:b,args:c,logs:d,strict:e=!0}=a,f=(()=>{if(a.eventName)return Array.isArray(a.eventName)?a.eventName:[a.eventName]})();return d.map(a=>{let d,g,h=b.filter(b=>"event"===b.type&&a.topics[0]===(0,Pf.toEventSelector)(b));if(0===h.length)return null;for(let b of h)try{d=Qy({...a,abi:[b],strict:!0}),g=b;break}catch{}if(!d&&!e){g=h[0];try{d=Qy({...a,abi:[g],strict:!1})}catch{let b=g.inputs?.some(a=>!("name"in a&&a.name));return{...a,args:b?[]:{},eventName:g.name}}}return d&&g&&(!f||f.includes(d.eventName))&&function(a){let{args:b,inputs:c,matchArgs:d}=a;if(!d)return!0;if(!b)return!1;function e(a,b,c){try{if("address"===a.type)return(0,Qu.isAddressEqual)(b,c);if("string"===a.type||"bytes"===a.type)return(0,N9.keccak256)((0,NH.toBytes)(b))===c;return b===c}catch{return!1}}return Array.isArray(b)&&Array.isArray(d)?d.every((a,d)=>{if(null==a)return!0;let f=c[d];return!!f&&(Array.isArray(a)?a:[a]).some(a=>e(f,a,b[d]))}):!("object"!=typeof b||Array.isArray(b)||"object"!=typeof d||Array.isArray(d))&&Object.entries(d).every(([a,d])=>{if(null==d)return!0;let f=c.find(b=>b.name===a);return!!f&&(Array.isArray(d)?d:[d]).some(c=>e(f,c,b[a]))})}({args:d.args,inputs:g.inputs,matchArgs:c})?{...d,...a}:null}).filter(Boolean)}function QA(a,{args:b,eventName:c}={}){return{...a,blockHash:a.blockHash?a.blockHash:null,blockNumber:a.blockNumber?BigInt(a.blockNumber):null,blockTimestamp:a.blockTimestamp?BigInt(a.blockTimestamp):null===a.blockTimestamp?null:void 0,logIndex:a.logIndex?Number(a.logIndex):null,transactionHash:a.transactionHash?a.transactionHash:null,transactionIndex:a.transactionIndex?Number(a.transactionIndex):null,...c?{args:b,eventName:c}:{}}}async function QB(a,{address:b,blockHash:c,fromBlock:d,toBlock:e,event:f,events:g,args:h,strict:i}={}){let j=g??(f?[f]:void 0),k=[];j&&(k=[j.flatMap(a=>Pk({abi:[a],eventName:a.name,args:g?void 0:h}))],f&&(k=k[0]));let l=(c?await a.request({method:"eth_getLogs",params:[{address:b,topics:k,blockHash:c}]}):await a.request({method:"eth_getLogs",params:[{address:b,topics:k,fromBlock:"bigint"==typeof d?(0,NE.numberToHex)(d):d,toBlock:"bigint"==typeof e?(0,NE.numberToHex)(e):e}]})).map(a=>QA(a));return j?Qz({abi:j,args:h,logs:l,strict:i??!1}):l}async function QC(a,b){let{abi:c,address:d,args:e,blockHash:f,eventName:g,fromBlock:h,toBlock:i,strict:j}=b,k=g?(0,Pi.getAbiItem)({abi:c,name:g}):void 0,l=k?void 0:c.filter(a=>"event"===a.type);return Od(a,QB,"getLogs")({address:d,args:e,blockHash:f,event:k,events:l,fromBlock:h,toBlock:i,strict:j})}var QD=N5;class QE extends QD.BaseError{constructor({address:a}){super(`No EIP-712 domain found on contract "${a}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${a}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function QF(a,b){let{address:c,factory:d,factoryData:e}=b;try{let[b,f,g,h,i,j,k]=await Od(a,OK,"readContract")({abi:QG,address:c,functionName:"eip712Domain",factory:d,factoryData:e});return{domain:{name:f,version:g,chainId:Number(h),verifyingContract:i,salt:j},extensions:k,fields:b}}catch(a){if("ContractFunctionExecutionError"===a.name&&"ContractFunctionZeroDataError"===a.cause.name)throw new QE({address:c});throw a}}let QG=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function QH(a,{blockCount:b,blockNumber:c,blockTag:d="latest",rewardPercentiles:e}){var f;let g="bigint"==typeof c?(0,NE.numberToHex)(c):void 0;return{baseFeePerGas:(f=await a.request({method:"eth_feeHistory",params:[(0,NE.numberToHex)(b),g||d,e]},{dedupe:!!g})).baseFeePerGas.map(a=>BigInt(a)),gasUsedRatio:f.gasUsedRatio,oldestBlock:BigInt(f.oldestBlock),reward:f.reward?.map(a=>a.map(a=>BigInt(a)))}}async function QI(a,{filter:b}){let c="strict"in b&&b.strict,d=await b.request({method:"eth_getFilterChanges",params:[b.id]});if("string"==typeof d[0])return d;let e=d.map(a=>QA(a));return"abi"in b&&b.abi?Qz({abi:b.abi,logs:e,strict:c}):e}async function QJ(a,{filter:b}){let c=b.strict??!1,d=(await b.request({method:"eth_getFilterLogs",params:[b.id]})).map(a=>QA(a));return b.abi?Qz({abi:b.abi,logs:d,strict:c}):d}async function QK(a,{address:b,blockNumber:c,blockTag:d,storageKeys:e}){let f=void 0!==c?(0,NE.numberToHex)(c):void 0;var g=await a.request({method:"eth_getProof",params:[b,e,f||(d??"latest")]});return{...g,balance:g.balance?BigInt(g.balance):void 0,nonce:g.nonce?(0,Ps.hexToNumber)(g.nonce):void 0,storageProof:g.storageProof?g.storageProof.map(a=>({...a,value:BigInt(a.value)})):void 0}}async function QL(a,{address:b,blockNumber:c,blockTag:d="latest",slot:e}){let f=void 0!==c?(0,NE.numberToHex)(c):void 0;return await a.request({method:"eth_getStorageAt",params:[b,e,f||d]})}async function QM(a,{blockHash:b,blockNumber:c,blockTag:d,hash:e,index:f,sender:g,nonce:h}){let i=d||"latest",j=void 0!==c?(0,NE.numberToHex)(c):void 0,k=null;if(e?k=await a.request({method:"eth_getTransactionByHash",params:[e]},{dedupe:!0}):b?k=await a.request({method:"eth_getTransactionByBlockHashAndIndex",params:[b,(0,NE.numberToHex)(f)]},{dedupe:!0}):(j||i)&&"number"==typeof f?k=await a.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[j||i,(0,NE.numberToHex)(f)]},{dedupe:!!j}):g&&"number"==typeof h&&(k=await a.request({method:"eth_getTransactionBySenderAndNonce",params:[g,(0,NE.numberToHex)(h)]},{dedupe:!0})),!k)throw new PE.TransactionNotFoundError({blockHash:b,blockNumber:c,blockTag:i,hash:e,index:f});return(a.chain?.formatters?.transaction?.format||PR)(k,"getTransaction")}async function QN(a,{hash:b,transactionReceipt:c}){let[d,e]=await Promise.all([Od(a,Qr,"getBlockNumber")({}),b?Od(a,QM,"getTransaction")({hash:b}):void 0]),f=c?.blockNumber||e?.blockNumber;return f?d-f+1n:0n}let QO={"0x0":"reverted","0x1":"success"};function QP(a,b){let c={...a,blockNumber:a.blockNumber?BigInt(a.blockNumber):null,contractAddress:a.contractAddress?a.contractAddress:null,cumulativeGasUsed:a.cumulativeGasUsed?BigInt(a.cumulativeGasUsed):null,effectiveGasPrice:a.effectiveGasPrice?BigInt(a.effectiveGasPrice):null,gasUsed:a.gasUsed?BigInt(a.gasUsed):null,logs:a.logs?a.logs.map(a=>QA(a)):null,to:a.to?a.to:null,transactionIndex:a.transactionIndex?(0,Ps.hexToNumber)(a.transactionIndex):null,status:a.status?QO[a.status]:null,type:a.type?PQ[a.type]||a.type:null};return a.blobGasPrice&&(c.blobGasPrice=BigInt(a.blobGasPrice)),a.blobGasUsed&&(c.blobGasUsed=BigInt(a.blobGasUsed)),c}let QQ=(0,PP.defineFormatter)("transactionReceipt",QP);async function QR(a,{hash:b}){let c=await a.request({method:"eth_getTransactionReceipt",params:[b]},{dedupe:!0});if(!c)throw new PE.TransactionReceiptNotFoundError({hash:b});return(a.chain?.formatters?.transactionReceipt?.format||QP)(c,"getTransactionReceipt")}var QS=a.i(6966);async function QT(a,b){let{account:c,authorizationList:d,allowFailure:e=!0,blockNumber:f,blockOverrides:g,blockTag:h,stateOverride:i}=b,j=b.contracts,{batchSize:k=b.batchSize??1024,deployless:l=b.deployless??!1}="object"==typeof a.batch?.multicall?a.batch.multicall:{},m=(()=>{if(b.multicallAddress)return b.multicallAddress;if(l)return null;if(a.chain)return(0,N3.getChainContractAddress)({blockNumber:f,chain:a.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),n=[[]],o=0,p=0;for(let a=0;a<j.length;a++){let{abi:b,address:d,args:f,functionName:g}=j[a];try{let a=(0,N2.encodeFunctionData)({abi:b,args:f,functionName:g});p+=(a.length-2)/2,k>0&&p>k&&n[o].length>0&&(o++,p=(a.length-2)/2,n[o]=[]),n[o]=[...n[o],{allowFailure:!0,callData:a,target:d}]}catch(h){let a=OI(h,{abi:b,address:d,args:f,docsPath:"/docs/contract/multicall",functionName:g,sender:c});if(!e)throw a;n[o]=[...n[o],{allowFailure:!0,callData:"0x",target:d}]}}let q=await Promise.allSettled(n.map(b=>Od(a,OK,"readContract")({...null===m?{code:QS.multicall3Bytecode}:{address:m},abi:N0.multicall3Abi,account:c,args:[b],authorizationList:d,blockNumber:f,blockOverrides:g,blockTag:h,functionName:"aggregate3",stateOverride:i}))),r=[];for(let a=0;a<q.length;a++){let b=q[a];if("rejected"===b.status){if(!e)throw b.reason;for(let c=0;c<n[a].length;c++)r.push({status:"failure",error:b.reason,result:void 0});continue}let c=b.value;for(let b=0;b<c.length;b++){let{returnData:d,success:f}=c[b],{callData:g}=n[a][b],{abi:h,address:i,functionName:k,args:l}=j[r.length];try{if("0x"===g)throw new Nz.AbiDecodingZeroDataError;if(!f)throw new N6.RawContractError({data:d});let a=(0,N1.decodeFunctionResult)({abi:h,args:l,data:d,functionName:k});r.push(e?{result:a,status:"success"}:a)}catch(b){let a=OI(b,{abi:h,address:i,args:l,docsPath:"/docs/contract/multicall",functionName:k});if(!e)throw a;r.push({error:a,result:void 0,status:"failure"})}}}if(r.length!==j.length)throw new N5.BaseError("multicall results mismatch");return r}var QU=a.i(48979);async function QV(a,b){let{blockNumber:c,blockTag:d=a.experimental_blockTag??"latest",blocks:e,returnFullTransactions:f,traceTransfers:g,validation:h}=b;try{let b=[];for(let a of e){let c=a.blockOverrides?QU.toRpc(a.blockOverrides):void 0,d=a.calls.map(a=>{let b=a.account?(0,NZ.parseAccount)(a.account):void 0,c=a.abi?(0,N2.encodeFunctionData)(a):a.data,d={...a,account:b,data:a.dataSuffix?(0,NC.concat)([c||"0x",a.dataSuffix]):c,from:a.from??b?.address};return(0,O9.assertRequest)(d),(0,O8.formatTransactionRequest)(d)}),e=a.stateOverrides?(0,PI.serializeStateOverride)(a.stateOverrides):void 0;b.push({blockOverrides:c,calls:d,stateOverrides:e})}let i="bigint"==typeof c?(0,NE.numberToHex)(c):void 0;return(await a.request({method:"eth_simulateV1",params:[{blockStateCalls:b,returnFullTransactions:f,traceTransfers:g,validation:h},i||d]})).map((a,b)=>({...PT(a),calls:a.calls.map((a,c)=>{let{abi:d,args:f,functionName:g,to:h}=e[b].calls[c],i=a.error?.data??a.returnData,j=BigInt(a.gasUsed),k=a.logs?.map(a=>QA(a)),l="0x1"===a.status?"success":"failure",m=d&&"success"===l&&"0x"!==i?(0,N1.decodeFunctionResult)({abi:d,data:i,functionName:g}):null,n=(()=>{let b;if("success"!==l&&(a.error?.data==="0x"?b=new Nz.AbiDecodingZeroDataError:a.error&&(b=new N6.RawContractError(a.error)),b))return OI(b,{abi:d??[],address:h??"0x",args:f,functionName:g??"<unknown>"})})();return{data:i,gasUsed:j,logs:k,status:l,..."success"===l?{result:m}:{error:n}}})}))}catch(b){let a=(0,PH.getNodeError)(b,{});if(a instanceof PG.UnknownNodeError)throw b;throw a}}var QW=a.i(15119),QX=a.i(94612),QY=a.i(35104),QZ=a.i(79570),Q$=a.i(84069),Q_=a.i(67001),Q0=a.i(47669),Q1=Q_,Q2=a.i(64458);function Q3(a,b){if(Rb(a)>b)throw new Rg({givenSize:Rb(a),maxSize:b})}function Q4(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function Q5(a,b={}){let{dir:c="left"}=b,d=a,e=0;for(let a=0;a<d.length-1;a++)if("0"===d["left"===c?a:d.length-a-1].toString())e++;else break;return"left"===c?d.slice(e):d.slice(0,d.length-e)}var Q6=a.i(28064),Q7=a.i(66555);let Q8=new TextDecoder,Q9=new TextEncoder;function Ra(a,b={}){let{size:c}=b,d=a;c&&(Q6.assertSize(a,c),d=Q2.padRight(a,c));let e=d.slice(2);e.length%2&&(e=`0${e}`);let f=e.length/2,g=new Uint8Array(f);for(let a=0,b=0;a<f;a++){let c=Q4(e.charCodeAt(b++)),d=Q4(e.charCodeAt(b++));if(void 0===c||void 0===d)throw new Q1.BaseError(`Invalid byte sequence ("${e[b-2]}${e[b-1]}" in "${e}").`);g[a]=c<<4|d}return g}function Rb(a){return a.length}function Rc(a,b={}){let{size:c}=b;void 0!==c&&Q3(a,c);let d=Q2.fromBytes(a,b);return Q2.toNumber(d,b)}function Rd(a){return Q5(a,{dir:"left"})}class Re extends Q1.BaseError{constructor(a){super(`Bytes value \`${a}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class Rf extends Q1.BaseError{constructor(a){super(`Value \`${"object"==typeof a?Q7.stringify(a):a}\` of type \`${typeof a}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Rg extends Q1.BaseError{constructor({givenSize:a,maxSize:b}){super(`Size cannot exceed \`${b}\` bytes. Given size: \`${a}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Rh extends Q1.BaseError{constructor({offset:a,position:b,size:c}){super(`Slice ${"start"===b?"starting":"ending"} at offset \`${a}\` is out-of-bounds (size: \`${c}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class Ri extends Q1.BaseError{constructor({size:a,targetSize:b,type:c}){super(`${c.charAt(0).toUpperCase()}${c.slice(1).toLowerCase()} size (\`${a}\`) exceeds padding size (\`${b}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function Rj(a,b={}){var c;let{as:d="string"==typeof a?"Hex":"Bytes"}=b,e=(0,Q0.keccak_256)(a instanceof Uint8Array?a:"string"==typeof a?Ra(a):(c=a)instanceof Uint8Array?c:new Uint8Array(c));return"Bytes"===d?e:Q2.fromBytes(e)}class Rk extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let Rl={checksum:new Rk(8192)}.checksum;var Rm=Q_,Rn=Q_;function Ro(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new Rr({prefix:d,cause:new Rt});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new Rr({prefix:d,cause:new Rs});return}throw new Rq({publicKey:a})}function Rp(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new Ru({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(Q2.slice(a,0,32)),y:BigInt(Q2.slice(a,32,64))};if(132===a.length){let b=Number(Q2.slice(a,0,1));return{prefix:b,x:BigInt(Q2.slice(a,1,33)),y:BigInt(Q2.slice(a,33,65))}}return{prefix:Number(Q2.slice(a,0,1)),x:BigInt(Q2.slice(a,1,33))}}class Rq extends Rn.BaseError{constructor({publicKey:a}){super(`Value \`${Q7.stringify(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Rr extends Rn.BaseError{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Rs extends Rn.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Rt extends Rn.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class Ru extends Rn.BaseError{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Q2.size(Q2.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let Rv=/^0x[a-fA-F0-9]{40}$/;function Rw(a,b={}){let{strict:c=!0}=b;if(!Rv.test(a))throw new Rz({address:a,cause:new RA});if(c){if(a.toLowerCase()===a)return;if(Rx(a)!==a)throw new Rz({address:a,cause:new RB})}}function Rx(a){if(Rl.has(a))return Rl.get(a);Rw(a,{strict:!1});let b=a.substring(2).toLowerCase(),c=Rj(function(a,b={}){let{size:c}=b,d=Q9.encode(a);return"number"==typeof c?(Q3(d,c),function(a,b={}){let{dir:c,size:d=32}=b;if(0===d)return a;if(a.length>d)throw new Ri({size:a.length,targetSize:d,type:"Bytes"});let e=new Uint8Array(d);for(let b=0;b<d;b++){let f="right"===c;e[f?b:d-b-1]=a[f?b:a.length-b-1]}return e}(d,{dir:"right",size:c})):d}(b),{as:"Bytes"}),d=b.split("");for(let a=0;a<40;a+=2)c[a>>1]>>4>=8&&d[a]&&(d[a]=d[a].toUpperCase()),(15&c[a>>1])>=8&&d[a+1]&&(d[a+1]=d[a+1].toUpperCase());let e=`0x${d.join("")}`;return Rl.set(a,e),e}function Ry(a,b={}){let{strict:c=!0}=b??{};try{return Rw(a,{strict:c}),!0}catch{return!1}}class Rz extends Rm.BaseError{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class RA extends Rm.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class RB extends Rm.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function RC(a){let b=!0,c="",d=0,e="",f=!1;for(let g=0;g<a.length;g++){let h=a[g];if(["(",")",","].includes(h)&&(b=!0),"("===h&&d++,")"===h&&d--,b){if(0===d){if(" "===h&&["event","function","error",""].includes(e))e="";else if(e+=h,")"===h){f=!0;break}continue}if(" "===h){","!==a[g-1]&&","!==c&&",("!==c&&(c="",b=!1);continue}e+=h,c+=h}}if(!f)throw new Q_.BaseError("Unable to normalize signature.");return e}function RD(a,b={}){let{prepare:c=!0}=b,d=Array.isArray(a)||"string"==typeof a?function(a){let b;if("string"==typeof a)b=(0,Q$.parseSignature)(a);else{let c=(0,QZ.parseStructs)(a),d=a.length;for(let e=0;e<d;e++){let d=a[e];if(!(0,QY.isStructSignature)(d)){b=(0,Q$.parseSignature)(d,c);break}}}if(!b)throw new QX.InvalidAbiItemError({signature:a});return b}(a):a;return{...d,...c?{hash:RG(d)}:{}}}function RE(a,b,c){let d,{args:e=[],prepare:f=!0}=c??{},g=Q2.validate(b,{strict:!1}),h=a.filter(a=>g?"function"===a.type||"error"===a.type?RF(a)===Q2.slice(b,0,4):"event"===a.type&&RG(a)===b:"name"in a&&a.name===b);if(0===h.length)throw new RI({name:b});if(1===h.length)return{...h[0],...f?{hash:RG(h[0])}:{}};for(let a of h){if("inputs"in a){if(!e||0===e.length){if(!a.inputs||0===a.inputs.length)return{...a,...f?{hash:RG(a)}:{}};continue}if(a.inputs&&0!==a.inputs.length&&a.inputs.length===e.length&&e.every((b,c)=>{let d="inputs"in a&&a.inputs[c];return!!d&&function a(b,c){let d=typeof b,e=c.type;switch(e){case"address":return Ry(b,{strict:!1});case"bool":return"boolean"===d;case"function":case"string":return"string"===d;default:if("tuple"===e&&"components"in c)return Object.values(c.components).every((c,d)=>a(Object.values(b)[d],c));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e))return"number"===d||"bigint"===d;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(e))return"string"===d||b instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(e))return Array.isArray(b)&&b.every(b=>a(b,{...c,type:e.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(b,d)})){if(d&&"inputs"in d&&d.inputs){let b=function a(b,c,d){for(let e in b){let f=b[e],g=c[e];if("tuple"===f.type&&"tuple"===g.type&&"components"in f&&"components"in g)return a(f.components,g.components,d[e]);let h=[f.type,g.type];if(h.includes("address")&&h.includes("bytes20")||(h.includes("address")&&h.includes("string")||h.includes("address")&&h.includes("bytes"))&&Ry(d[e],{strict:!1}))return h}}(a.inputs,d.inputs,e);if(b)throw new RH({abiItem:a,type:b[0]},{abiItem:d,type:b[1]})}d=a}}}let i=(()=>{if(d)return d;let[a,...b]=h;return{...a,overloads:b}})();if(!i)throw new RI({name:b});return{...i,...f?{hash:RG(i)}:{}}}function RF(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return RE(b,c)}return a[0]})();return Q2.slice(RG(b),0,4)}function RG(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return RE(b,c)}return a[0]})();return"string"!=typeof b&&"hash"in b&&b.hash?b.hash:Rj(Q2.fromString(function(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return RE(b,c)}return a[0]})();return RC("string"==typeof b?b:QW.formatAbiItem(b))}(b)))}class RH extends Q_.BaseError{constructor(a,b){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${a.type}\` in \`${RC(QW.formatAbiItem(a.abiItem))}\`, and`,`\`${b.type}\` in \`${RC(QW.formatAbiItem(b.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class RI extends Q_.BaseError{constructor({name:a,data:b,type:c="item"}){super(`ABI ${c}${a?` with name "${a}"`:b?` with data "${b}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}Q_.BaseError;var RJ=a.i(14478),RK=a.i(54471),RL=Q_;let RM=/^(.*)\[([0-9]*)\]$/,RN=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,RO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,RP=2n**256n-1n;function RQ(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:d,encoded:e}=a[c];d?b+=32:b+=Q2.size(e)}let c=[],d=[],e=0;for(let f=0;f<a.length;f++){let{dynamic:g,encoded:h}=a[f];g?(c.push(Q2.fromNumber(b+e,{size:32})),d.push(h),e+=Q2.size(h)):c.push(h)}return Q2.concat(...c,...d)}function RR(a){let b=a.match(/^(.*)\[(\d+)?\]$/);return b?[b[2]?Number(b[2]):null,b[1]]:void 0}function RS(a){let{type:b}=a;if("string"===b||"bytes"===b||b.endsWith("[]"))return!0;if("tuple"===b)return a.components?.some(RS);let c=RR(a.type);return!!(c&&RS({...a,type:c[1]}))}var RT=Q_;let RU={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RY({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new RX({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new RW({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new RW({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};function RV(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(RU);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}class RW extends RT.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class RX extends RT.BaseError{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class RY extends RT.BaseError{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function RZ(a,b,c={}){let{as:d="Array",checksumAddress:e=!1}=c,f="string"==typeof b?Ra(b):b,g=RV(f);if(0===Rb(f)&&a.length>0)throw new R2;if(Rb(f)&&32>Rb(f))throw new R1({data:"string"==typeof b?b:Q2.fromBytes(b),parameters:a,size:Rb(f)});let h=0,i="Array"===d?[]:{};for(let b=0;b<a.length;++b){let c=a[b];g.setPosition(h);let[f,j]=function a(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=RR(c.type);if(g){let[d,h]=g;return function(b,c,d){let{checksumAddress:e,length:f,staticPosition:g}=d;if(!f){let d=g+Rc(b.readBytes(32)),f=d+32;b.setPosition(d);let h=Rc(b.readBytes(32)),i=RS(c),j=0,k=[];for(let d=0;d<h;++d){b.setPosition(f+(i?32*d:j));let[g,h]=a(b,c,{checksumAddress:e,staticPosition:f});j+=h,k.push(g)}return b.setPosition(g+32),[k,32]}if(RS(c)){let d=g+Rc(b.readBytes(32)),h=[];for(let g=0;g<f;++g){b.setPosition(d+32*g);let[f]=a(b,c,{checksumAddress:e,staticPosition:d});h.push(f)}return b.setPosition(g+32),[h,32]}let h=0,i=[];for(let d=0;d<f;++d){let[d,f]=a(b,c,{checksumAddress:e,staticPosition:g+h});h+=f,i.push(d)}return[i,h]}(b,{...c,type:h},{checksumAddress:e,length:d,staticPosition:f})}if("tuple"===c.type)return function(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=0===c.components.length||c.components.some(({name:a})=>!a),h=g?[]:{},i=0;if(RS(c)){let d=f+Rc(b.readBytes(32));for(let f=0;f<c.components.length;++f){let j=c.components[f];b.setPosition(d+i);let[k,l]=a(b,j,{checksumAddress:e,staticPosition:d});i+=l,h[g?f:j?.name]=k}return b.setPosition(f+32),[h,32]}for(let d=0;d<c.components.length;++d){let j=c.components[d],[k,l]=a(b,j,{checksumAddress:e,staticPosition:f});h[g?d:j?.name]=k,i+=l}return[h,i]}(b,c,{checksumAddress:e,staticPosition:f});if("address"===c.type)return function(a,b={}){let c,{checksum:d=!1}=b,e=a.readBytes(32);return[(c=Q2.fromBytes(function(a,b,c,d={}){let{strict:e}=d;!1;let f=a.slice(-20,void 0);return e&&function(a,b,c){if("number"==typeof c&&Rb(a)!==c- -20)throw new Rh({offset:c,position:"end",size:Rb(a)})}(f,0,void 0),f}(e,0)),d?Rx(c):c),32]}(b,{checksum:e});if("bool"===c.type)return[function(a,b={}){let{size:c}=b,d=a;if(void 0!==c&&(Q3(d,c),d=Rd(d)),d.length>1||d[0]>1)throw new Re(d);return!!d[0]}(b.readBytes(32),{size:32}),32];if(c.type.startsWith("bytes"))return function(a,b,{staticPosition:c}){let[d,e]=b.type.split("bytes");if(!e){let b=Rc(a.readBytes(32));a.setPosition(c+b);let d=Rc(a.readBytes(32));if(0===d)return a.setPosition(c+32),["0x",32];let e=a.readBytes(d);return a.setPosition(c+32),[Q2.fromBytes(e),32]}return[Q2.fromBytes(a.readBytes(Number.parseInt(e,10),32)),32]}(b,c,{staticPosition:f});if(c.type.startsWith("uint")||c.type.startsWith("int")){var h,i;let a,d,e;return h=b,a=(i=c).type.startsWith("int"),d=Number.parseInt(i.type.split("int")[1]||"256",10),e=h.readBytes(32),[d>48?function(a,b={}){let{size:c}=b;void 0!==c&&Q3(a,c);let d=Q2.fromBytes(a,b);return Q2.toBigInt(d,b)}(e,{signed:a}):Rc(e,{signed:a}),32]}if("string"===c.type)return function(a,{staticPosition:b}){let c=Rc(a.readBytes(32));a.setPosition(b+c);let d=Rc(a.readBytes(32));if(0===d)return a.setPosition(b+32),["",32];let e=function(a,b={}){let{size:c}=b,d=a;return void 0!==c&&(Q3(d,c),d=Q5(d,{dir:"right"})),Q8.decode(d)}(Rd(a.readBytes(d,32)));return a.setPosition(b+32),[e,32]}(b,{staticPosition:f});throw new R7(c.type)}(g,c,{checksumAddress:e,staticPosition:0});h+=j,"Array"===d?i.push(f):i[c.name??b]=f}return i}function R$(a,b,c){let{checksumAddress:d=!1}=c??{};if(a.length!==b.length)throw new R5({expectedLength:a.length,givenLength:b.length});let e=RQ(function({checksumAddress:a,parameters:b,values:c}){let d=[];for(let e=0;e<b.length;e++)d.push(function a({checksumAddress:b=!1,parameter:c,value:d}){let e=RR(c.type);if(e){let[f,g]=e;return function(b,c){let{checksumAddress:d,length:e,parameter:f}=c,g=null===e;if(!Array.isArray(b))throw new R6(b);if(!g&&b.length!==e)throw new R3({expectedLength:e,givenLength:b.length,type:`${f.type}[${e}]`});let h=!1,i=[];for(let c=0;c<b.length;c++){let e=a({checksumAddress:d,parameter:f,value:b[c]});e.dynamic&&(h=!0),i.push(e)}if(g||h){let a=RQ(i);if(g){let b=Q2.fromNumber(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Q2.concat(b,a):b}}if(h)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Q2.concat(...i.map(({encoded:a})=>a))}}(d,{checksumAddress:b,length:f,parameter:{...c,type:g}})}if("tuple"===c.type)return function(b,c){let{checksumAddress:d,parameter:e}=c,f=!1,g=[];for(let c=0;c<e.components.length;c++){let h=e.components[c],i=Array.isArray(b)?c:h.name,j=a({checksumAddress:d,parameter:h,value:b[i]});g.push(j),j.dynamic&&(f=!0)}return{dynamic:f,encoded:f?RQ(g):Q2.concat(...g.map(({encoded:a})=>a))}}(d,{checksumAddress:b,parameter:c});if("address"===c.type)return function(a,b){let{checksum:c=!1}=b;return Rw(a,{strict:c}),{dynamic:!1,encoded:Q2.padLeft(a.toLowerCase())}}(d,{checksum:b});if("bool"===c.type){var f=d;if("boolean"!=typeof f)throw new Q_.BaseError(`Invalid boolean value: "${f}" (type: ${typeof f}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Q2.padLeft(Q2.fromBoolean(f))}}if(c.type.startsWith("uint")||c.type.startsWith("int")){let a=c.type.startsWith("int"),[,,b="256"]=RO.exec(c.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let d=2n**(BigInt(c)-(b?1n:0n))-1n,e=b?-d-1n:0n;if(a>d||a<e)throw new Q2.IntegerOutOfRangeError({max:d.toString(),min:e.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:Q2.fromNumber(a,{size:32,signed:b})}}(d,{signed:a,size:Number(b)})}if(c.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),d=Q2.size(a);if(!c){let b=a;return d%32!=0&&(b=Q2.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:Q2.concat(Q2.padLeft(Q2.fromNumber(d,{size:32})),b)}}if(d!==Number.parseInt(c,10))throw new R4({expectedSize:Number.parseInt(c,10),value:a});return{dynamic:!1,encoded:Q2.padRight(a)}}(d,{type:c.type});if("string"===c.type){var g=d;let a=Q2.fromString(g),b=Math.ceil(Q2.size(a)/32),c=[];for(let d=0;d<b;d++)c.push(Q2.padRight(Q2.slice(a,32*d,(d+1)*32)));return{dynamic:!0,encoded:Q2.concat(Q2.padRight(Q2.fromNumber(Q2.size(a),{size:32})),...c)}}throw new R7(c.type)}({checksumAddress:a,parameter:b[e],value:c[e]}));return d}({checksumAddress:d,parameters:a,values:b}));return 0===e.length?"0x":e}function R_(a,b){if(a.length!==b.length)throw new R5({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(R_.encode(e,f))}return Q2.concat(...c)}function R0(a){return Array.isArray(a)&&"string"==typeof a[0]||"string"==typeof a?function(a){let b=[];if("string"==typeof a){let c=(0,Q$.splitParameters)(a),d=c.length;for(let a=0;a<d;a++)b.push((0,Q$.parseAbiParameter)(c[a],{modifiers:QY.modifiers}))}else{let c=(0,QZ.parseStructs)(a),d=a.length;for(let e=0;e<d;e++){let d=a[e];if((0,QY.isStructSignature)(d))continue;let f=(0,Q$.splitParameters)(d),g=f.length;for(let a=0;a<g;a++)b.push((0,Q$.parseAbiParameter)(f[a],{modifiers:QY.modifiers,structs:c}))}}if(0===b.length)throw new RK.InvalidAbiParametersError({params:a});return b}(a):a}(R_||(R_={})).encode=function a(b,c,d=!1){if("address"===b)return Rw(c),Q2.padLeft(c.toLowerCase(),32*!!d);if("string"===b)return Q2.fromString(c);if("bytes"===b)return c;if("bool"===b)return Q2.padLeft(Q2.fromBoolean(c),d?32:1);let e=b.match(RO);if(e){let[a,b,f="256"]=e,g=Number.parseInt(f,10)/8;return Q2.fromNumber(c,{size:d?32:g,signed:"int"===b})}let f=b.match(RN);if(f){let[a,b]=f;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new R4({expectedSize:Number.parseInt(b,10),value:c});return Q2.padRight(c,32*!!d)}let g=b.match(RM);if(g&&Array.isArray(c)){let[b,d]=g,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":Q2.concat(...e)}throw new R7(b)};class R1 extends RL.BaseError{constructor({data:a,parameters:b,size:c}){super(`Data size of ${c} bytes is too small for given parameters.`,{metaMessages:[`Params: (${RJ.formatAbiParameters(b)})`,`Data:   ${a} (${c} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class R2 extends RL.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class R3 extends RL.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class R4 extends RL.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${Q2.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class R5 extends RL.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class R6 extends RL.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class R7 extends RL.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function R8(a,b={}){return RD(a,b)}function R9(a,b,c){let d=RE(a,b,c);if("function"!==d.type)throw new RI({name:b,type:"function"});return d}let Sa="0x0000000000000000000000000000000000000000";async function Sb(a,b){let{blockNumber:c,blockTag:d,calls:e,stateOverrides:f,traceAssetChanges:g,traceTransfers:h,validation:i}=b,j=b.account?(0,NZ.parseAccount)(b.account):void 0;if(g&&!j)throw new N5.BaseError("`account` is required when `traceAssetChanges` is true");let k=j?function(...a){let[b,c]=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return[function(a){let b=a.find(a=>"constructor"===a.type);if(!b)throw new RI({name:"constructor"});return b}(b),c]}return a})(),{bytecode:d,args:e}=c;return Q2.concat(d,b.inputs?.length&&e?.length?R$(b.inputs,e):"0x")}(RD("constructor(bytes, bytes)"),{bytecode:QS.deploylessCallViaBytecodeBytecode,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...a){let[b,c=[]]=(()=>{if(Array.isArray(a[0])){let[b,c,d]=a;return[R9(b,c,{args:d}),d]}let[b,c]=a;return[b,c]})(),{overloads:d}=b,e=d?R9([b,...d],b.name,{args:c}):b,f=RF(e),g=c.length>0?R$(e.inputs,c):void 0;return g?Q2.concat(f,g):f}(R8("function getBalance(address)"),[j.address])]}):void 0,l=g?await Promise.all(b.calls.map(async b=>{if(!b.data&&!b.abi)return;let{accessList:c}=await Pa(a,{account:j.address,...b,data:b.abi?(0,N2.encodeFunctionData)(b):b.data});return c.map(({address:a,storageKeys:b})=>b.length>0?a:null)})).then(a=>a.flat().filter(Boolean)):[],m=await QV(a,{blockNumber:c,blockTag:d,blocks:[...g?[{calls:[{data:k}],stateOverrides:f},{calls:l.map((a,b)=>({abi:[R8("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[j.address],to:a,from:Sa,nonce:b})),stateOverrides:[{address:Sa,nonce:0}]}]:[],{calls:[...e,{}].map(a=>({...a,from:j?.address})),stateOverrides:f},...g?[{calls:[{data:k}]},{calls:l.map((a,b)=>({abi:[R8("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[j.address],to:a,from:Sa,nonce:b})),stateOverrides:[{address:Sa,nonce:0}]},{calls:l.map((a,b)=>({to:a,abi:[R8("function decimals() returns (uint256)")],functionName:"decimals",from:Sa,nonce:b})),stateOverrides:[{address:Sa,nonce:0}]},{calls:l.map((a,b)=>({to:a,abi:[R8("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Sa,nonce:b})),stateOverrides:[{address:Sa,nonce:0}]},{calls:l.map((a,b)=>({to:a,abi:[R8("function symbol() returns (string)")],functionName:"symbol",from:Sa,nonce:b})),stateOverrides:[{address:Sa,nonce:0}]}]:[]],traceTransfers:h,validation:i}),n=g?m[2]:m[0],[o,p,,q,r,s,t,u]=g?m:[],{calls:v,...w}=n,x=v.slice(0,-1)??[],y=[...o?.calls??[],...p?.calls??[]].map(a=>"success"===a.status?(0,Ps.hexToBigInt)(a.data):null),z=[...q?.calls??[],...r?.calls??[]].map(a=>"success"===a.status?(0,Ps.hexToBigInt)(a.data):null),A=(s?.calls??[]).map(a=>"success"===a.status?a.result:null),B=(u?.calls??[]).map(a=>"success"===a.status?a.result:null),C=(t?.calls??[]).map(a=>"success"===a.status?a.result:null),D=[];for(let[a,b]of z.entries()){let c=y[a];if("bigint"!=typeof b||"bigint"!=typeof c)continue;let d=A[a-1],e=B[a-1],f=C[a-1],g=0===a?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:l[a-1],decimals:f||d?Number(d??1):void 0,symbol:e??void 0};D.some(a=>a.token.address===g.address)||D.push({token:g,value:{pre:c,post:b,diff:b-c}})}return{assetChanges:D,block:w,results:x}}async function Sc(a,b){let{abi:c,address:d,args:e,dataSuffix:f,functionName:g,...h}=b,i=h.account?(0,NZ.parseAccount)(h.account):a.account,j=(0,N2.encodeFunctionData)({abi:c,args:e,functionName:g});try{let{data:k}=await Od(a,OJ.call,"call")({batch:!1,data:`${j}${f?f.replace("0x",""):""}`,to:d,...h,account:i}),l=(0,N1.decodeFunctionResult)({abi:c,args:e,functionName:g,data:k||"0x"}),m=c.filter(a=>"name"in a&&a.name===b.functionName);return{result:l,request:{abi:m,address:d,args:e,dataSuffix:f,functionName:g,...h,account:i}}}catch(a){throw OI(a,{abi:c,address:d,args:e,docsPath:"/docs/contract/simulateContract",functionName:g,sender:i?.address})}}async function Sd(a,{filter:b}){return b.request({method:"eth_uninstallFilter",params:[b.id]})}var Se=Q_;let Sf="0x6492649264926492649264926492649264926492649264926492649264926492";function Sg(a){if(Q2.slice(a,-32)!==Sf)throw new Sl(a)}function Sh(a){return"string"==typeof a?Si(a):a}function Si(a){Sg(a);let[b,c,d]=RZ(R0("address, bytes, bytes"),a);return{data:c,signature:d,to:b}}function Sj(a){let{data:b,signature:c,to:d}=a;return Q2.concat(R$(R0("address, bytes, bytes"),[d,b,c]),Sf)}function Sk(a){try{return Sg(a),!0}catch{return!1}}class Sl extends Se.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>Sl,"assert",()=>Sg,"from",()=>Sh,"magicBytes",0,Sf,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>Si,"validate",()=>Sk,"wrap",()=>Sj],72773);var Sm=a.i(72773),Sm=Sm;function Sn(a){if(a<=255)return 1;if(a<=65535)return 2;if(a<=0xffffff)return 3;if(a<=0xffffffff)return 4;throw new Q_.BaseError("Length is too large.")}var So=Q_;function Sp(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new Sv({signature:a});if(a.r<0n||a.r>RP)throw new Sw({value:a.r});if(a.s<0n||a.s>RP)throw new Sx({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new Sy({value:a.yParity})}function Sq(a){if(130!==a.length&&132!==a.length)throw new Su({signature:a});let b=BigInt(Q2.slice(a,0,32)),c=BigInt(Q2.slice(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return St(b)}catch{throw new Sy({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function Sr(a){if(void 0!==a.r&&void 0!==a.s)return Ss(a)}function Ss(a){let b=(()=>{var b,c;let d;if("string"==typeof a)return Sq(a);if(a instanceof Uint8Array)return Sq(Q2.fromBytes(a));return"string"==typeof a.r?(b=a,d=(()=>{let a=b.v?Number(b.v):void 0,c=b.yParity?Number(b.yParity):void 0;if("number"==typeof a&&"number"!=typeof c&&(c=St(a)),"number"!=typeof c)throw new Sy({value:b.yParity});return c})(),{r:BigInt(b.r),s:BigInt(b.s),yParity:d}):a.v?{r:(c=a).r,s:c.s,yParity:St(c.v)}:{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}}})();return Sp(b),b}function St(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new Sz({value:a})}class Su extends So.BaseError{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Q2.size(Q2.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Sv extends So.BaseError{constructor({signature:a}){super(`Signature \`${Q7.stringify(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Sw extends So.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Sx extends So.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Sy extends So.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Sz extends So.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var SA=Q_,SB=a.i(50711);SB.secp256k1;let SC="0x8010801080108010801080108010801080108010801080108010801080108010",SD=R0("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function SE(a){if("string"==typeof a){if(Q2.slice(a,-32)!==SC)throw new SJ(a)}else Sp(a.authorization)}function SF(a){return"string"==typeof a?SG(a):a}function SG(a){SE(a);let b=Q2.toNumber(Q2.slice(a,-64,-32)),c=Q2.slice(a,-b-64,-64),d=Q2.slice(a,0,-b-64),[e,f,g]=RZ(SD,c);return{authorization:function(a,b={}){return"string"==typeof a.chainId?function(a){let{address:b,chainId:c,nonce:d}=a,e=Sr(a);return{address:b,chainId:Number(c),nonce:BigInt(d),...e}}(a):{...a,...b.signature}}({address:e.delegation,chainId:Number(e.chainId),nonce:e.nonce,yParity:e.yParity,r:e.r,s:e.s}),signature:d,...g&&"0x"!==g?{data:g,to:f}:{}}}function SH(a){let{data:b,signature:c}=a;SE(a);let d=function(a,b={}){let c=Rj(`0x${(function(a,b={}){Ro(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return Q2.concat(f?Q2.fromNumber(c,{size:1}):"0x",Q2.fromNumber(d,{size:32}),"bigint"==typeof e?Q2.fromNumber(e,{size:32}):"0x")})(a).slice(4)}`).substring(26);return function(a,b={}){let{checksum:c=!1}=b;return(Rw(a),c)?Rx(a):a}(`0x${c}`,b)}(function(a){var b;let c,{payload:d,signature:e}=a,{r:f,s:g,yParity:h}=e;return b=new SB.secp256k1.Signature(BigInt(f),BigInt(g)).addRecoveryBit(h).recoverPublicKey(Q2.from(d).substring(2)),Ro(c=(()=>{if(Q2.validate(b))return Rp(b);if(function(a){try{if(!(a instanceof Uint8Array)&&(!a||"object"!=typeof a||!("BYTES_PER_ELEMENT"in a)||1!==a.BYTES_PER_ELEMENT||"Uint8Array"!==a.constructor.name))throw new Rf(a);return!0}catch{return!1}}(b)){var a;return a=b,Rp(Q2.fromBytes(a))}let{prefix:c,x:d,y:e}=b;return"bigint"==typeof d&&"bigint"==typeof e?{prefix:c??4,x:d,y:e}:{prefix:c,x:d}})()),c}({payload:function(a,b={}){let{presign:c}=b;return Rj(Q2.concat("0x05",function(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=Sn(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=Sn((g="string"==typeof(d=b)?Ra(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=RV(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?Q2.fromBytes(e.bytes):e.bytes}(a,{as:c})}(function(a){let{address:b,chainId:c,nonce:d}=a,e=Sr(a);return[c?Q2.fromNumber(c):"0x",b,d?Q2.fromNumber(d):"0x",...e?function(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":Q2.trimLeft(Q2.fromNumber(b)),0n===c?"0x":Q2.trimLeft(Q2.fromNumber(c))]}(e):[]]}(c?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a.authorization,{presign:!0}),signature:Ss(a.authorization)})),e=R$(SD,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??d,b??"0x"]),f=Q2.fromNumber(Q2.size(e),{size:32});return Q2.concat(c,e,f,SC)}function SI(a){try{return SE(a),!0}catch{return!1}}class SJ extends SA.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>SJ,"assert",()=>SE,"from",()=>SF,"magicBytes",0,SC,"suffixParameters",0,SD,"unwrap",()=>SG,"validate",()=>SI,"wrap",()=>SH],5408);var SK=a.i(5408),SK=SK,SL=a.i(75715);async function SM({address:a,authorization:b,signature:c}){return(0,Qu.isAddressEqual)((0,Pp.getAddress)(a),await PA({authorization:b,signature:c}))}function SN({r:a,s:b,to:c="hex",v:d,yParity:e}){let f=(()=>{if(0===e||1===e)return e;if(d&&(27n===d||28n===d||d>=35n))return+(d%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),g=`0x${new SB.secp256k1.Signature((0,Ps.hexToBigInt)(a),(0,Ps.hexToBigInt)(b)).toCompactHex()}${0===f?"1b":"1c"}`;return"hex"===c?g:(0,NH.hexToBytes)(g)}async function SO(a,b){let c,{address:d,chain:e=a.chain,hash:f,erc6492VerifierAddress:g=b.universalSignatureVerifierAddress??e?.contracts?.erc6492Verifier?.address,multicallAddress:h=b.multicallAddress??e?.contracts?.multicall3?.address}=b;if(e?.verifyHash)return await e.verifyHash(a,b);let i=(c=b.signature,(0,NJ.isHex)(c)?c:"object"==typeof c&&"r"in c&&"s"in c?SN(c):(0,NE.bytesToHex)(c));try{if(SK.validate(i))return await SP(a,{...b,multicallAddress:h,signature:i});return await SQ(a,{...b,verifierAddress:g,signature:i})}catch(a){try{if((0,Qu.isAddressEqual)((0,Pp.getAddress)(d),await Pv({hash:f,signature:i})))return!0}catch{}if(a instanceof SS)return!1;throw a}}async function SP(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,multicallAddress:g}=b,{authorization:h,data:i,signature:j,to:k}=SK.unwrap(b.signature);if(await Qt(a,{address:c,blockNumber:d,blockTag:e})===(0,NC.concatHex)(["0xef0100",h.address]))return await SR(a,{address:c,blockNumber:d,blockTag:e,hash:f,signature:j});let l={address:h.address,chainId:Number(h.chainId),nonce:Number(h.nonce),r:(0,NE.numberToHex)(h.r,{size:32}),s:(0,NE.numberToHex)(h.s,{size:32}),yParity:h.yParity};if(!await SM({address:c,authorization:l}))throw new SS;let m=await Od(a,OK,"readContract")({...g?{address:g}:{code:QS.multicall3Bytecode},authorizationList:[l],abi:N0.multicall3Abi,blockNumber:d,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:k??c,callData:i}]:[],{allowFailure:!0,target:c,callData:(0,N2.encodeFunctionData)({abi:N0.erc1271Abi,functionName:"isValidSignature",args:[f,j]})}]]}),n=m[m.length-1]?.returnData;if(n?.startsWith("0x1626ba7e"))return!0;throw new SS}async function SQ(a,b){let{address:c,factory:d,factoryData:e,hash:f,signature:g,verifierAddress:h,...i}=b,j=await (async()=>!d&&!e||Sm.validate(g)?g:Sm.wrap({data:e,signature:g,to:d}))(),k=h?{to:h,data:(0,N2.encodeFunctionData)({abi:N0.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[c,f,j]}),...i}:{data:(0,SL.encodeDeployData)({abi:N0.erc6492SignatureValidatorAbi,args:[c,f,j],bytecode:QS.erc6492SignatureValidatorByteCode}),...i},{data:l}=await Od(a,OJ.call,"call")(k).catch(a=>{if(a instanceof N6.CallExecutionError)throw new SS;throw a});if((0,Ps.hexToBool)(l??"0x0"))return!0;throw new SS}async function SR(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,signature:g}=b;if((await Od(a,OK,"readContract")({address:c,abi:N0.erc1271Abi,args:[f,g],blockNumber:d,blockTag:e,functionName:"isValidSignature"}).catch(a=>{if(a instanceof N6.ContractFunctionExecutionError)throw new SS;throw a})).startsWith("0x1626ba7e"))return!0;throw new SS}class SS extends Error{}function ST(a,b){let c,d;return(0,N9.keccak256)((c="string"==typeof a?(0,NE.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,NE.bytesToHex)(a.raw),d=(0,NE.stringToHex)(`\x19Ethereum Signed Message:
${(0,Pr.size)(c)}`),(0,NC.concat)([d,c])),b)}async function SU(a,{address:b,message:c,factory:d,factoryData:e,signature:f,...g}){let h=ST(c);return Od(a,SO,"verifyHash")({address:b,factory:d,factoryData:e,hash:h,signature:f,...g})}var SV=a.i(56158),SW=N5;class SX extends SW.BaseError{constructor({domain:a}){super(`Invalid domain "${(0,SV.stringify)(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class SY extends SW.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class SZ extends SW.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function S$(a){let{domain:b={},message:c,primaryType:d}=a,e={EIP712Domain:function({domain:a}){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},("number"==typeof a?.chainId||"bigint"==typeof a?.chainId)&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:b}),...a.types};!function(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{for(let c of a){let{name:a,type:d}=c,g=b[a],h=d.match(NF.integerRegex);if(h&&("number"==typeof g||"bigint"==typeof g)){let[a,b,c]=h;(0,NE.numberToHex)(g,{signed:"int"===b,size:Number.parseInt(c,10)/8})}if("address"===d&&"string"==typeof g&&!(0,NB.isAddress)(g))throw new NA.InvalidAddressError({address:g});let i=d.match(NF.bytesRegex);if(i){let[a,b]=i;if(b&&(0,Pr.size)(g)!==Number.parseInt(b,10))throw new Nz.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(0,Pr.size)(g)})}let j=e[d];j&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new SZ({type:a})}(d),f(j,g))}};if(e.EIP712Domain&&b){if("object"!=typeof b)throw new SX({domain:b});f(e.EIP712Domain,b)}if("EIP712Domain"!==d)if(e[d])f(e[d],c);else throw new SY({primaryType:d,types:e})}({domain:b,message:c,primaryType:d,types:e});let f=["0x1901"];return b&&f.push(function({domain:a,types:b}){return S_({data:a,primaryType:"EIP712Domain",types:b})}({domain:b,types:e})),"EIP712Domain"!==d&&f.push(S_({data:c,primaryType:d,types:e})),(0,N9.keccak256)((0,NC.concat)(f))}function S_({data:a,primaryType:b,types:c}){let d=function a({data:b,primaryType:c,types:d}){let e=[{type:"bytes32"}],f=[function({primaryType:a,types:b}){let c=(0,NE.toHex)(function({primaryType:a,types:b}){let c="",d=function a({primaryType:b,types:c},d=new Set){let e=b.match(/^\w*/u),f=e?.[0];if(d.has(f)||void 0===c[f])return d;for(let b of(d.add(f),c[f]))a({primaryType:b.type,types:c},d);return d}({primaryType:a,types:b});for(let e of(d.delete(a),[a,...Array.from(d).sort()]))c+=`${e}(${b[e].map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return c}({primaryType:a,types:b}));return(0,N9.keccak256)(c)}({primaryType:c,types:d})];for(let g of d[c]){let[c,h]=function b({types:c,name:d,type:e,value:f}){if(void 0!==c[e])return[{type:"bytes32"},(0,N9.keccak256)(a({data:f,primaryType:e,types:c}))];if("bytes"===e)return[{type:"bytes32"},(0,N9.keccak256)(f)];if("string"===e)return[{type:"bytes32"},(0,N9.keccak256)((0,NE.toHex)(f))];if(e.lastIndexOf("]")===e.length-1){let a=e.slice(0,e.lastIndexOf("[")),g=f.map(e=>b({name:d,type:a,types:c,value:e}));return[{type:"bytes32"},(0,N9.keccak256)((0,Pg.encodeAbiParameters)(g.map(([a])=>a),g.map(([,a])=>a)))]}return[{type:e},f]}({types:d,name:g.name,type:g.type,value:b[g.name]});e.push(c),f.push(h)}return(0,Pg.encodeAbiParameters)(e,f)}({data:a,primaryType:b,types:c});return(0,N9.keccak256)(d)}async function S0(a,b){let{address:c,factory:d,factoryData:e,signature:f,message:g,primaryType:h,types:i,domain:j,...k}=b,l=S$({message:g,primaryType:h,types:i,domain:j});return Od(a,SO,"verifyHash")({address:c,factory:d,factoryData:e,hash:l,signature:f,...k})}let S1=new Map,S2=new Map,S3=0;function S4(a,b,c){let d=++S3,e=()=>S1.get(a)||[],f=()=>{let b,c=e();if(!c.some(a=>a.id===d))return;let f=S2.get(a);if(1===c.length&&f){let a=f();a instanceof Promise&&a.catch(()=>{})}b=e(),S1.set(a,b.filter(a=>a.id!==d))},g=e();if(S1.set(a,[...g,{id:d,fns:b}]),g&&g.length>0)return f;let h={};for(let a in b)h[a]=(...b)=>{let c=e();if(0!==c.length)for(let d of c)d.fns[a]?.(...b)};let i=c(h);return"function"==typeof i&&S2.set(a,i),f}var S5=a.i(78087);async function S6(a){return new Promise(b=>setTimeout(b,a))}function S7(a,{delay:b=100,retryCount:c=2,shouldRetry:d=()=>!0}={}){return new Promise((e,f)=>{let g=async({count:h=0}={})=>{let i=async({error:a})=>{let c="function"==typeof b?b({count:h,error:a}):b;c&&await S6(c),g({count:h+1})};try{let b=await a();e(b)}catch(a){if(h<c&&await d({count:h,error:a}))return i({error:a});f(a)}};g()})}function S8(a,{emitOnBegin:b,initialWaitTime:c,interval:d}){let e=!0,f=()=>e=!1;return(async()=>{let g;b&&(g=await a({unpoll:f}));let h=await c?.(g)??d;await S6(h);let i=async()=>{e&&(await a({unpoll:f}),await S6(d),i())};i()})(),f}function S9(a,{emitOnBegin:b=!1,emitMissed:c=!1,onBlockNumber:d,onError:e,poll:f,pollingInterval:g=a.pollingInterval}){let h;return(void 0!==f?f:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?S4((0,SV.stringify)(["watchBlockNumber",a.uid,b,c,g]),{onBlockNumber:d,onError:e},d=>S8(async()=>{try{let b=await Od(a,Qr,"getBlockNumber")({cacheTime:0});if(void 0!==h){if(b===h)return;if(b-h>1&&c)for(let a=h+1n;a<b;a++)d.onBlockNumber(a,h),h=a}(void 0===h||b>h)&&(d.onBlockNumber(b,h),h=b)}catch(a){d.onError?.(a)}},{emitOnBegin:b,interval:g})):S4((0,SV.stringify)(["watchBlockNumber",a.uid,b,c]),{onBlockNumber:d,onError:e},b=>{let c=!0,d=()=>c=!1;return(async()=>{try{let e=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:f}=await e.subscribe({params:["newHeads"],onData(a){if(!c)return;let d=(0,Ps.hexToBigInt)(a.result?.number);b.onBlockNumber(d,h),h=d},onError(a){b.onError?.(a)}});d=f,c||d()}catch(a){e?.(a)}})(),()=>d()})}async function Ta(a,b){let c,d,e,f,g,{checkReplacement:h=!0,confirmations:i=1,hash:j,onReplaced:k,retryCount:l=6,retryDelay:m=({count:a})=>200*~~(1<<a),timeout:n=18e4}=b,o=(0,SV.stringify)(["waitForTransactionReceipt",a.uid,j]),p=b.pollingInterval?b.pollingInterval:a.chain?.experimental_preconfirmationTime?a.chain.experimental_preconfirmationTime:a.pollingInterval,q=!1,{promise:r,resolve:s,reject:t}=(0,S5.withResolvers)(),u=n?setTimeout(()=>{g?.(),f?.(),t(new PE.WaitForTransactionReceiptTimeoutError({hash:j}))},n):void 0;return f=S4(o,{onReplaced:k,resolve:s,reject:t},async b=>{if((e=await Od(a,QR,"getTransactionReceipt")({hash:j}).catch(()=>void 0))&&i<=1){clearTimeout(u),b.resolve(e),f?.();return}g=Od(a,S9,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:p,async onBlockNumber(k){let n=a=>{clearTimeout(u),g?.(),a(),f?.()},o=k;if(!q)try{if(e){if(i>1&&(!e.blockNumber||o-e.blockNumber+1n<i))return;n(()=>b.resolve(e));return}if(h&&!c&&(q=!0,await S7(async()=>{(c=await Od(a,QM,"getTransaction")({hash:j})).blockNumber&&(o=c.blockNumber)},{delay:m,retryCount:l}),q=!1),e=await Od(a,QR,"getTransactionReceipt")({hash:j}),i>1&&(!e.blockNumber||o-e.blockNumber+1n<i))return;n(()=>b.resolve(e))}catch(f){if(f instanceof PE.TransactionNotFoundError||f instanceof PE.TransactionReceiptNotFoundError){if(!c){q=!1;return}try{d=c,q=!0;let f=await S7(()=>Od(a,PV,"getBlock")({blockNumber:o,includeTransactions:!0}),{delay:m,retryCount:l,shouldRetry:({error:a})=>a instanceof PO});q=!1;let g=f.transactions.find(({from:a,nonce:b})=>a===d.from&&b===d.nonce);if(!g||(e=await Od(a,QR,"getTransactionReceipt")({hash:g.hash}),i>1&&(!e.blockNumber||o-e.blockNumber+1n<i)))return;let h="replaced";g.to===d.to&&g.value===d.value&&g.input===d.input?h="repriced":g.from===g.to&&0n===g.value&&(h="cancelled"),n(()=>{b.onReplaced?.({reason:h,replacedTransaction:d,transaction:g,transactionReceipt:e}),b.resolve(e)})}catch(a){n(()=>b.reject(a))}}else n(()=>b.reject(f))}}})}),r}function Tb(a,b){let c,d,e,f,{abi:g,address:h,args:i,batch:j=!0,eventName:k,fromBlock:l,onError:m,onLogs:n,poll:o,pollingInterval:p=a.pollingInterval,strict:q}=b;return(void 0!==o?o:"bigint"==typeof l||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?(c=q??!1,S4((0,SV.stringify)(["watchContractEvent",h,i,j,a.uid,k,p,c,l]),{onLogs:n,onError:m},b=>{let d,e;void 0!==l&&(d=l-1n);let f=!1,m=S8(async()=>{if(!f){try{e=await Od(a,Pm,"createContractEventFilter")({abi:g,address:h,args:i,eventName:k,strict:c,fromBlock:l})}catch{}f=!0;return}try{let f;if(e)f=await Od(a,QI,"getFilterChanges")({filter:e});else{let b=await Od(a,Qr,"getBlockNumber")({});f=d&&d<b?await Od(a,QC,"getContractEvents")({abi:g,address:h,args:i,eventName:k,fromBlock:d+1n,toBlock:b,strict:c}):[],d=b}if(0===f.length)return;if(j)b.onLogs(f);else for(let a of f)b.onLogs([a])}catch(a){e&&a instanceof On&&(f=!1),b.onError?.(a)}},{emitOnBegin:!0,interval:p});return async()=>{e&&await Od(a,Sd,"uninstallFilter")({filter:e}),m()}})):(d=(0,SV.stringify)(["watchContractEvent",h,i,j,a.uid,k,p,q??!1]),e=!0,f=()=>e=!1,S4(d,{onLogs:n,onError:m},b=>((async()=>{try{let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),d=k?Pk({abi:g,eventName:k,args:i}):[],{unsubscribe:j}=await c.subscribe({params:["logs",{address:h,topics:d}],onData(a){if(!e)return;let c=a.result;try{let{eventName:a,args:d}=Qy({abi:g,data:c.data,topics:c.topics,strict:q}),e=QA(c,{args:d,eventName:a});b.onLogs([e])}catch(f){let a,d;if(f instanceof Nz.DecodeLogDataMismatch||f instanceof Nz.DecodeLogTopicsMismatch){if(q)return;a=f.abiItem.name,d=f.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let e=QA(c,{args:d?[]:{},eventName:a});b.onLogs([e])}},onError(a){b.onError?.(a)}});f=j,e||f()}catch(a){m?.(a)}})(),()=>f())))}let Tc=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Td=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function Te(a,b){let{address:c,domain:d,message:e,nonce:f,scheme:g,signature:h,time:i=new Date,...j}=b,k=function(a){let{scheme:b,statement:c,...d}=a.match(Tc)?.groups??{},{chainId:e,expirationTime:f,issuedAt:g,notBefore:h,requestId:i,...j}=a.match(Td)?.groups??{},k=a.split("Resources:")[1]?.split("\n- ").slice(1);return{...d,...j,...e?{chainId:Number(e)}:{},...f?{expirationTime:new Date(f)}:{},...g?{issuedAt:new Date(g)}:{},...h?{notBefore:new Date(h)}:{},...i?{requestId:i}:{},...k?{resources:k}:{},...b?{scheme:b}:{},...c?{statement:c}:{}}}(e);if(!k.address||!function(a){let{address:b,domain:c,message:d,nonce:e,scheme:f,time:g=new Date}=a;if(c&&d.domain!==c||e&&d.nonce!==e||f&&d.scheme!==f||d.expirationTime&&g>=d.expirationTime||d.notBefore&&g<d.notBefore)return!1;try{if(!d.address||!(0,NB.isAddress)(d.address,{strict:!1})||b&&!(0,Qu.isAddressEqual)(d.address,b))return!1}catch{return!1}return!0}({address:c,domain:d,message:k,nonce:f,scheme:g,time:i}))return!1;let l=ST(e);return SO(a,{address:k.address,hash:l,signature:h,...j})}async function Tf(a,{serializedTransaction:b}){return a.request({method:"eth_sendRawTransaction",params:[b]},{retryCount:0})}async function Tg(a,{serializedTransaction:b,throwOnReceiptRevert:c,timeout:d}){let e=await a.request({method:"eth_sendRawTransactionSync",params:d?[b,(0,NE.numberToHex)(d)]:[b]},{retryCount:0}),f=(a.chain?.formatters?.transactionReceipt?.format||QP)(e);if("reverted"===f.status&&c)throw new PE.TransactionReceiptRevertedError({receipt:f});return f}function Th(a){return{call:b=>(0,OJ.call)(a,b),createAccessList:b=>Pa(a,b),createBlockFilter:()=>Pc(a),createContractEventFilter:b=>Pm(a,b),createEventFilter:b=>Pn(a,b),createPendingTransactionFilter:()=>Po(a),estimateContractGas:b=>Ql(a,b),estimateGas:b=>Qk(a,b),getBalance:b=>Qm(a,b),getBlobBaseFee:()=>Qn(a),getBlock:b=>PV(a,b),getBlockNumber:b=>Qr(a,b),getBlockTransactionCount:b=>Qs(a,b),getBytecode:b=>Qt(a,b),getChainId:()=>Qe(a),getCode:b=>Qt(a,b),getContractEvents:b=>QC(a,b),getEip712Domain:b=>QF(a,b),getEnsAddress:b=>OL(a,b),getEnsAvatar:b=>O3(a,b),getEnsName:b=>O4(a,b),getEnsResolver:b=>O5(a,b),getEnsText:b=>O2(a,b),getFeeHistory:b=>QH(a,b),estimateFeesPerGas:b=>PZ(a,b),getFilterChanges:b=>QI(a,b),getFilterLogs:b=>QJ(a,b),getGasPrice:()=>PW(a),getLogs:b=>QB(a,b),getProof:b=>QK(a,b),estimateMaxPriorityFeePerGas:b=>PX(a,b),fillTransaction:b=>Qf(a,b),getStorageAt:b=>QL(a,b),getTransaction:b=>QM(a,b),getTransactionConfirmations:b=>QN(a,b),getTransactionCount:b=>P_(a,b),getTransactionReceipt:b=>QR(a,b),multicall:b=>QT(a,b),prepareTransactionRequest:b=>Qj(a,b),readContract:b=>OK(a,b),sendRawTransaction:b=>Tf(a,b),sendRawTransactionSync:b=>Tg(a,b),simulate:b=>QV(a,b),simulateBlocks:b=>QV(a,b),simulateCalls:b=>Sb(a,b),simulateContract:b=>Sc(a,b),verifyHash:b=>SO(a,b),verifyMessage:b=>SU(a,b),verifySiweMessage:b=>Te(a,b),verifyTypedData:b=>S0(a,b),uninstallFilter:b=>Sd(a,b),waitForTransactionReceipt:b=>Ta(a,b),watchBlocks:b=>(function(a,{blockTag:b=a.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:d=!1,onBlock:e,onError:f,includeTransactions:g,poll:h,pollingInterval:i=a.pollingInterval}){let j,k,l,m,n=void 0!==h?h:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),o=g??!1;return n?S4((0,SV.stringify)(["watchBlocks",a.uid,b,c,d,o,i]),{onBlock:e,onError:f},e=>S8(async()=>{try{let d=await Od(a,PV,"getBlock")({blockTag:b,includeTransactions:o});if(null!==d.number&&j?.number!=null){if(d.number===j.number)return;if(d.number-j.number>1&&c)for(let b=j?.number+1n;b<d.number;b++){let c=await Od(a,PV,"getBlock")({blockNumber:b,includeTransactions:o});e.onBlock(c,j),j=c}}(j?.number==null||"pending"===b&&d?.number==null||null!==d.number&&d.number>j.number)&&(e.onBlock(d,j),j=d)}catch(a){e.onError?.(a)}},{emitOnBegin:d,interval:i})):(k=!0,l=!0,m=()=>k=!1,(async()=>{try{d&&Od(a,PV,"getBlock")({blockTag:b,includeTransactions:o}).then(a=>{!k||l&&(e(a,void 0),l=!1)}).catch(f);let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:g}=await c.subscribe({params:["newHeads"],async onData(b){if(!k)return;let c=await Od(a,PV,"getBlock")({blockNumber:b.result?.number,includeTransactions:o}).catch(()=>{});k&&(e(c,j),l=!1,j=c)},onError(a){f?.(a)}});m=g,k||m()}catch(a){f?.(a)}})(),()=>m())})(a,b),watchBlockNumber:b=>S9(a,b),watchContractEvent:b=>Tb(a,b),watchEvent:b=>(function(a,{address:b,args:c,batch:d=!0,event:e,events:f,fromBlock:g,onError:h,onLogs:i,poll:j,pollingInterval:k=a.pollingInterval,strict:l}){let m,n,o=void 0!==j?j:"bigint"==typeof g||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),p=l??!1;return o?S4((0,SV.stringify)(["watchEvent",b,c,d,a.uid,e,k,g]),{onLogs:i,onError:h},h=>{let i,j;void 0!==g&&(i=g-1n);let l=!1,m=S8(async()=>{if(!l){try{j=await Od(a,Pn,"createEventFilter")({address:b,args:c,event:e,events:f,strict:p,fromBlock:g})}catch{}l=!0;return}try{let g;if(j)g=await Od(a,QI,"getFilterChanges")({filter:j});else{let d=await Od(a,Qr,"getBlockNumber")({});g=i&&i!==d?await Od(a,QB,"getLogs")({address:b,args:c,event:e,events:f,fromBlock:i+1n,toBlock:d}):[],i=d}if(0===g.length)return;if(d)h.onLogs(g);else for(let a of g)h.onLogs([a])}catch(a){j&&a instanceof On&&(l=!1),h.onError?.(a)}},{emitOnBegin:!0,interval:k});return async()=>{j&&await Od(a,Sd,"uninstallFilter")({filter:j}),m()}}):(m=!0,n=()=>m=!1,(async()=>{try{let d=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),g=f??(e?[e]:void 0),j=[];g&&(j=[g.flatMap(a=>Pk({abi:[a],eventName:a.name,args:c}))],e&&(j=j[0]));let{unsubscribe:k}=await d.subscribe({params:["logs",{address:b,topics:j}],onData(a){if(!m)return;let b=a.result;try{let{eventName:a,args:c}=Qy({abi:g??[],data:b.data,topics:b.topics,strict:p}),d=QA(b,{args:c,eventName:a});i([d])}catch(e){let a,c;if(e instanceof Nz.DecodeLogDataMismatch||e instanceof Nz.DecodeLogTopicsMismatch){if(l)return;a=e.abiItem.name,c=e.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let d=QA(b,{args:c?[]:{},eventName:a});i([d])}},onError(a){h?.(a)}});n=k,m||n()}catch(a){h?.(a)}})(),()=>n())})(a,b),watchPendingTransactions:b=>(function(a,{batch:b=!0,onError:c,onTransactions:d,poll:e,pollingInterval:f=a.pollingInterval}){let g,h;return(void 0!==e?e:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type)?S4((0,SV.stringify)(["watchPendingTransactions",a.uid,b,f]),{onTransactions:d,onError:c},c=>{let d,e=S8(async()=>{try{if(!d)try{d=await Od(a,Po,"createPendingTransactionFilter")({});return}catch(a){throw e(),a}let f=await Od(a,QI,"getFilterChanges")({filter:d});if(0===f.length)return;if(b)c.onTransactions(f);else for(let a of f)c.onTransactions([a])}catch(a){c.onError?.(a)}},{emitOnBegin:!0,interval:f});return async()=>{d&&await Od(a,Sd,"uninstallFilter")({filter:d}),e()}}):(g=!0,h=()=>g=!1,(async()=>{try{let{unsubscribe:b}=await a.transport.subscribe({params:["newPendingTransactions"],onData(a){if(!g)return;let b=a.result;d([b])},onError(a){c?.(a)}});h=b,g||h()}catch(a){c?.(a)}})(),()=>h())})(a,b)}}function Ti(a){let{key:b="public",name:c="Public Client"}=a;return(function(a){let{batch:b,chain:c,ccipRead:d,key:e="base",name:f="Base Client",type:g="base"}=a,h=a.experimental_blockTag??("number"==typeof c?.experimental_preconfirmationTime?"pending":void 0),i=Math.min(Math.max(Math.floor((c?.blockTime??12e3)/2),500),4e3),j=a.pollingInterval??i,k=a.cacheTime??j,l=a.account?(0,NZ.parseAccount)(a.account):void 0,{config:m,request:n,value:o}=a.transport({account:l,chain:c,pollingInterval:j}),p={account:l,batch:b,cacheTime:k,ccipRead:d,chain:c,key:e,name:f,pollingInterval:j,request:n,transport:{...m,...o},type:g,uid:N_(),...h?{experimental_blockTag:h}:{}};return Object.assign(p,{extend:function a(b){return c=>{let d=c(b);for(let a in p)delete d[a];let e={...b,...d};return Object.assign(e,{extend:a(e)})}}(p)})})({...a,key:b,name:c,type:"publicClient"}).extend(Th)}var Tj=N5;class Tk extends Tj.BaseError{constructor({docsPath:a}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:a,docsSlug:"account",name:"AccountNotFoundError"})}}class Tl extends Tj.BaseError{constructor({docsPath:a,metaMessages:b,type:c}){super(`Account type "${c}" is not supported.`,{docsPath:a,metaMessages:b,name:"AccountTypeNotSupportedError"})}}var Tm=a.i(70435);let Tn=new Qb.LruMap(128);async function To(a,b){let{account:c=a.account,assertChainId:d=!0,chain:e=a.chain,accessList:f,authorizationList:g,blobs:h,data:i,gas:j,gasPrice:k,maxFeePerBlobGas:l,maxFeePerGas:m,maxPriorityFeePerGas:n,nonce:o,type:p,value:q,...r}=b;if(void 0===c)throw new Tk({docsPath:"/docs/actions/wallet/sendTransaction"});let s=c?(0,NZ.parseAccount)(c):null;try{(0,O9.assertRequest)(b);let c=await (async()=>b.to?b.to:null!==b.to&&g&&g.length>0?await PA({authorization:g[0]}).catch(()=>{throw new N5.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(s?.type==="json-rpc"||null===s){let b;null!==e&&(b=await Od(a,Qe,"getChainId")({}),d&&function({chain:a,currentChainId:b}){if(!a)throw new Tm.ChainNotFoundError;if(b!==a.id)throw new Tm.ChainMismatchError({chain:a,currentChainId:b})}({currentChainId:b,chain:e}));let t=a.chain?.formatters?.transactionRequest?.format,u=(t||O8.formatTransactionRequest)({...(0,O7.extract)(r,{format:t}),accessList:f,account:s,authorizationList:g,blobs:h,chainId:b,data:i,gas:j,gasPrice:k,maxFeePerBlobGas:l,maxFeePerGas:m,maxPriorityFeePerGas:n,nonce:o,to:c,type:p,value:q},"sendTransaction"),v=Tn.get(a.uid);try{return await a.request({method:v?"wallet_sendTransaction":"eth_sendTransaction",params:[u]},{retryCount:0})}catch(b){if(!1===v)throw b;if("InvalidInputRpcError"===b.name||"InvalidParamsRpcError"===b.name||"MethodNotFoundRpcError"===b.name||"MethodNotSupportedRpcError"===b.name)return await a.request({method:"wallet_sendTransaction",params:[u]},{retryCount:0}).then(b=>(Tn.set(a.uid,!0),b)).catch(c=>{if("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name)throw Tn.set(a.uid,!1),b;throw c});throw b}}if(s?.type==="local"){let b=await Od(a,Qj,"prepareTransactionRequest")({account:s,accessList:f,authorizationList:g,blobs:h,chain:e,data:i,gas:j,gasPrice:k,maxFeePerBlobGas:l,maxFeePerGas:m,maxPriorityFeePerGas:n,nonce:o,nonceManager:s.nonceManager,parameters:[...Qg,"sidecars"],type:p,value:q,...r,to:c}),d=e?.serializers?.transaction,t=await s.signTransaction(b,{serializer:d});return await Od(a,Tf,"sendRawTransaction")({serializedTransaction:t})}if(s?.type==="smart")throw new Tl({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new Tl({docsPath:"/docs/actions/wallet/sendTransaction",type:s?.type})}catch(a){if(a instanceof Tl)throw a;throw Qd(a,{...b,account:s,chain:b.chain||void 0})}}async function Tp(a,b){return Tp.internal(a,To,"sendTransaction",b)}function Tq({abi:a,address:b,client:c}){let[d,e]=c?"public"in c&&"wallet"in c?[c.public,c.wallet]:"public"in c?[c.public,void 0]:"wallet"in c?[void 0,c.wallet]:[c,c]:[void 0,void 0],f=null!=d,g=null!=e,h={},i=!1,j=!1,k=!1;for(let b of a)if("function"===b.type?"view"===b.stateMutability||"pure"===b.stateMutability?i=!0:j=!0:"event"===b.type&&(k=!0),i&&j&&k)break;return f&&(i&&(h.read=new Proxy({},{get:(c,e)=>(...c)=>{let{args:f,options:g}=Tr(c);return Od(d,OK,"readContract")({abi:a,address:b,functionName:e,args:f,...g})}})),j&&(h.simulate=new Proxy({},{get:(c,e)=>(...c)=>{let{args:f,options:g}=Tr(c);return Od(d,Sc,"simulateContract")({abi:a,address:b,functionName:e,args:f,...g})}})),k&&(h.createEventFilter=new Proxy({},{get:(c,e)=>(...c)=>{let{args:f,options:g}=Ts(c,a.find(a=>"event"===a.type&&a.name===e));return Od(d,Pm,"createContractEventFilter")({abi:a,address:b,eventName:e,args:f,...g})}}),h.getEvents=new Proxy({},{get:(c,e)=>(...c)=>{let{args:f,options:g}=Ts(c,a.find(a=>"event"===a.type&&a.name===e));return Od(d,QC,"getContractEvents")({abi:a,address:b,eventName:e,args:f,...g})}}),h.watchEvent=new Proxy({},{get:(c,e)=>(...c)=>{let{args:f,options:g}=Ts(c,a.find(a=>"event"===a.type&&a.name===e));return Od(d,Tb,"watchContractEvent")({abi:a,address:b,eventName:e,args:f,...g})}}))),g&&j&&(h.write=new Proxy({},{get:(c,d)=>(...c)=>{let{args:f,options:g}=Tr(c);return Od(e,Tp,"writeContract")({abi:a,address:b,functionName:d,args:f,...g})}})),(f||g)&&j&&(h.estimateGas=new Proxy({},{get:(c,f)=>(...c)=>{let{args:g,options:h}=Tr(c);return Od(d??e,Ql,"estimateContractGas")({abi:a,address:b,functionName:f,args:g,...h,account:h.account??e.account})}})),h.address=b,h.abi=a,h}function Tr(a){let b=a.length&&Array.isArray(a[0]);return{args:b?a[0]:[],options:(b?a[1]:a[0])??{}}}function Ts(a,b){let c=!1;return Array.isArray(a[0])?c=!0:1===a.length?c=b.inputs.some(a=>a.indexed):2===a.length&&(c=!0),{args:c?a[0]:void 0,options:(c?a[1]:a[0])??{}}}(Tp||(Tp={})).internal=async function(a,b,c,d){let{abi:e,account:f=a.account,address:g,args:h,dataSuffix:i,functionName:j,...k}=d;if(void 0===f)throw new Tk({docsPath:"/docs/contract/writeContract"});let l=f?(0,NZ.parseAccount)(f):null,m=(0,N2.encodeFunctionData)({abi:e,args:h,functionName:j});try{return await Od(a,b,c)({data:`${m}${i?i.replace("0x",""):""}`,to:g,account:l,...k})}catch(a){throw OI(a,{abi:e,address:g,args:h,docsPath:"/docs/contract/writeContract",functionName:j,sender:l?.address})}};var Tt=N5;class Tu extends Tt.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var Tv=a.i(45339);let Tw={current:0,take(){return this.current++},reset(){this.current=0}},Tx=new Qb.LruMap(8192);function Ty(a,b={}){let{batch:c,fetchFn:d,fetchOptions:e,key:f="http",methods:g,name:h="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:j,retryDelay:k,raw:l}=b;return({chain:m,retryCount:n,timeout:o})=>{let{batchSize:p=1e3,wait:q=0}="object"==typeof c?c:{},r=b.retryCount??n,s=o??b.timeout??1e4,t=a||m?.rpcUrls.default.http[0];if(!t)throw new Tu;let u=function(a,b={}){let{url:c,headers:d}=function(a){try{let b=new URL(a),c=(()=>{if(b.username){let a=`${decodeURIComponent(b.username)}:${decodeURIComponent(b.password)}`;return b.username="",b.password="",{url:b.toString(),headers:{Authorization:`Basic ${btoa(a)}`}}}})();return{url:b.toString(),...c}}catch{return{url:a}}}(a);return{async request(a){let{body:e,fetchFn:f=b.fetchFn??fetch,onRequest:g=b.onRequest,onResponse:h=b.onResponse,timeout:i=b.timeout??1e4}=a,j={...b.fetchOptions??{},...a.fetchOptions??{}},{headers:k,method:l,signal:m}=j;try{let a,b=await function(a,{errorInstance:b=Error("timed out"),timeout:c,signal:d}){return new Promise((e,f)=>{(async()=>{let g;try{let h=new AbortController;c>0&&(g=setTimeout(()=>{d?h.abort():f(b)},c)),e(await a({signal:h?.signal||null}))}catch(a){a?.name==="AbortError"&&f(b),f(a)}finally{clearTimeout(g)}})()})}(async({signal:a})=>{let b={...j,body:Array.isArray(e)?(0,SV.stringify)(e.map(a=>({jsonrpc:"2.0",id:a.id??Tw.take(),...a}))):(0,SV.stringify)({jsonrpc:"2.0",id:e.id??Tw.take(),...e}),headers:{...d,"Content-Type":"application/json",...k},method:l||"POST",signal:m||(i>0?a:null)},h=new Request(c,b),n=await g?.(h,b)??{...b,url:c};return await f(n.url??c,n)},{errorInstance:new Oe.TimeoutError({body:e,url:c}),timeout:i,signal:!0});if(h&&await h(b),b.headers.get("Content-Type")?.startsWith("application/json"))a=await b.json();else{a=await b.text();try{a=JSON.parse(a||"{}")}catch(c){if(b.ok)throw c;a={error:a}}}if(!b.ok)throw new Oe.HttpRequestError({body:e,details:(0,SV.stringify)(a.error)||b.statusText,headers:b.headers,status:b.status,url:c});return a}catch(a){if(a instanceof Oe.HttpRequestError||a instanceof Oe.TimeoutError)throw a;throw new Oe.HttpRequestError({body:e,cause:a,url:c})}}}}(t,{fetchFn:d,fetchOptions:e,onRequest:i,onResponse:j,timeout:s});return function({key:a,methods:b,name:c,request:d,retryCount:e=3,retryDelay:f=150,timeout:g,type:h},i){return{config:{key:a,methods:b,name:c,request:d,retryCount:e,retryDelay:f,timeout:g,type:h},request:function(a,b={}){return async(c,d={})=>{let{dedupe:e=!1,methods:f,retryDelay:g=150,retryCount:h=3,uid:i}={...b,...d},{method:j}=c;if(f?.exclude?.includes(j)||f?.include&&!f.include.includes(j))throw new Or(Error("method not supported"),{method:j});let k=e?(0,NE.stringToHex)(`${i}.${(0,SV.stringify)(c)}`):void 0;return function(a,{enabled:b=!0,id:c}){if(!b||!c)return a();if(Tx.get(c))return Tx.get(c);let d=a().finally(()=>Tx.delete(c));return Tx.set(c,d),d}(()=>S7(async()=>{try{return await a(c)}catch(a){switch(a.code){case Oi.code:throw new Oi(a);case Oj.code:throw new Oj(a);case Ok.code:throw new Ok(a,{method:c.method});case Ol.code:throw new Ol(a);case Om.code:throw new Om(a);case On.code:throw new On(a);case Oo.code:throw new Oo(a);case Op.code:throw new Op(a);case Oq.code:throw new Oq(a);case Or.code:throw new Or(a,{method:c.method});case Os.code:throw new Os(a);case Ot.code:throw new Ot(a);case Ou.code:throw new Ou(a);case Ov.code:throw new Ov(a);case Ow.code:throw new Ow(a);case Ox.code:throw new Ox(a);case Oy.code:throw new Oy(a);case Oz.code:throw new Oz(a);case OA.code:throw new OA(a);case OB.code:throw new OB(a);case OC.code:throw new OC(a);case OD.code:throw new OD(a);case OE.code:throw new OE(a);case OF.code:throw new OF(a);case OG.code:throw new OG(a);case 5e3:throw new Ou(a);default:if(a instanceof N5.BaseError)throw a;throw new OH(a)}}},{delay:({count:a,error:b})=>{if(b&&b instanceof Oe.HttpRequestError){let a=b?.headers?.get("Retry-After");if(a?.match(/\d/))return 1e3*Number.parseInt(a,10)}return~~(1<<a)*g},retryCount:h,shouldRetry:({error:a})=>{var b;return"code"in(b=a)&&"number"==typeof b.code?-1===b.code||b.code===Os.code||b.code===Om.code:!(b instanceof Oe.HttpRequestError)||!b.status||403===b.status||408===b.status||413===b.status||429===b.status||500===b.status||502===b.status||503===b.status||504===b.status||!1}}),{enabled:e,id:k})}}(d,{methods:b,retryCount:e,retryDelay:f,uid:N_()}),value:i}}({key:f,methods:g,name:h,async request({method:a,params:b}){let d={method:a,params:b},{schedule:e}=(0,Tv.createBatchScheduler)({id:t,wait:q,shouldSplitBatch:a=>a.length>p,fn:a=>u.request({body:a}),sort:(a,b)=>a.id-b.id}),f=async a=>c?e(a):[await u.request({body:a})],[{error:g,result:h}]=await f(d);if(l)return{error:g,result:h};if(g)throw new Oe.RpcRequestError({body:d,error:g,url:t});return h},retryCount:r,retryDelay:k,timeout:s,type:"http"},{fetchOptions:e,url:t})}}let Tz={block:PU({format:a=>({transactions:a.transactions?.map(a=>{if("string"==typeof a)return a;let b=PR(a);return"0x7e"===b.typeHex&&(b.isSystemTx=a.isSystemTx,b.mint=a.mint?(0,Ps.hexToBigInt)(a.mint):void 0,b.sourceHash=a.sourceHash,b.type="deposit"),b}),stateRoot:a.stateRoot})}),transaction:PS({format(a){let b={};return"0x7e"===a.type&&(b.isSystemTx=a.isSystemTx,b.mint=a.mint?(0,Ps.hexToBigInt)(a.mint):void 0,b.sourceHash=a.sourceHash,b.type="deposit"),b}}),transactionReceipt:QQ({format:a=>({l1GasPrice:a.l1GasPrice?(0,Ps.hexToBigInt)(a.l1GasPrice):null,l1GasUsed:a.l1GasUsed?(0,Ps.hexToBigInt)(a.l1GasUsed):null,l1Fee:a.l1Fee?(0,Ps.hexToBigInt)(a.l1Fee):null,l1FeeScalar:a.l1FeeScalar?Number(a.l1FeeScalar):null})})};var TA=a.i(51263),TB=a.i(21286);function TC(a){let{chainId:b,maxPriorityFeePerGas:c,maxFeePerGas:d,to:e}=a;if(b<=0)throw new Tm.InvalidChainIdError({chainId:b});if(e&&!(0,NB.isAddress)(e))throw new NA.InvalidAddressError({address:e});if(d&&d>TA.maxUint256)throw new PG.FeeCapTooHighError({maxFeePerGas:d});if(c&&d&&c>d)throw new PG.TipAboveFeeCapError({maxFeePerGas:d,maxPriorityFeePerGas:c})}function TD(a){if(!a||0===a.length)return[];let b=[];for(let c=0;c<a.length;c++){let{address:d,storageKeys:e}=a[c];for(let a=0;a<e.length;a++)if(e[a].length-2!=64)throw new PE.InvalidStorageKeySizeError({storageKey:e[a]});if(!(0,NB.isAddress)(d,{strict:!1}))throw new NA.InvalidAddressError({address:d});b.push([d,e])}return b}function TE(a,b){let c=Qc(a);return"eip1559"===c?function(a,b){let{chainId:c,gas:d,nonce:e,to:f,value:g,maxFeePerGas:h,maxPriorityFeePerGas:i,accessList:j,data:k}=a;TC(a);let l=TD(j),m=[(0,NE.numberToHex)(c),e?(0,NE.numberToHex)(e):"0x",i?(0,NE.numberToHex)(i):"0x",h?(0,NE.numberToHex)(h):"0x",d?(0,NE.numberToHex)(d):"0x",f??"0x",g?(0,NE.numberToHex)(g):"0x",k??"0x",l,...TF(a,b)];return(0,NC.concatHex)(["0x02",Px(m)])}(a,b):"eip2930"===c?function(a,b){let{chainId:c,gas:d,data:e,nonce:f,to:g,value:h,accessList:i,gasPrice:j}=a;!function(a){let{chainId:b,maxPriorityFeePerGas:c,gasPrice:d,maxFeePerGas:e,to:f}=a;if(b<=0)throw new Tm.InvalidChainIdError({chainId:b});if(f&&!(0,NB.isAddress)(f))throw new NA.InvalidAddressError({address:f});if(c||e)throw new N5.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(d&&d>TA.maxUint256)throw new PG.FeeCapTooHighError({maxFeePerGas:d})}(a);let k=TD(i),l=[(0,NE.numberToHex)(c),f?(0,NE.numberToHex)(f):"0x",j?(0,NE.numberToHex)(j):"0x",d?(0,NE.numberToHex)(d):"0x",g??"0x",h?(0,NE.numberToHex)(h):"0x",e??"0x",k,...TF(a,b)];return(0,NC.concatHex)(["0x01",Px(l)])}(a,b):"eip4844"===c?function(a,b){let{chainId:c,gas:d,nonce:e,to:f,value:g,maxFeePerBlobGas:h,maxFeePerGas:i,maxPriorityFeePerGas:j,accessList:k,data:l}=a;!function(a){let{blobVersionedHashes:b}=a;if(b){if(0===b.length)throw new P7;for(let a of b){let b=(0,Pr.size)(a),c=(0,Ps.hexToNumber)((0,TB.slice)(a,0,1));if(32!==b)throw new P8({hash:a,size:b});if(1!==c)throw new P9({hash:a,version:c})}}TC(a)}(a);let m=a.blobVersionedHashes,n=a.sidecars;if(a.blobs&&(void 0===m||void 0===n)){let b="string"==typeof a.blobs[0]?a.blobs:a.blobs.map(a=>(0,NE.bytesToHex)(a)),c=a.kzg,d=P0({blobs:b,kzg:c});if(void 0===m&&(m=P4({commitments:d})),void 0===n){let a=P1({blobs:b,commitments:d,kzg:c});n=Qa({blobs:b,commitments:d,proofs:a})}}let o=TD(k),p=[(0,NE.numberToHex)(c),e?(0,NE.numberToHex)(e):"0x",j?(0,NE.numberToHex)(j):"0x",i?(0,NE.numberToHex)(i):"0x",d?(0,NE.numberToHex)(d):"0x",f??"0x",g?(0,NE.numberToHex)(g):"0x",l??"0x",o,h?(0,NE.numberToHex)(h):"0x",m??[],...TF(a,b)],q=[],r=[],s=[];if(n)for(let a=0;a<n.length;a++){let{blob:b,commitment:c,proof:d}=n[a];q.push(b),r.push(c),s.push(d)}return(0,NC.concatHex)(["0x03",n?Px([p,q,r,s]):Px(p)])}(a,b):"eip7702"===c?function(a,b){let{authorizationList:c,chainId:d,gas:e,nonce:f,to:g,value:h,maxFeePerGas:i,maxPriorityFeePerGas:j,accessList:k,data:l}=a;!function(a){let{authorizationList:b}=a;if(b)for(let a of b){let{chainId:b}=a,c=a.address;if(!(0,NB.isAddress)(c))throw new NA.InvalidAddressError({address:c});if(b<0)throw new Tm.InvalidChainIdError({chainId:b})}TC(a)}(a);let m=TD(k),n=function(a){if(!a||0===a.length)return[];let b=[];for(let c of a){let{chainId:a,nonce:d,...e}=c,f=c.address;b.push([a?(0,NE.toHex)(a):"0x",f,d?(0,NE.toHex)(d):"0x",...TF({},e)])}return b}(c);return(0,NC.concatHex)(["0x04",Px([(0,NE.numberToHex)(d),f?(0,NE.numberToHex)(f):"0x",j?(0,NE.numberToHex)(j):"0x",i?(0,NE.numberToHex)(i):"0x",e?(0,NE.numberToHex)(e):"0x",g??"0x",h?(0,NE.numberToHex)(h):"0x",l??"0x",m,n,...TF(a,b)])])}(a,b):function(a,b){let{chainId:c=0,gas:d,data:e,nonce:f,to:g,value:h,gasPrice:i}=a;!function(a){let{chainId:b,maxPriorityFeePerGas:c,gasPrice:d,maxFeePerGas:e,to:f}=a;if(f&&!(0,NB.isAddress)(f))throw new NA.InvalidAddressError({address:f});if(void 0!==b&&b<=0)throw new Tm.InvalidChainIdError({chainId:b});if(c||e)throw new N5.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(d&&d>TA.maxUint256)throw new PG.FeeCapTooHighError({maxFeePerGas:d})}(a);let j=[f?(0,NE.numberToHex)(f):"0x",i?(0,NE.numberToHex)(i):"0x",d?(0,NE.numberToHex)(d):"0x",g??"0x",h?(0,NE.numberToHex)(h):"0x",e??"0x"];if(b){let a=(()=>{if(b.v>=35n)return(b.v-35n)/2n>0?b.v:27n+(35n===b.v?0n:1n);if(c>0)return BigInt(2*c)+BigInt(35n+b.v-27n);let a=27n+(27n===b.v?0n:1n);if(b.v!==a)throw new PE.InvalidLegacyVError({v:b.v});return a})(),d=(0,N4.trim)(b.r),e=(0,N4.trim)(b.s);j=[...j,(0,NE.numberToHex)(a),"0x00"===d?"0x":d,"0x00"===e?"0x":e]}else c>0&&(j=[...j,(0,NE.numberToHex)(c),"0x","0x"]);return Px(j)}(a,b)}function TF(a,b){let c=b??a,{v:d,yParity:e}=c;if(void 0===c.r||void 0===c.s||void 0===d&&void 0===e)return[];let f=(0,N4.trim)(c.r),g=(0,N4.trim)(c.s);return["number"==typeof e?e?(0,NE.numberToHex)(1):"0x":0n===d?"0x":1n===d?(0,NE.numberToHex)(1):27n===d?"0x":(0,NE.numberToHex)(1),"0x00"===f?"0x":f,"0x00"===g?"0x":g]}let TG={blockTime:2e3,contracts:{gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters:Tz,serializers:{transaction:function(a,b){var c;return"deposit"===(c=a).type||void 0!==c.sourceHash?function(a){!function(a){let{from:b,to:c}=a;if(b&&!(0,NB.isAddress)(b))throw new NA.InvalidAddressError({address:b});if(c&&!(0,NB.isAddress)(c))throw new NA.InvalidAddressError({address:c})}(a);let{sourceHash:b,data:c,from:d,gas:e,isSystemTx:f,mint:g,to:h,value:i}=a,j=[b,d,h??"0x",g?(0,NE.toHex)(g):"0x",i?(0,NE.toHex)(i):"0x",e?(0,NE.toHex)(e):"0x",f?"0x1":"0x",c??"0x"];return(0,NC.concatHex)(["0x7e",Px(j)])}(a):TE(a,b)}}};function TH(a){let b={formatters:void 0,fees:void 0,serializers:void 0,...a};return Object.assign(b,{extend:function a(b){return c=>{let d="function"==typeof c?c(b):c,e={...b,...d};return Object.assign(e,{extend:a(e)})}}(b)})}let TI=TH({...TG,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...TG.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});function TJ(a,b){return!!(null!==a&&"object"==typeof a&&"$typeName"in a&&"string"==typeof a.$typeName)&&(void 0===b||b.typeName===a.$typeName)}function TK(){let a=0,b=0;for(let c=0;c<28;c+=7){let d=this.buf[this.pos++];if(a|=(127&d)<<c,(128&d)==0)return this.assertBounds(),[a,b]}let c=this.buf[this.pos++];if(a|=(15&c)<<28,b=(112&c)>>4,(128&c)==0)return this.assertBounds(),[a,b];for(let c=3;c<=31;c+=7){let d=this.buf[this.pos++];if(b|=(127&d)<<c,(128&d)==0)return this.assertBounds(),[a,b]}throw Error("invalid varint")}function TL(a,b,c){for(let d=0;d<28;d+=7){let e=a>>>d,f=e>>>7!=0||0!=b,g=(f?128|e:e)&255;if(c.push(g),!f)return}let d=a>>>28&15|(7&b)<<4,e=b>>3!=0;if(c.push((e?128|d:d)&255),e){for(let a=3;a<31;a+=7){let d=b>>>a,e=d>>>7!=0,f=(e?128|d:d)&255;if(c.push(f),!e)return}c.push(b>>>31&1)}}function TM(a){let b="-"===a[0];b&&(a=a.slice(1));let c=0,d=0;function e(b,e){let f=Number(a.slice(b,e));d*=1e6,(c=1e6*c+f)>=0x100000000&&(d+=c/0x100000000|0,c%=0x100000000)}return e(-24,-18),e(-18,-12),e(-12,-6),e(-6),b?TP(c,d):TO(c,d)}function TN(a,b){if({lo:a,hi:b}={lo:a>>>0,hi:b>>>0},b<=2097151)return String(0x100000000*b+a);let c=0xffffff&a,d=(a>>>24|b<<8)&0xffffff,e=b>>16&65535,f=c+6777216*d+6710656*e,g=d+8147497*e,h=2*e;return f>=1e7&&(g+=Math.floor(f/1e7),f%=1e7),g>=1e7&&(h+=Math.floor(g/1e7),g%=1e7),h.toString()+TQ(g)+TQ(f)}function TO(a,b){return{lo:0|a,hi:0|b}}function TP(a,b){return b=~b,a?a=~a+1:b+=1,TO(a,b)}(z=aa||(aa={}))[z.DOUBLE=1]="DOUBLE",z[z.FLOAT=2]="FLOAT",z[z.INT64=3]="INT64",z[z.UINT64=4]="UINT64",z[z.INT32=5]="INT32",z[z.FIXED64=6]="FIXED64",z[z.FIXED32=7]="FIXED32",z[z.BOOL=8]="BOOL",z[z.STRING=9]="STRING",z[z.BYTES=12]="BYTES",z[z.UINT32=13]="UINT32",z[z.SFIXED32=15]="SFIXED32",z[z.SFIXED64=16]="SFIXED64",z[z.SINT32=17]="SINT32",z[z.SINT64=18]="SINT64";let TQ=a=>{let b=String(a);return"0000000".slice(b.length)+b};function TR(a,b){if(a>=0){for(;a>127;)b.push(127&a|128),a>>>=7;b.push(a)}else{for(let c=0;c<9;c++)b.push(127&a|128),a>>=7;b.push(1)}}function TS(){let a=this.buf[this.pos++],b=127&a;if((128&a)==0||(b|=(127&(a=this.buf[this.pos++]))<<7,(128&a)==0)||(b|=(127&(a=this.buf[this.pos++]))<<14,(128&a)==0)||(b|=(127&(a=this.buf[this.pos++]))<<21,(128&a)==0))return this.assertBounds(),b;b|=(15&(a=this.buf[this.pos++]))<<28;for(let b=5;(128&a)!=0&&b<10;b++)a=this.buf[this.pos++];if((128&a)!=0)throw Error("invalid varint");return this.assertBounds(),b>>>0}let TT=function(){let a=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof a.getBigInt64&&"function"==typeof a.getBigUint64&&"function"==typeof a.setBigInt64&&"function"==typeof a.setBigUint64&&(globalThis.Deno||"object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){let b=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),d=BigInt("0"),e=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(a){let d="bigint"==typeof a?a:BigInt(a);if(d>c||d<b)throw Error(`invalid int64: ${a}`);return d},uParse(a){let b="bigint"==typeof a?a:BigInt(a);if(b>e||b<d)throw Error(`invalid uint64: ${a}`);return b},enc(b){return a.setBigInt64(0,this.parse(b),!0),{lo:a.getInt32(0,!0),hi:a.getInt32(4,!0)}},uEnc(b){return a.setBigInt64(0,this.uParse(b),!0),{lo:a.getInt32(0,!0),hi:a.getInt32(4,!0)}},dec:(b,c)=>(a.setInt32(0,b,!0),a.setInt32(4,c,!0),a.getBigInt64(0,!0)),uDec:(b,c)=>(a.setInt32(0,b,!0),a.setInt32(4,c,!0),a.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:a=>("string"!=typeof a&&(a=a.toString()),TU(a),a),uParse:a=>("string"!=typeof a&&(a=a.toString()),TV(a),a),enc:a=>("string"!=typeof a&&(a=a.toString()),TU(a),TM(a)),uEnc:a=>("string"!=typeof a&&(a=a.toString()),TV(a),TM(a)),dec:(a,b)=>{let c,d,e;return(d=0x80000000&(c=TO(a,b)).hi)&&(c=TP(c.lo,c.hi)),e=TN(c.lo,c.hi),d?"-"+e:e},uDec:(a,b)=>TN(a,b)}}();function TU(a){if(!/^-?[0-9]+$/.test(a))throw Error("invalid int64: "+a)}function TV(a){if(!/^[0-9]+$/.test(a))throw Error("invalid uint64: "+a)}function TW(a,b){switch(a){case aa.STRING:return"";case aa.BOOL:return!1;case aa.DOUBLE:case aa.FLOAT:return 0;case aa.INT64:case aa.UINT64:case aa.SFIXED64:case aa.FIXED64:case aa.SINT64:return b?"0":TT.zero;case aa.BYTES:return new Uint8Array(0);default:return 0}}let TX=Symbol.for("reflect unsafe local");function TY(a,b){let c=a[b.localName].case;return void 0===c?c:b.fields.find(a=>a.localName===c)}function TZ(a,b){return Object.prototype.hasOwnProperty.call(a,b)&&void 0!==a[b]}function T$(a,b){if(b.oneof){let c=a[b.oneof.localName];return c.case===b.localName?c.value:void 0}return a[b.localName]}function T_(a,b,c){b.oneof?a[b.oneof.localName]={case:b.localName,value:c}:a[b.localName]=c}function T0(a){return null!==a&&"object"==typeof a&&!Array.isArray(a)}function T1(a,b){var c,d,e,f;if(T0(a)&&TX in a&&"add"in a&&"field"in a&&"function"==typeof a.field){if(void 0!==b){let g=a.field();return b.listKind==g.listKind&&b.scalar===g.scalar&&(null==(c=b.message)?void 0:c.typeName)===(null==(d=g.message)?void 0:d.typeName)&&(null==(e=b.enum)?void 0:e.typeName)===(null==(f=g.enum)?void 0:f.typeName)}return!0}return!1}function T2(a,b){var c,d,e,f;if(T0(a)&&TX in a&&"has"in a&&"field"in a&&"function"==typeof a.field){if(void 0!==b){let g=a.field();return b.mapKey===g.mapKey&&b.mapKind==g.mapKind&&b.scalar===g.scalar&&(null==(c=b.message)?void 0:c.typeName)===(null==(d=g.message)?void 0:d.typeName)&&(null==(e=b.enum)?void 0:e.typeName)===(null==(f=g.enum)?void 0:f.typeName)}return!0}return!1}function T3(a,b){return T0(a)&&TX in a&&"desc"in a&&T0(a.desc)&&"message"===a.desc.kind&&(void 0===b||a.desc.typeName==b.typeName)}function T4(a){let b=a.fields[0];return T5(a.typeName)&&void 0!==b&&"scalar"==b.fieldKind&&"value"==b.name&&1==b.number}function T5(a){return a.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(a.substring(16))}function T6(a,b){if(TJ(b,a))return b;let c=function(a){let b;if(function(a){switch(a.file.edition){case 999:return!1;case 998:return!0;default:return a.fields.some(a=>2!=a.presence&&"message"!=a.fieldKind&&!a.oneof)}}(a)){let c,d,e=Uc.get(a);if(e)({prototype:c,members:d}=e);else{for(let b of(c={},d=new Set,a.members))"oneof"!=b.kind&&("scalar"==b.fieldKind||"enum"==b.fieldKind)&&2!=b.presence&&(d.add(b),c[b.localName]=Ud(b));Uc.set(a,{prototype:c,members:d})}for(let e of((b=Object.create(c)).$typeName=a.typeName,a.members))if(!d.has(e)){if("field"==e.kind&&("message"==e.fieldKind||("scalar"==e.fieldKind||"enum"==e.fieldKind)&&2!=e.presence))continue;b[e.localName]=Ud(e)}}else for(let c of(b={$typeName:a.typeName},a.members))("oneof"==c.kind||2==c.presence)&&(b[c.localName]=Ud(c));return b}(a);return void 0!==b&&function(a,b,c){for(let d of a.members){let a,e=c[d.localName];if(null!=e){if("oneof"==d.kind){let b=TY(c,d);if(!b)continue;a=b,e=T$(c,b)}else a=d;switch(a.fieldKind){case"message":e=T8(a,e);break;case"scalar":e=T7(a,e);break;case"list":e=function(a,b){if(Array.isArray(b)){if(a.scalar==aa.BYTES)return b.map(T9);if("message"==a.listKind)return b.map(b=>T8(a,b))}return b}(a,e);break;case"map":e=function(a,b){if(T0(b)){if(a.scalar==aa.BYTES)return Ua(b,T9);if("message"==a.mapKind)return Ua(b,b=>T8(a,b))}return b}(a,e)}T_(b,a,e)}}}(a,c,b),c}function T7(a,b){return a.scalar==aa.BYTES?T9(b):b}function T8(a,b){if("message"==a.fieldKind&&!a.oneof&&T4(a.message))return T7(a.message.fields[0],b);if(T0(b)){if("google.protobuf.Struct"==a.message.typeName&&"google.protobuf.Value"!==a.parent.typeName)return b;if(!TJ(b,a.message))return T6(a.message,b)}return b}function T9(a){return Array.isArray(a)?new Uint8Array(a):a}function Ua(a,b){let c={};for(let d of Object.entries(a))c[d[0]]=b(d[1]);return c}let Ub=Symbol(),Uc=new WeakMap;function Ud(a){if("oneof"==a.kind)return{case:void 0};if("list"==a.fieldKind)return[];if("map"==a.fieldKind)return{};if("message"==a.fieldKind)return Ub;let b=a.getDefaultValue();return void 0!==b?"scalar"==a.fieldKind&&a.longAsString?b.toString():b:"scalar"==a.fieldKind?TW(a.scalar,a.longAsString):a.enum.values[0].number}var Ue=a.i(68937);async function Uf({hash:a,privateKey:b,to:c="object"}){let{r:d,s:e,recovery:f}=SB.secp256k1.sign(a.slice(2),b.slice(2),{lowS:!0,extraEntropy:!!(0,NJ.isHex)(!1,{strict:!1})&&(0,NH.hexToBytes)(!1)}),g={r:(0,NE.numberToHex)(d,{size:32}),s:(0,NE.numberToHex)(e,{size:32}),v:f?28n:27n,yParity:f};return"bytes"===c||"hex"===c?SN({...g,to:c}):g}async function Ug(a){let{chainId:b,nonce:c,privateKey:d,to:e="object"}=a,f=a.contractAddress??a.address,g=await Uf({hash:Pz({address:f,chainId:b,nonce:c}),privateKey:d,to:e});return"object"===e?{address:f,chainId:b,nonce:c,...g}:g}async function Uh({message:a,privateKey:b}){return await Uf({hash:ST(a),privateKey:b,to:"hex"})}async function Ui(a){let{privateKey:b,transaction:c,serializer:d=TE}=a,e="eip4844"===c.type?{...c,sidecars:!1}:c,f=await Uf({hash:(0,N9.keccak256)(await d(e)),privateKey:b});return await d(c,f)}async function Uj(a){let{privateKey:b,...c}=a;return await Uf({hash:S$(c),privateKey:b,to:"hex"})}function Uk(a,b={}){let{nonceManager:c}=b,d=(0,NE.toHex)(SB.secp256k1.getPublicKey(a.slice(2),!1));return{...function(a){if("string"==typeof a){if(!(0,NB.isAddress)(a,{strict:!1}))throw new NA.InvalidAddressError({address:a});return{address:a,type:"json-rpc"}}if(!(0,NB.isAddress)(a.address,{strict:!1}))throw new NA.InvalidAddressError({address:a.address});return{address:a.address,nonceManager:a.nonceManager,sign:a.sign,signAuthorization:a.signAuthorization,signMessage:a.signMessage,signTransaction:a.signTransaction,signTypedData:a.signTypedData,source:"custom",type:"local"}}({address:Pq(d),nonceManager:c,sign:async({hash:b})=>Uf({hash:b,privateKey:a,to:"hex"}),signAuthorization:async b=>Ug({...b,privateKey:a}),signMessage:async({message:b})=>Uh({message:b,privateKey:a}),signTransaction:async(b,{serializer:c}={})=>Ui({privateKey:a,transaction:b,serializer:c}),signTypedData:async b=>Uj({...b,privateKey:a})}),publicKey:d,source:"privateKey"}}var Nx=Nx;let Ul={euint64:NU.euint64,euint160:NU.euint160,euint256:NU.euint256,ebool:NU.ebool},Um=Object.keys(Ul);Nx.Literal(...Um);let Un=Nx.Literal(...Object.values(Ul)),Uo=Nx.Literal(1),Up=Nx.Struct({scheme:Uo,type:Un,value:NL});Nx.Struct({ciphertext:Up,context:NW}),Nx.Struct({ciphertext:Up,context:NW,prehandle:NR,handle:NR});let Uq=Nx.Union(Nx.Struct({scheme:Uo,type:Nx.Literal(NU.euint64,NU.euint160,NU.euint256),value:Nx.BigInt}),Nx.Struct({scheme:Uo,type:Nx.Literal(NU.ebool),value:Nx.Boolean}));function Ur(a,b,c){switch(b){case NU.euint64:case NU.euint160:case NU.euint256:return{scheme:a,type:b,value:c};case NU.ebool:return{scheme:a,type:b,value:0n!==c};default:console.warn(`bigintToPlaintext: Unsupported Encryption Scheme type ${b}`)}throw Error(`Unsupported Encryption Scheme type: ${b}`)}Nx.Struct({plaintext:Uq,context:NW});let Us=[{name:"handle",type:"bytes32"},{name:"ciphertext",type:"bytes"}],Ut=[{type:"function",inputs:[],name:"getSession",outputs:[{name:"",internalType:"struct Session",type:"tuple",components:[{name:"decrypter",internalType:"address",type:"address"},{name:"expiresAt",internalType:"uint256",type:"uint256"}]}],stateMutability:"pure"}],Uu=[{type:"function",inputs:[{name:"voucher",internalType:"struct AllowanceVoucher",type:"tuple",components:[{name:"sessionNonce",internalType:"bytes32",type:"bytes32"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"callFunction",internalType:"bytes4",type:"bytes4"},{name:"sharerArgData",internalType:"bytes",type:"bytes"}]}],name:"allowanceVoucherDigest",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"eip712Domain",outputs:[{name:"fields",internalType:"bytes1",type:"bytes1"},{name:"name",internalType:"string",type:"string"},{name:"version",internalType:"string",type:"string"},{name:"chainId",internalType:"uint256",type:"uint256"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"salt",internalType:"bytes32",type:"bytes32"},{name:"extensions",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"account",internalType:"address",type:"address"}],name:"getActiveVouchersSessionNonce",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"},{name:"proof",internalType:"struct AllowanceProof",type:"tuple",components:[{name:"sharer",internalType:"address",type:"address"},{name:"voucher",internalType:"struct AllowanceVoucher",type:"tuple",components:[{name:"sessionNonce",internalType:"bytes32",type:"bytes32"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"callFunction",internalType:"bytes4",type:"bytes4"},{name:"sharerArgData",internalType:"bytes",type:"bytes"}]},{name:"voucherSignature",internalType:"bytes",type:"bytes"},{name:"requesterArgData",internalType:"bytes",type:"bytes"}]}],name:"isAllowedWithProof",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"updateActiveVouchersSessionNonce",outputs:[],stateMutability:"nonpayable"},{type:"event",anonymous:!1,inputs:[],name:"EIP712DomainChanged"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[{name:"providedSessionNonce",internalType:"bytes32",type:"bytes32"},{name:"activeSessionNonce",internalType:"bytes32",type:"bytes32"}],name:"InvalidVoucherSessionNonce"},{type:"error",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"digest",internalType:"bytes32",type:"bytes32"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"InvalidVoucherSignature"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"sharer",internalType:"address",type:"address"}],name:"SharerNotAllowedForHandle"}],Uv=[{type:"constructor",inputs:[{name:"salt",internalType:"bytes32",type:"bytes32"},{name:"_incoVerifier",internalType:"contract IIncoVerifier",type:"address"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"nonpayable"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"allow",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"allowTransient",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"allowedTransient",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"value",internalType:"address",type:"address"}],name:"asEaddress",outputs:[{name:"newEaddress",internalType:"eaddress",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"value",internalType:"bool",type:"bool"}],name:"asEbool",outputs:[{name:"newEbool",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"value",internalType:"uint256",type:"uint256"}],name:"asEuint256",outputs:[{name:"newEuint256",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"proof",internalType:"struct AllowanceProof",type:"tuple",components:[{name:"sharer",internalType:"address",type:"address"},{name:"voucher",internalType:"struct AllowanceVoucher",type:"tuple",components:[{name:"sessionNonce",internalType:"bytes32",type:"bytes32"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"callFunction",internalType:"bytes4",type:"bytes4"},{name:"sharerArgData",internalType:"bytes",type:"bytes"}]},{name:"voucherSignature",internalType:"bytes",type:"bytes"},{name:"requesterArgData",internalType:"bytes",type:"bytes"}]}],name:"claimHandle",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"cleanTransientStorage",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eAdd",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32"},{name:"rhs",internalType:"bytes32",type:"bytes32"}],name:"eBitAnd",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32"},{name:"rhs",internalType:"bytes32",type:"bytes32"}],name:"eBitOr",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32"},{name:"rhs",internalType:"bytes32",type:"bytes32"}],name:"eBitXor",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"ct",internalType:"bytes32",type:"bytes32"},{name:"toType",internalType:"enum ETypes",type:"uint8"}],name:"eCast",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eDiv",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32"},{name:"rhs",internalType:"bytes32",type:"bytes32"}],name:"eEq",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eGe",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eGt",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"control",internalType:"ebool",type:"bytes32"},{name:"ifTrue",internalType:"bytes32",type:"bytes32"},{name:"ifFalse",internalType:"bytes32",type:"bytes32"}],name:"eIfThenElse",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eLe",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eLt",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eMax",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eMin",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eMul",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32"},{name:"rhs",internalType:"bytes32",type:"bytes32"}],name:"eNe",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"operand",internalType:"ebool",type:"bytes32"}],name:"eNot",outputs:[{name:"result",internalType:"ebool",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"randType",internalType:"enum ETypes",type:"uint8"}],name:"eRand",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"payable"},{type:"function",inputs:[{name:"upperBound",internalType:"bytes32",type:"bytes32"},{name:"randType",internalType:"enum ETypes",type:"uint8"}],name:"eRandBounded",outputs:[{name:"result",internalType:"bytes32",type:"bytes32"}],stateMutability:"payable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eRem",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eRotl",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eRotr",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eShl",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eShr",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"lhs",internalType:"euint256",type:"bytes32"},{name:"rhs",internalType:"euint256",type:"bytes32"}],name:"eSub",outputs:[{name:"result",internalType:"euint256",type:"bytes32"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"getEventCounter",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getFee",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"pure"},{type:"function",inputs:[],name:"getMajorVersion",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getName",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getNextEventId",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"op",internalType:"enum EOps",type:"uint8"},{name:"returnType",internalType:"enum ETypes",type:"uint8"},{name:"packedInputs",internalType:"bytes",type:"bytes"}],name:"getOpResultHandle",outputs:[{name:"generatedHandle",internalType:"bytes32",type:"bytes32"}],stateMutability:"pure"},{type:"function",inputs:[{name:"plaintextBytes",internalType:"bytes32",type:"bytes32"},{name:"handleType",internalType:"enum ETypes",type:"uint8"}],name:"getTrivialEncryptHandle",outputs:[{name:"generatedHandle",internalType:"bytes32",type:"bytes32"}],stateMutability:"pure"},{type:"function",inputs:[],name:"getVersion",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getVersionedName",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"incoVerifier",outputs:[{name:"",internalType:"contract IIncoVerifier",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"isAllowed",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"}],name:"isRevealed",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"majorVersion",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[],name:"minorVersion",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"input",internalType:"bytes",type:"bytes"},{name:"user",internalType:"address",type:"address"}],name:"newEaddress",outputs:[{name:"newValue",internalType:"eaddress",type:"bytes32"}],stateMutability:"payable"},{type:"function",inputs:[{name:"input",internalType:"bytes",type:"bytes"},{name:"user",internalType:"address",type:"address"}],name:"newEbool",outputs:[{name:"newValue",internalType:"ebool",type:"bytes32"}],stateMutability:"payable"},{type:"function",inputs:[{name:"input",internalType:"bytes",type:"bytes"},{name:"user",internalType:"address",type:"address"}],name:"newEuint256",outputs:[{name:"newValue",internalType:"euint256",type:"bytes32"}],stateMutability:"payable"},{type:"function",inputs:[],name:"owner",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"patchVersion",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"}],name:"persistAllowed",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"}],name:"reveal",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"salt",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newOwner",internalType:"address",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[],name:"withdrawFees",outputs:[],stateMutability:"nonpayable"},{type:"event",anonymous:!1,inputs:[{name:"handle",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"account",internalType:"address",type:"address",indexed:!1},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"Allow"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EAdd"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"rhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EBitAnd"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"rhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EBitOr"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"rhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EBitXor"},{type:"event",anonymous:!1,inputs:[{name:"ct",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"toType",internalType:"uint8",type:"uint8",indexed:!0},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ECast"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EDiv"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"rhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EEq"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EGe"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EGt"},{type:"event",anonymous:!1,inputs:[{name:"control",internalType:"ebool",type:"bytes32",indexed:!1},{name:"ifTrue",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"ifFalse",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EIfThenElse"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ELe"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ELt"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EMax"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EMin"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EMul"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"rhs",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ENe"},{type:"event",anonymous:!1,inputs:[{name:"operand",internalType:"ebool",type:"bytes32",indexed:!0},{name:"result",internalType:"ebool",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ENot"},{type:"event",anonymous:!1,inputs:[{name:"counter",internalType:"uint256",type:"uint256",indexed:!0},{name:"randType",internalType:"enum ETypes",type:"uint8",indexed:!1},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ERand"},{type:"event",anonymous:!1,inputs:[{name:"counter",internalType:"uint256",type:"uint256",indexed:!0},{name:"randType",internalType:"enum ETypes",type:"uint8",indexed:!1},{name:"upperBound",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ERandBounded"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ERem"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ERotl"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ERotr"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EShl"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"EShr"},{type:"event",anonymous:!1,inputs:[{name:"lhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"rhs",internalType:"euint256",type:"bytes32",indexed:!0},{name:"result",internalType:"euint256",type:"bytes32",indexed:!0},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"ESub"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"contractAddress",internalType:"address",type:"address",indexed:!0},{name:"user",internalType:"address",type:"address",indexed:!0},{name:"ciphertext",internalType:"bytes",type:"bytes",indexed:!1},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"NewInput"},{type:"event",anonymous:!1,inputs:[{name:"previousOwner",internalType:"address",type:"address",indexed:!0},{name:"newOwner",internalType:"address",type:"address",indexed:!0}],name:"OwnershipTransferred"},{type:"event",anonymous:!1,inputs:[{name:"handle",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"Reveal"},{type:"event",anonymous:!1,inputs:[{name:"result",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"plainTextBytes",internalType:"bytes32",type:"bytes32",indexed:!1},{name:"handleType",internalType:"enum ETypes",type:"uint8",indexed:!1},{name:"eventId",internalType:"uint256",type:"uint256",indexed:!1}],name:"TrivialEncrypt"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[{name:"externalHandle",internalType:"bytes32",type:"bytes32"},{name:"computedHandle",internalType:"bytes32",type:"bytes32"},{name:"chainId",internalType:"uint256",type:"uint256"},{name:"aclAddress",internalType:"address",type:"address"},{name:"userAddress",internalType:"address",type:"address"},{name:"contractAddress",internalType:"address",type:"address"}],name:"ExternalHandleDoesNotMatchComputedHandle"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"FeeNotPaid"},{type:"error",inputs:[],name:"FeeWithdrawalFailed"},{type:"error",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"}],name:"HandleAlreadyExists"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"InvalidShortString"},{type:"error",inputs:[],name:"NoFeesToWithdraw"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"OwnableInvalidOwner"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"}],name:"OwnableUnauthorizedAccount"},{type:"error",inputs:[{name:"verifyingContract",internalType:"address",type:"address"},{name:"callFunction",internalType:"bytes4",type:"bytes4"},{name:"argData",internalType:"bytes",type:"bytes"}],name:"ProofVerificationFailed"},{type:"error",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"sender",internalType:"address",type:"address"}],name:"SenderNotAllowedForHandle"},{type:"error",inputs:[{name:"str",internalType:"string",type:"string"}],name:"StringTooLong"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"},{type:"error",inputs:[{name:"actual",internalType:"enum ETypes",type:"uint8"},{name:"expectedTypes",internalType:"bytes32",type:"bytes32"}],name:"UnexpectedType"},{type:"error",inputs:[{name:"actual",internalType:"enum ETypes",type:"uint8"}],name:"UnsupportedType"}],Uw=[{type:"constructor",inputs:[{name:"salt",internalType:"bytes32",type:"bytes32"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"nonpayable"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"},{name:"sharerArgData",internalType:"bytes",type:"bytes"},{name:"requesterArgData",internalType:"bytes",type:"bytes"}],name:"canUseSession",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"getMajorVersion",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getName",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getVersion",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getVersionedName",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"majorVersion",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[],name:"minorVersion",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[],name:"owner",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"patchVersion",outputs:[{name:"",internalType:"uint8",type:"uint8"}],stateMutability:"view"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"salt",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newOwner",internalType:"address",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"previousOwner",internalType:"address",type:"address",indexed:!0},{name:"newOwner",internalType:"address",type:"address",indexed:!0}],name:"OwnershipTransferred"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"InvalidShortString"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"OwnableInvalidOwner"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"}],name:"OwnableUnauthorizedAccount"},{type:"error",inputs:[{name:"str",internalType:"string",type:"string"}],name:"StringTooLong"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"}],Ux=[{type:"constructor",inputs:[{name:"_incoLightningAddress",internalType:"address",type:"address"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"ADD_NODE_RESULT_STRUCT_HASH",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"BOOTSTRAP_RESULT_STRUCT_HASH",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"QUOTE_VERIFIER_VERSION",outputs:[{name:"",internalType:"uint16",type:"uint16"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"UPGRADE_RESULT_STRUCT_HASH",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"addNodeResult",internalType:"struct AddNodeResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}]}],name:"addNodeResultDigest",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"voucher",internalType:"struct AllowanceVoucher",type:"tuple",components:[{name:"sessionNonce",internalType:"bytes32",type:"bytes32"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"callFunction",internalType:"bytes4",type:"bytes4"},{name:"sharerArgData",internalType:"bytes",type:"bytes"}]}],name:"allowanceVoucherDigest",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newMrAggregated",internalType:"bytes32",type:"bytes32"}],name:"approveNewTeeVersion",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"index",internalType:"uint256",type:"uint256"}],name:"approvedTeeVersions",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"bootstrapResult",internalType:"struct BootstrapResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}]}],name:"bootstrapResultDigest",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"mrTd",internalType:"bytes",type:"bytes"},{name:"rtMr0",internalType:"bytes",type:"bytes"},{name:"rtMr1",internalType:"bytes",type:"bytes"},{name:"rtMr2",internalType:"bytes",type:"bytes"}],name:"computeMrAggregated",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"pure"},{type:"function",inputs:[{name:"decryption",internalType:"struct DecryptionAttestation",type:"tuple",components:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"value",internalType:"bytes32",type:"bytes32"}]}],name:"decryptionAttestationDigest",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"eip712Domain",outputs:[{name:"fields",internalType:"bytes1",type:"bytes1"},{name:"name",internalType:"string",type:"string"},{name:"version",internalType:"string",type:"string"},{name:"chainId",internalType:"uint256",type:"uint256"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"salt",internalType:"bytes32",type:"bytes32"},{name:"extensions",internalType:"uint256[]",type:"uint256[]"}],stateMutability:"view"},{type:"function",inputs:[{name:"account",internalType:"address",type:"address"}],name:"getActiveVouchersSessionNonce",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"getEIP712Name",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[],name:"getEIP712Version",outputs:[{name:"",internalType:"string",type:"string"}],stateMutability:"view"},{type:"function",inputs:[{name:"index",internalType:"uint256",type:"uint256"}],name:"getSignerAtIndex",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[],name:"getSignersCount",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[],name:"getThreshold",outputs:[{name:"",internalType:"uint256",type:"uint256"}],stateMutability:"view"},{type:"function",inputs:[{name:"owner",internalType:"address",type:"address"},{name:"name",internalType:"string",type:"string"},{name:"version",internalType:"string",type:"string"},{name:"quoteVerifier",internalType:"contract IQuoteVerifier",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"account",internalType:"address",type:"address"},{name:"proof",internalType:"struct AllowanceProof",type:"tuple",components:[{name:"sharer",internalType:"address",type:"address"},{name:"voucher",internalType:"struct AllowanceVoucher",type:"tuple",components:[{name:"sessionNonce",internalType:"bytes32",type:"bytes32"},{name:"verifyingContract",internalType:"address",type:"address"},{name:"callFunction",internalType:"bytes4",type:"bytes4"},{name:"sharerArgData",internalType:"bytes",type:"bytes"}]},{name:"voucherSignature",internalType:"bytes",type:"bytes"},{name:"requesterArgData",internalType:"bytes",type:"bytes"}]}],name:"isAllowedWithProof",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"isBootstrapComplete",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"signerAddress",internalType:"address",type:"address"}],name:"isSigner",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"decryption",internalType:"struct DecryptionAttestation",type:"tuple",components:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"value",internalType:"bytes32",type:"bytes32"}]},{name:"signatures",internalType:"bytes[]",type:"bytes[]"}],name:"isValidDecryptionAttestation",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[{name:"digest",internalType:"bytes32",type:"bytes32"},{name:"signatures",internalType:"bytes[]",type:"bytes[]"}],name:"isValidSignature",outputs:[{name:"",internalType:"bool",type:"bool"}],stateMutability:"view"},{type:"function",inputs:[],name:"networkPubkey",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"},{type:"function",inputs:[],name:"owner",outputs:[{name:"",internalType:"address",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"tdReport",internalType:"struct Td10ReportBody",type:"tuple",components:[{name:"teeTcbSvn",internalType:"bytes16",type:"bytes16"},{name:"mrSeam",internalType:"bytes",type:"bytes"},{name:"mrsignerSeam",internalType:"bytes",type:"bytes"},{name:"seamAttributes",internalType:"bytes8",type:"bytes8"},{name:"tdAttributes",internalType:"bytes8",type:"bytes8"},{name:"xFAM",internalType:"bytes8",type:"bytes8"},{name:"mrTd",internalType:"bytes",type:"bytes"},{name:"mrConfigId",internalType:"bytes",type:"bytes"},{name:"mrOwner",internalType:"bytes",type:"bytes"},{name:"mrOwnerConfig",internalType:"bytes",type:"bytes"},{name:"rtMr0",internalType:"bytes",type:"bytes"},{name:"rtMr1",internalType:"bytes",type:"bytes"},{name:"rtMr2",internalType:"bytes",type:"bytes"},{name:"rtMr3",internalType:"bytes",type:"bytes"},{name:"reportData",internalType:"bytes",type:"bytes"}]}],name:"parseReport",outputs:[{name:"",internalType:"address",type:"address"},{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"pure"},{type:"function",inputs:[{name:"rawQuote",internalType:"bytes",type:"bytes"}],name:"parseTd10ReportBody",outputs:[{name:"report",internalType:"struct Td10ReportBody",type:"tuple",components:[{name:"teeTcbSvn",internalType:"bytes16",type:"bytes16"},{name:"mrSeam",internalType:"bytes",type:"bytes"},{name:"mrsignerSeam",internalType:"bytes",type:"bytes"},{name:"seamAttributes",internalType:"bytes8",type:"bytes8"},{name:"tdAttributes",internalType:"bytes8",type:"bytes8"},{name:"xFAM",internalType:"bytes8",type:"bytes8"},{name:"mrTd",internalType:"bytes",type:"bytes"},{name:"mrConfigId",internalType:"bytes",type:"bytes"},{name:"mrOwner",internalType:"bytes",type:"bytes"},{name:"mrOwnerConfig",internalType:"bytes",type:"bytes"},{name:"rtMr0",internalType:"bytes",type:"bytes"},{name:"rtMr1",internalType:"bytes",type:"bytes"},{name:"rtMr2",internalType:"bytes",type:"bytes"},{name:"rtMr3",internalType:"bytes",type:"bytes"},{name:"reportData",internalType:"bytes",type:"bytes"}]}],stateMutability:"pure"},{type:"function",inputs:[],name:"proxiableUUID",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[],name:"quoteVerifier",outputs:[{name:"",internalType:"contract IQuoteVerifier",type:"address"}],stateMutability:"view"},{type:"function",inputs:[{name:"mrAggregated",internalType:"bytes32",type:"bytes32"}],name:"removeApprovedTeeVersion",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"signerAddress",internalType:"address",type:"address"}],name:"removeSigner",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newThreshold",internalType:"uint256",type:"uint256"}],name:"setThreshold",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newOwner",internalType:"address",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[],name:"updateActiveVouchersSessionNonce",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"upgradeResult",internalType:"struct UpgradeResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}]}],name:"upgradeResultDigest",outputs:[{name:"",internalType:"bytes32",type:"bytes32"}],stateMutability:"view"},{type:"function",inputs:[{name:"newImplementation",internalType:"address",type:"address"},{name:"data",internalType:"bytes",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable"},{type:"function",inputs:[{name:"tcbInfo",internalType:"struct TcbInfoJsonObj",type:"tuple",components:[{name:"tcbInfoStr",internalType:"string",type:"string"},{name:"signature",internalType:"bytes",type:"bytes"}]},{name:"identity",internalType:"struct EnclaveIdentityJsonObj",type:"tuple",components:[{name:"identityStr",internalType:"string",type:"string"},{name:"signature",internalType:"bytes",type:"bytes"}]}],name:"uploadCollateral",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newMrAggregated",internalType:"bytes32",type:"bytes32"},{name:"addNodeResult",internalType:"struct AddNodeResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}]},{name:"quote",internalType:"bytes",type:"bytes"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"verifyAddNodeResult",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"bootstrapResult",internalType:"struct BootstrapResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}]},{name:"quote",internalType:"bytes",type:"bytes"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"verifyBootstrapResult",outputs:[],stateMutability:"nonpayable"},{type:"function",inputs:[{name:"newMrAggregated",internalType:"bytes32",type:"bytes32"},{name:"upgradeResult",internalType:"struct UpgradeResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}]},{name:"quote",internalType:"bytes",type:"bytes"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"verifyUpgradeResult",outputs:[],stateMutability:"nonpayable"},{type:"event",anonymous:!1,inputs:[{name:"signerAddress",internalType:"address",type:"address",indexed:!1}],name:"AddedSignatureVerifier"},{type:"event",anonymous:!1,inputs:[{name:"newEoaSigner",internalType:"address",type:"address",indexed:!0},{name:"bootstrapResult",internalType:"struct BootstrapResult",type:"tuple",components:[{name:"networkPubkey",internalType:"bytes",type:"bytes"}],indexed:!1}],name:"BootstrapStageComplete"},{type:"event",anonymous:!1,inputs:[],name:"EIP712DomainChanged"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint64",type:"uint64",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"covalidatorAddress",internalType:"address",type:"address",indexed:!1},{name:"quote",internalType:"bytes",type:"bytes",indexed:!1}],name:"NewCovalidatorAdded"},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint256",type:"uint256",indexed:!0},{name:"mrAggregated",internalType:"bytes32",type:"bytes32",indexed:!0}],name:"NewTEEVersionApproved"},{type:"event",anonymous:!1,inputs:[{name:"previousOwner",internalType:"address",type:"address",indexed:!0},{name:"newOwner",internalType:"address",type:"address",indexed:!0}],name:"OwnershipTransferred"},{type:"event",anonymous:!1,inputs:[{name:"signerAddress",internalType:"address",type:"address",indexed:!1}],name:"RemovedSignatureVerifier"},{type:"event",anonymous:!1,inputs:[{name:"eoaSigner",internalType:"address",type:"address",indexed:!0},{name:"mrAggregated",internalType:"bytes32",type:"bytes32",indexed:!0}],name:"SignerHasUpdatedTDX"},{type:"event",anonymous:!1,inputs:[{name:"mrAggregated",internalType:"bytes32",type:"bytes32",indexed:!0}],name:"TEEVersionRemoved"},{type:"event",anonymous:!1,inputs:[{name:"oldThreshold",internalType:"uint256",type:"uint256",indexed:!1},{name:"newThreshold",internalType:"uint256",type:"uint256",indexed:!1}],name:"ThresholdChanged"},{type:"event",anonymous:!1,inputs:[{name:"implementation",internalType:"address",type:"address",indexed:!0}],name:"Upgraded"},{type:"error",inputs:[{name:"target",internalType:"address",type:"address"}],name:"AddressEmptyCode"},{type:"error",inputs:[],name:"BootstrapAlreadyCompleted"},{type:"error",inputs:[],name:"BootstrapNotComplete"},{type:"error",inputs:[],name:"ECDSAInvalidSignature"},{type:"error",inputs:[{name:"length",internalType:"uint256",type:"uint256"}],name:"ECDSAInvalidSignatureLength"},{type:"error",inputs:[{name:"s",internalType:"bytes32",type:"bytes32"}],name:"ECDSAInvalidSignatureS"},{type:"error",inputs:[{name:"implementation",internalType:"address",type:"address"}],name:"ERC1967InvalidImplementation"},{type:"error",inputs:[],name:"ERC1967NonPayable"},{type:"error",inputs:[],name:"EmptyIdentity"},{type:"error",inputs:[],name:"EmptyTcbInfo"},{type:"error",inputs:[],name:"FailedCall"},{type:"error",inputs:[],name:"IndexOutOfBounds"},{type:"error",inputs:[],name:"InvalidEIP712Signature"},{type:"error",inputs:[],name:"InvalidInitialization"},{type:"error",inputs:[],name:"InvalidNetworkPubkey"},{type:"error",inputs:[{name:"actual",internalType:"uint16",type:"uint16"},{name:"expected",internalType:"uint16",type:"uint16"}],name:"InvalidQuoteVerifierVersion"},{type:"error",inputs:[],name:"InvalidReportDataSigner"},{type:"error",inputs:[],name:"InvalidReportMrAggregated"},{type:"error",inputs:[{name:"threshold",internalType:"uint256",type:"uint256"},{name:"nbOfSigners",internalType:"uint256",type:"uint256"}],name:"InvalidThreshold"},{type:"error",inputs:[{name:"providedSessionNonce",internalType:"bytes32",type:"bytes32"},{name:"activeSessionNonce",internalType:"bytes32",type:"bytes32"}],name:"InvalidVoucherSessionNonce"},{type:"error",inputs:[{name:"signer",internalType:"address",type:"address"},{name:"digest",internalType:"bytes32",type:"bytes32"},{name:"signature",internalType:"bytes",type:"bytes"}],name:"InvalidVoucherSignature"},{type:"error",inputs:[],name:"NotInitializing"},{type:"error",inputs:[{name:"owner",internalType:"address",type:"address"}],name:"OwnableInvalidOwner"},{type:"error",inputs:[{name:"account",internalType:"address",type:"address"}],name:"OwnableUnauthorizedAccount"},{type:"error",inputs:[{name:"handle",internalType:"bytes32",type:"bytes32"},{name:"sharer",internalType:"address",type:"address"}],name:"SharerNotAllowedForHandle"},{type:"error",inputs:[{name:"signerAddress",internalType:"address",type:"address"}],name:"SignerAlreadyAdded"},{type:"error",inputs:[{name:"signerAddress",internalType:"address",type:"address"}],name:"SignerNotFound"},{type:"error",inputs:[],name:"TEEVersionNotFound"},{type:"error",inputs:[],name:"UUPSUnauthorizedCallContext"},{type:"error",inputs:[{name:"slot",internalType:"bytes32",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID"}];function Uy(a){let b=function(){if(!f){f=[];let a=UA("std");for(let b=0;b<a.length;b++)f[a[b].charCodeAt(0)]=b;f[45]=a.indexOf("+"),f[95]=a.indexOf("/")}return f}(),c=3*a.length/4;"="==a[a.length-2]?c-=2:"="==a[a.length-1]&&(c-=1);let d=new Uint8Array(c),e=0,g=0,h,i=0;for(let c=0;c<a.length;c++){if(void 0===(h=b[a.charCodeAt(c)]))switch(a[c]){case"=":g=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(g){case 0:i=h,g=1;break;case 1:d[e++]=i<<2|(48&h)>>4,i=h,g=2;break;case 2:d[e++]=(15&i)<<4|(60&h)>>2,i=h,g=3;break;case 3:d[e++]=(3&i)<<6|h,g=0}}if(1==g)throw Error("invalid base64 string");return d.subarray(0,e)}function Uz(a,b="std"){let c=UA(b),d="std"==b,e="",f=0,g,h=0;for(let b=0;b<a.length;b++)switch(g=a[b],f){case 0:e+=c[g>>2],h=(3&g)<<4,f=1;break;case 1:e+=c[h|g>>4],h=(15&g)<<2,f=2;break;case 2:e+=c[h|g>>6],e+=c[63&g],f=0}return f&&(e+=c[h],d&&(e+="=",1==f&&(e+="="))),e}function UA(a){return d||(e=(d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("")).slice(0,-2).concat("-","_")),"url"==a?e:d}function UB(a){let b=!1,c=[];for(let d=0;d<a.length;d++){let e=a.charAt(d);switch(e){case"_":b=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":c.push(e),b=!1;break;default:b&&(b=!1,e=e.toUpperCase()),c.push(e)}}return c.join("")}function UC(a){return a.replace(/[A-Z]/g,a=>"_"+a.toLowerCase())}let UD=new Set(["constructor","toString","toJSON","valueOf"]);function UE(a){return UD.has(a)?a+"$":a}function UF(a){for(let b of a.field)TZ(b,"jsonName")||(b.jsonName=UB(b.name));a.nestedType.forEach(UF)}function UG(...a){let b,c,d,e=(b=new Map,c=new Map,d=new Map,{kind:"registry",types:b,extendees:c,[Symbol.iterator]:()=>b.values(),get files(){return d.values()},addFile(a,b,c){if(d.set(a.proto.name,a),!b)for(let b of function* a(b){switch(b.kind){case"file":for(let c of b.messages)yield c,yield*a(c);yield*b.enums,yield*b.services,yield*b.extensions;break;case"message":for(let c of b.nestedMessages)yield c,yield*a(c);yield*b.nestedEnums,yield*b.nestedExtensions}}(a))this.add(b);if(c)for(let d of a.dependencies)this.addFile(d,b,c)},add(a){if("extension"==a.kind){let b=c.get(a.extendee.typeName);b||c.set(a.extendee.typeName,b=new Map),b.set(a.number,a)}b.set(a.typeName,a)},get:a=>b.get(a),getFile:a=>d.get(a),getMessage(a){let c=b.get(a);return(null==c?void 0:c.kind)=="message"?c:void 0},getEnum(a){let c=b.get(a);return(null==c?void 0:c.kind)=="enum"?c:void 0},getExtension(a){let c=b.get(a);return(null==c?void 0:c.kind)=="extension"?c:void 0},getExtensionFor(a,b){var d;return null==(d=c.get(a.typeName))?void 0:d.get(b)},getService(a){let c=b.get(a);return(null==c?void 0:c.kind)=="service"?c:void 0}});if(!a.length)return e;if("$typeName"in a[0]&&"google.protobuf.FileDescriptorSet"==a[0].$typeName){for(let b of a[0].file)UI(b,e);return e}if("$typeName"in a[0]){let b=a[0],c=a[1],d=new Set;for(let a of[b,...function a(b){let f=[];for(let a of b.dependency){if(void 0!=e.getFile(a)||d.has(a))continue;let g=c(a);if(!g)throw Error(`Unable to resolve ${a}, imported by ${b.name}`);"kind"in g?e.addFile(g,!1,!0):(d.add(g.name),f.push(g))}return f.concat(...f.map(a))}(b)].reverse())UI(a,e)}else for(let b of a)for(let a of b.files)e.addFile(a);return e}let UH={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function UI(a,b){var c,d,e,f;let g={kind:"file",proto:a,deprecated:null!=(d=null==(c=a.options)?void 0:c.deprecated)&&d,edition:function(a){switch(a.syntax){case"":case"proto2":return 998;case"proto3":return 999;case"editions":if(a.edition in UH)return a.edition;throw Error(`${a.name}: unsupported edition`);default:throw Error(`${a.name}: unsupported syntax "${a.syntax}"`)}}(a),name:a.name.replace(/\.proto$/,""),dependencies:(e=a,f=b,e.dependency.map(a=>{let b=f.getFile(a);if(!b)throw Error(`Cannot find ${a}, imported by ${e.name}`);return b})),enums:[],messages:[],extensions:[],services:[],toString:()=>`file ${a.name}`},h=new Map,i={get:a=>h.get(a),add(a){var b;UR((null==(b=a.proto.options)?void 0:b.mapEntry)===!0),h.set(a.typeName,a)}};for(let c of a.enumType)UL(c,g,void 0,b);for(let c of a.messageType)!function a(b,c,d,e,f){var g,h,i,j;let k={kind:"message",proto:b,deprecated:null!=(h=null==(g=b.options)?void 0:g.deprecated)&&h,file:c,parent:d,name:b.name,typeName:UN(b,d,c),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};for(let a of((null==(i=b.options)?void 0:i.mapEntry)===!0?f.add(k):((null!=(j=null==d?void 0:d.nestedMessages)?j:c.messages).push(k),e.add(k)),b.enumType))UL(a,c,k,e);for(let d of b.nestedType)a(d,c,k,e,f)}(c,g,void 0,b,i);for(let c of a.service)!function(a,b,c){var d,e;let f={kind:"service",proto:a,deprecated:null!=(e=null==(d=a.options)?void 0:d.deprecated)&&e,file:b,name:a.name,typeName:UN(a,void 0,b),methods:[],method:{},toString(){return`service ${this.typeName}`}};for(let d of(b.services.push(f),c.add(f),a.method)){let a=function(a,b,c){var d,e,f,g;let h;h=a.clientStreaming&&a.serverStreaming?"bidi_streaming":a.clientStreaming?"client_streaming":a.serverStreaming?"server_streaming":"unary";let i=c.getMessage(UO(a.inputType)),j=c.getMessage(UO(a.outputType));UR(i,`invalid MethodDescriptorProto: input_type ${a.inputType} not found`),UR(j,`invalid MethodDescriptorProto: output_type ${a.inputType} not found`);let k=a.name;return{kind:"rpc",proto:a,deprecated:null!=(e=null==(d=a.options)?void 0:d.deprecated)&&e,parent:b,name:k,localName:UE(k.length?UE(k[0].toLowerCase()+k.substring(1)):k),methodKind:h,input:i,output:j,idempotency:null!=(g=null==(f=a.options)?void 0:f.idempotencyLevel)?g:0,toString:()=>`rpc ${b.typeName}.${k}`}}(d,f,c);f.methods.push(a),f.method[a.localName]=a}}(c,g,b);for(let a of(UJ(g,b),h.values()))UK(a,b,i);for(let a of g.messages)UK(a,b,i),UJ(a,b);b.addFile(g,!0)}function UJ(a,b){switch(a.kind){case"file":for(let c of a.proto.extension){let d=UM(c,a,b);a.extensions.push(d),b.add(d)}break;case"message":for(let c of a.proto.extension){let d=UM(c,a,b);a.nestedExtensions.push(d),b.add(d)}for(let c of a.nestedMessages)UJ(c,b)}}function UK(a,b,c){let d=a.proto.oneofDecl.map(b=>{var c,d;return c=b,{kind:"oneof",proto:c,deprecated:!1,parent:d=a,fields:[],name:c.name,localName:UE(UB(c.name)),toString(){return`oneof ${d.typeName}.${this.name}`}}}),e=new Set;for(let f of a.proto.field){let g=function(a,b){if(!TZ(a,"oneofIndex")||a.proto3Optional)return;let c=b[a.oneofIndex];return UR(c,`invalid FieldDescriptorProto: oneof #${a.oneofIndex} for field #${a.number} not found`),c}(f,d),h=UM(f,a,b,g,c);a.fields.push(h),a.field[h.localName]=h,void 0===g?a.members.push(h):(g.fields.push(h),e.has(g)||(e.add(g),a.members.push(g)))}for(let b of d.filter(a=>e.has(a)))a.oneofs.push(b);for(let d of a.nestedMessages)UK(d,b,c)}function UL(a,b,c,d){var e,f,g,h,i,j,k;let l=function(a,b){var c;let d=((c=a).substring(0,1)+c.substring(1).replace(/[A-Z]/g,a=>"_"+a)).toLowerCase()+"_";for(let a of b){if(!a.name.toLowerCase().startsWith(d))return;let b=a.name.substring(d.length);if(0==b.length||/^\d/.test(b))return}return d}(a.name,a.value),m={kind:"enum",proto:a,deprecated:null!=(f=null==(e=a.options)?void 0:e.deprecated)&&f,file:b,parent:c,open:!0,name:a.name,typeName:UN(a,c,b),value:{},values:[],sharedPrefix:l,toString(){return`enum ${this.typeName}`}};for(let b of(m.open=1==UQ("enumType",{proto:(j=m).proto,parent:null!=(k=j.parent)?k:j.file}),d.add(m),a.value)){let a=b.name;m.values.push(m.value[b.number]={kind:"enum_value",proto:b,deprecated:null!=(h=null==(g=b.options)?void 0:g.deprecated)&&h,parent:m,name:a,localName:UE(void 0==l?a:a.substring(l.length)),number:b.number,toString:()=>`enum value ${m.typeName}.${a}`})}(null!=(i=null==c?void 0:c.nestedEnums)?i:b.enums).push(m)}function UM(a,b,c,d,e){var f,g,h,i;let j=void 0===e,k={kind:"field",proto:a,deprecated:null!=(g=null==(f=a.options)?void 0:f.deprecated)&&g,name:a.name,number:a.number,scalar:void 0,message:void 0,enum:void 0,presence:function(a,b,c,d){if(2==a.label)return 3;if(3==a.label)return 2;if(b||a.proto3Optional||c)return 1;let e=UQ("fieldPresence",{proto:a,parent:d});return 2==e&&(11==a.type||10==a.type)?1:e}(a,d,j,b),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(j){let d="file"==b.kind?b:b.file,e="file"==b.kind?void 0:b,f=UN(a,e,d);k.kind="extension",k.file=d,k.parent=e,k.oneof=void 0,k.typeName=f,k.jsonName=`[${f}]`,k.toString=()=>`extension ${f}`;let g=c.getMessage(UO(a.extendee));UR(g,`invalid FieldDescriptorProto: extendee ${a.extendee} not found`),k.extendee=g}else UR("message"==b.kind),k.parent=b,k.oneof=d,k.localName=d?UB(a.name):UE(UB(a.name)),k.jsonName=a.jsonName,k.toString=()=>`field ${b.typeName}.${a.name}`;let l=a.label,m=a.type,n=null==(h=a.options)?void 0:h.jstype;if(3===l){let d=11==m?null==e?void 0:e.get(UO(a.typeName)):void 0;if(d){let a,b;k.fieldKind="map";let{key:c,value:e}=(a=(i=d).fields.find(a=>1===a.number),b=i.fields.find(a=>2===a.number),UR(a&&"scalar"==a.fieldKind&&a.scalar!=aa.BYTES&&a.scalar!=aa.FLOAT&&a.scalar!=aa.DOUBLE&&b&&"list"!=b.fieldKind&&"map"!=b.fieldKind),{key:a,value:b});return k.mapKey=c.scalar,k.mapKind=e.fieldKind,k.message=e.message,k.delimitedEncoding=!1,k.enum=e.enum,k.scalar=e.scalar,k}switch(k.fieldKind="list",m){case 11:case 10:k.listKind="message",k.message=c.getMessage(UO(a.typeName)),UR(k.message),k.delimitedEncoding=UP(a,b);break;case 14:k.listKind="enum",k.enum=c.getEnum(UO(a.typeName)),UR(k.enum);break;default:k.listKind="scalar",k.scalar=m,k.longAsString=1==n}return k.packed=function(a,b){if(3!=a.label)return!1;switch(a.type){case 9:case 12:case 10:case 11:return!1}let c=a.options;return c&&TZ(c,"packed")?c.packed:1==UQ("repeatedFieldEncoding",{proto:a,parent:b})}(a,b),k}switch(m){case 11:case 10:k.fieldKind="message",k.message=c.getMessage(UO(a.typeName)),UR(k.message,`invalid FieldDescriptorProto: type_name ${a.typeName} not found`),k.delimitedEncoding=UP(a,b),k.getDefaultValue=()=>void 0;break;case 14:{let b=c.getEnum(UO(a.typeName));UR(void 0!==b,`invalid FieldDescriptorProto: type_name ${a.typeName} not found`),k.fieldKind="enum",k.enum=c.getEnum(UO(a.typeName)),k.getDefaultValue=()=>TZ(a,"defaultValue")?function(a,b){let c=a.values.find(a=>a.name===b);if(!c)throw Error(`cannot parse ${a} default value: ${b}`);return c.number}(b,a.defaultValue):void 0;break}default:k.fieldKind="scalar",k.scalar=m,k.longAsString=1==n,k.getDefaultValue=()=>TZ(a,"defaultValue")?function(a,b){switch(a){case aa.STRING:return b;case aa.BYTES:{let c=function(a){let b=[],c={tail:a,c:"",next(){return 0!=this.tail.length&&(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(a){if(this.tail.length>=a){let b=this.tail.substring(0,a);return this.tail=this.tail.substring(a),b}return!1}};for(;c.next();)if("\\"===c.c){if(c.next())switch(c.c){case"\\":b.push(c.c.charCodeAt(0));break;case"b":b.push(8);break;case"f":b.push(12);break;case"n":b.push(10);break;case"r":b.push(13);break;case"t":b.push(9);break;case"v":b.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let a=c.c,d=c.take(2);if(!1===d)return!1;let e=parseInt(a+d,8);if(Number.isNaN(e))return!1;b.push(e);break}case"x":{let a=c.c,d=c.take(2);if(!1===d)return!1;let e=parseInt(a+d,16);if(Number.isNaN(e))return!1;b.push(e);break}case"u":{let a=c.c,d=c.take(4);if(!1===d)return!1;let e=parseInt(a+d,16);if(Number.isNaN(e))return!1;let f=new Uint8Array(4);new DataView(f.buffer).setInt32(0,e,!0),b.push(f[0],f[1],f[2],f[3]);break}case"U":{let a=c.c,d=c.take(8);if(!1===d)return!1;let e=TT.uEnc(a+d),f=new Uint8Array(8),g=new DataView(f.buffer);g.setInt32(0,e.lo,!0),g.setInt32(4,e.hi,!0),b.push(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7])}}}else b.push(c.c.charCodeAt(0));return new Uint8Array(b)}(b);if(!1===c)throw Error(`cannot parse ${aa[a]} default value: ${b}`);return c}case aa.INT64:case aa.SFIXED64:case aa.SINT64:return TT.parse(b);case aa.UINT64:case aa.FIXED64:return TT.uParse(b);case aa.DOUBLE:case aa.FLOAT:switch(b){case"inf":return 1/0;case"-inf":return-1/0;case"nan":return NaN;default:return parseFloat(b)}case aa.BOOL:return"true"===b;case aa.INT32:case aa.UINT32:case aa.SINT32:case aa.FIXED32:case aa.SFIXED32:return parseInt(b,10)}}(m,a.defaultValue):void 0}return k}function UN(a,b,c){return b?`${b.typeName}.${a.name}`:c.proto.package.length>0?`${c.proto.package}.${a.name}`:`${a.name}`}function UO(a){return a.startsWith(".")?a.substring(1):a}function UP(a,b){return 10==a.type||2==UQ("messageEncoding",{proto:a,parent:b})}function UQ(a,b){var c,d;let e=null==(c=b.proto.options)?void 0:c.features;if(e){let b=e[a];if(0!=b)return b}if("kind"in b){if("message"==b.kind)return UQ(a,null!=(d=b.parent)?d:b.file);let c=UH[b.edition];if(!c)throw Error(`feature default for edition ${b.edition} not found`);return c[a]}return UQ(a,b.parent)}function UR(a,b){if(!a)throw Error(b)}function US(a){var b,c,d,e,f,g,h,i;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:a.name,field:null!=(c=null==(b=a.field)?void 0:b.map(UT))?c:[],extension:[],nestedType:null!=(e=null==(d=a.nestedType)?void 0:d.map(US))?e:[],enumType:null!=(g=null==(f=a.enumType)?void 0:f.map(UU))?g:[],extensionRange:null!=(i=null==(h=a.extensionRange)?void 0:h.map(a=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},a)))?i:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function UT(a){var b,c,d,e;return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},a),{options:a.options?(b=a.options,Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},b),{targets:null!=(c=b.targets)?c:[],editionDefaults:null!=(e=null==(d=b.editionDefaults)?void 0:d.map(a=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},a)))?e:[],uninterpretedOption:[]}))):void 0}))}function UU(a){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:a.name,reservedName:[],reservedRange:[],value:a.value.map(a=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},a))})}function UV(a,b,...c){return c.reduce((a,b)=>a.nestedMessages[b],a.messages[b])}let UW=UV((u={name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:0x1ff2b601}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:0x20000000}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:0x1ff2b601}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_UNSTABLE",number:9999},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:0x7fffffff}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]},(t=Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},u),{messageType:u.messageType.map(US),enumType:u.enumType.map(UU)}))).messageType.forEach(UF),UG(t,()=>void 0).getFile(t.name)),1);(A=ab||(ab={}))[A.DECLARATION=0]="DECLARATION",A[A.UNVERIFIED=1]="UNVERIFIED",(B=ac||(ac={}))[B.DOUBLE=1]="DOUBLE",B[B.FLOAT=2]="FLOAT",B[B.INT64=3]="INT64",B[B.UINT64=4]="UINT64",B[B.INT32=5]="INT32",B[B.FIXED64=6]="FIXED64",B[B.FIXED32=7]="FIXED32",B[B.BOOL=8]="BOOL",B[B.STRING=9]="STRING",B[B.GROUP=10]="GROUP",B[B.MESSAGE=11]="MESSAGE",B[B.BYTES=12]="BYTES",B[B.UINT32=13]="UINT32",B[B.ENUM=14]="ENUM",B[B.SFIXED32=15]="SFIXED32",B[B.SFIXED64=16]="SFIXED64",B[B.SINT32=17]="SINT32",B[B.SINT64=18]="SINT64",(C=ad||(ad={}))[C.OPTIONAL=1]="OPTIONAL",C[C.REPEATED=3]="REPEATED",C[C.REQUIRED=2]="REQUIRED",(D=ae||(ae={}))[D.SPEED=1]="SPEED",D[D.CODE_SIZE=2]="CODE_SIZE",D[D.LITE_RUNTIME=3]="LITE_RUNTIME",(E=af||(af={}))[E.STRING=0]="STRING",E[E.CORD=1]="CORD",E[E.STRING_PIECE=2]="STRING_PIECE",(F=ag||(ag={}))[F.JS_NORMAL=0]="JS_NORMAL",F[F.JS_STRING=1]="JS_STRING",F[F.JS_NUMBER=2]="JS_NUMBER",(G=ah||(ah={}))[G.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",G[G.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",G[G.RETENTION_SOURCE=2]="RETENTION_SOURCE",(H=ai||(ai={}))[H.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",H[H.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",H[H.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",H[H.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",H[H.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",H[H.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",H[H.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",H[H.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",H[H.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",H[H.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD",(I=aj||(aj={}))[I.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",I[I.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",I[I.IDEMPOTENT=2]="IDEMPOTENT",(J=ak||(ak={}))[J.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",J[J.EXPORT_ALL=1]="EXPORT_ALL",J[J.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",J[J.LOCAL_ALL=3]="LOCAL_ALL",J[J.STRICT=4]="STRICT",(K=al||(al={}))[K.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",K[K.EXPLICIT=1]="EXPLICIT",K[K.IMPLICIT=2]="IMPLICIT",K[K.LEGACY_REQUIRED=3]="LEGACY_REQUIRED",(L=am||(am={}))[L.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",L[L.OPEN=1]="OPEN",L[L.CLOSED=2]="CLOSED",(M=an||(an={}))[M.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",M[M.PACKED=1]="PACKED",M[M.EXPANDED=2]="EXPANDED",(N=ao||(ao={}))[N.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",N[N.VERIFY=2]="VERIFY",N[N.NONE=3]="NONE",(O=ap||(ap={}))[O.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",O[O.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",O[O.DELIMITED=2]="DELIMITED",(P=aq||(aq={}))[P.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",P[P.ALLOW=1]="ALLOW",P[P.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT",(Q=ar||(ar={}))[Q.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",Q[Q.STYLE2024=1]="STYLE2024",Q[Q.STYLE_LEGACY=2]="STYLE_LEGACY",(R=as||(as={}))[R.NONE=0]="NONE",R[R.SET=1]="SET",R[R.ALIAS=2]="ALIAS",(S=at||(at={}))[S.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",S[S.EDITION_LEGACY=900]="EDITION_LEGACY",S[S.EDITION_PROTO2=998]="EDITION_PROTO2",S[S.EDITION_PROTO3=999]="EDITION_PROTO3",S[S.EDITION_2023=1e3]="EDITION_2023",S[S.EDITION_2024=1001]="EDITION_2024",S[S.EDITION_UNSTABLE=9999]="EDITION_UNSTABLE",S[S.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",S[S.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",S[S.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",S[S.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",S[S.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",S[S.EDITION_MAX=0x7fffffff]="EDITION_MAX",(T=au||(au={}))[T.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",T[T.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",T[T.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT";let UX=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class UY extends Error{constructor(a,b,c="FieldValueInvalidError"){super(b),this.name=c,this.field=()=>a}}let UZ=Symbol.for("@bufbuild/protobuf/text-encoding");function U$(){if(void 0==globalThis[UZ]){let a=new globalThis.TextEncoder,b=new globalThis.TextDecoder;globalThis[UZ]={encodeUtf8:b=>a.encode(b),decodeUtf8:a=>b.decode(a),checkUtf8(a){try{return encodeURIComponent(a),!0}catch(a){return!1}}}}return globalThis[UZ]}(U=av||(av={}))[U.Varint=0]="Varint",U[U.Bit64=1]="Bit64",U[U.LengthDelimited=2]="LengthDelimited",U[U.StartGroup=3]="StartGroup",U[U.EndGroup=4]="EndGroup",U[U.Bit32=5]="Bit32";class U_{constructor(a=U$().encodeUtf8){this.encodeUtf8=a,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let a=0;for(let b=0;b<this.chunks.length;b++)a+=this.chunks[b].length;let b=new Uint8Array(a),c=0;for(let a=0;a<this.chunks.length;a++)b.set(this.chunks[a],c),c+=this.chunks[a].length;return this.chunks=[],b}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let a=this.finish(),b=this.stack.pop();if(!b)throw Error("invalid state, fork stack empty");return this.chunks=b.chunks,this.buf=b.buf,this.uint32(a.byteLength),this.raw(a)}tag(a,b){return this.uint32((a<<3|b)>>>0)}raw(a){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(a),this}uint32(a){for(U2(a);a>127;)this.buf.push(127&a|128),a>>>=7;return this.buf.push(a),this}int32(a){return U1(a),TR(a,this.buf),this}bool(a){return this.buf.push(+!!a),this}bytes(a){return this.uint32(a.byteLength),this.raw(a)}string(a){let b=this.encodeUtf8(a);return this.uint32(b.byteLength),this.raw(b)}float(a){var b=a;if("string"==typeof b){let a=b;if(Number.isNaN(b=Number(b))&&"NaN"!==a)throw Error("invalid float32: "+a)}else if("number"!=typeof b)throw Error("invalid float32: "+typeof b);if(Number.isFinite(b)&&(b>34028234663852886e22||b<-34028234663852886e22))throw Error("invalid float32: "+b);let c=new Uint8Array(4);return new DataView(c.buffer).setFloat32(0,a,!0),this.raw(c)}double(a){let b=new Uint8Array(8);return new DataView(b.buffer).setFloat64(0,a,!0),this.raw(b)}fixed32(a){U2(a);let b=new Uint8Array(4);return new DataView(b.buffer).setUint32(0,a,!0),this.raw(b)}sfixed32(a){U1(a);let b=new Uint8Array(4);return new DataView(b.buffer).setInt32(0,a,!0),this.raw(b)}sint32(a){return U1(a),TR(a=(a<<1^a>>31)>>>0,this.buf),this}sfixed64(a){let b=new Uint8Array(8),c=new DataView(b.buffer),d=TT.enc(a);return c.setInt32(0,d.lo,!0),c.setInt32(4,d.hi,!0),this.raw(b)}fixed64(a){let b=new Uint8Array(8),c=new DataView(b.buffer),d=TT.uEnc(a);return c.setInt32(0,d.lo,!0),c.setInt32(4,d.hi,!0),this.raw(b)}int64(a){let b=TT.enc(a);return TL(b.lo,b.hi,this.buf),this}sint64(a){let b=TT.enc(a),c=b.hi>>31;return TL(b.lo<<1^c,(b.hi<<1|b.lo>>>31)^c,this.buf),this}uint64(a){let b=TT.uEnc(a);return TL(b.lo,b.hi,this.buf),this}}class U0{constructor(a,b=U$().decodeUtf8){this.decodeUtf8=b,this.varint64=TK,this.uint32=TS,this.buf=a,this.len=a.length,this.pos=0,this.view=new DataView(a.buffer,a.byteOffset,a.byteLength)}tag(){let a=this.uint32(),b=a>>>3,c=7&a;if(b<=0||c<0||c>5)throw Error("illegal tag: field no "+b+" wire type "+c);return[b,c]}skip(a,b){let c=this.pos;switch(a){case av.Varint:for(;128&this.buf[this.pos++];);break;case av.Bit64:this.pos+=4;case av.Bit32:this.pos+=4;break;case av.LengthDelimited:let d=this.uint32();this.pos+=d;break;case av.StartGroup:for(;;){let[a,c]=this.tag();if(c===av.EndGroup){if(void 0!==b&&a!==b)throw Error("invalid end group tag");break}this.skip(c,a)}break;default:throw Error("cant skip wire type "+a)}return this.assertBounds(),this.buf.subarray(c,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let a=this.uint32();return a>>>1^-(1&a)}int64(){return TT.dec(...this.varint64())}uint64(){return TT.uDec(...this.varint64())}sint64(){let[a,b]=this.varint64(),c=-(1&a);return a=(a>>>1|(1&b)<<31)^c,b=b>>>1^c,TT.dec(a,b)}bool(){let[a,b]=this.varint64();return 0!==a||0!==b}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return TT.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return TT.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let a=this.uint32(),b=this.pos;return this.pos+=a,this.assertBounds(),this.buf.subarray(b,b+a)}string(){return this.decodeUtf8(this.bytes())}}function U1(a){if("string"==typeof a)a=Number(a);else if("number"!=typeof a)throw Error("invalid int32: "+typeof a);if(!Number.isInteger(a)||a>0x7fffffff||a<-0x80000000)throw Error("invalid int32: "+a)}function U2(a){if("string"==typeof a)a=Number(a);else if("number"!=typeof a)throw Error("invalid uint32: "+typeof a);if(!Number.isInteger(a)||a>0xffffffff||a<0)throw Error("invalid uint32: "+a)}function U3(a,b){let c,d="list"==a.fieldKind?T1(b,a):"map"==a.fieldKind?T2(b,a):U5(a,b);if(!0!==d){switch(a.fieldKind){case"list":c=`expected ${Va(a)}, got ${U8(b)}`;break;case"map":c=`expected ${Vb(a)}, got ${U8(b)}`;break;default:c=U7(a,b,d)}return new UY(a,c)}}function U4(a,b,c){let d=U5(a,c);if(!0!==d)return new UY(a,`list item #${b+1}: ${U7(a,c,d)}`)}function U5(a,b){return void 0!==a.scalar?U6(b,a.scalar):void 0!==a.enum?a.enum.open?Number.isInteger(b):a.enum.values.some(a=>a.number===b):T3(b,a.message)}function U6(a,b){switch(b){case aa.DOUBLE:return"number"==typeof a;case aa.FLOAT:if("number"!=typeof a)return!1;if(Number.isNaN(a)||!Number.isFinite(a))return!0;if(a>34028234663852886e22||a<-34028234663852886e22)return`${a.toFixed()} out of range`;return!0;case aa.INT32:case aa.SFIXED32:case aa.SINT32:if("number"!=typeof a||!Number.isInteger(a))return!1;if(a>0x7fffffff||a<-0x80000000)return`${a.toFixed()} out of range`;return!0;case aa.FIXED32:case aa.UINT32:if("number"!=typeof a||!Number.isInteger(a))return!1;if(a>0xffffffff||a<0)return`${a.toFixed()} out of range`;return!0;case aa.BOOL:return"boolean"==typeof a;case aa.STRING:if("string"!=typeof a)return!1;return U$().checkUtf8(a)||"invalid UTF8";case aa.BYTES:return a instanceof Uint8Array;case aa.INT64:case aa.SFIXED64:case aa.SINT64:if("bigint"==typeof a||"number"==typeof a||"string"==typeof a&&a.length>0)try{return TT.parse(a),!0}catch(b){return`${a} out of range`}return!1;case aa.FIXED64:case aa.UINT64:if("bigint"==typeof a||"number"==typeof a||"string"==typeof a&&a.length>0)try{return TT.uParse(a),!0}catch(b){return`${a} out of range`}return!1}}function U7(a,b,c){return(c="string"==typeof c?`: ${c}`:`, got ${U8(b)}`,void 0!==a.scalar)?`expected ${function(a){switch(a){case aa.STRING:return"string";case aa.BOOL:return"boolean";case aa.INT64:case aa.SINT64:case aa.SFIXED64:return"bigint (int64)";case aa.UINT64:case aa.FIXED64:return"bigint (uint64)";case aa.BYTES:return"Uint8Array";case aa.DOUBLE:return"number (float64)";case aa.FLOAT:return"number (float32)";case aa.FIXED32:case aa.UINT32:return"number (uint32)";case aa.INT32:case aa.SFIXED32:case aa.SINT32:return"number (int32)"}}(a.scalar)}`+c:void 0!==a.enum?`expected ${a.enum.toString()}`+c:`expected ${U9(a.message)}`+c}function U8(a){switch(typeof a){case"object":if(null===a)return"null";if(a instanceof Uint8Array)return`Uint8Array(${a.length})`;if(Array.isArray(a))return`Array(${a.length})`;if(T1(a))return Va(a.field());if(T2(a))return Vb(a.field());if(T3(a))return U9(a.desc);if(TJ(a))return`message ${a.$typeName}`;return"object";case"string":return a.length>30?"string":`"${a.split('"').join('\\"')}"`;case"boolean":case"number":return String(a);case"bigint":return String(a)+"n";default:return typeof a}}function U9(a){return`ReflectMessage (${a.typeName})`}function Va(a){switch(a.listKind){case"message":return`ReflectList (${a.message.toString()})`;case"enum":return`ReflectList (${a.enum.toString()})`;case"scalar":return`ReflectList (${aa[a.scalar]})`}}function Vb(a){switch(a.mapKind){case"message":return`ReflectMap (${aa[a.mapKey]}, ${a.message.toString()})`;case"enum":return`ReflectMap (${aa[a.mapKey]}, ${a.enum.toString()})`;case"scalar":return`ReflectMap (${aa[a.mapKey]}, ${aa[a.scalar]})`}}function Vc(a,b,c=!0){return new Ve(a,b,c)}let Vd=new WeakMap;class Ve{get sortedFields(){let a=Vd.get(this.desc);if(a)return a;let b=this.desc.fields.concat().sort((a,b)=>a.number-b.number);return Vd.set(this.desc,b),b}constructor(a,b,c=!0){this.lists=new Map,this.maps=new Map,this.check=c,this.desc=a,this.message=this[TX]=null!=b?b:T6(a),this.fields=a.fields,this.oneofs=a.oneofs,this.members=a.members}findNumber(a){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(a=>[a.number,a]))),this._fieldsByNumber.get(a)}oneofCase(a){return Vf(this.message,a),TY(this.message,a)}isSet(a){Vf(this.message,a);var b=this.message;let c=a.localName;if(a.oneof)return b[a.oneof.localName].case===c;if(2!=a.presence)return void 0!==b[c]&&Object.prototype.hasOwnProperty.call(b,c);switch(a.fieldKind){case"list":return b[c].length>0;case"map":return Object.keys(b[c]).length>0;case"scalar":return!function(a,b){switch(a){case aa.BOOL:return!1===b;case aa.STRING:return""===b;case aa.BYTES:return b instanceof Uint8Array&&!b.byteLength;default:return 0==b}}(a.scalar,b[c]);case"enum":return b[c]!==a.enum.values[0].number}throw Error("message field with implicit presence")}clear(a){Vf(this.message,a);var b=this.message;let c=a.localName;if(a.oneof){let d=a.oneof.localName;b[d].case===c&&(b[d]={case:void 0})}else if(2!=a.presence)delete b[c];else switch(a.fieldKind){case"map":b[c]={};break;case"list":b[c]=[];break;case"enum":b[c]=a.enum.values[0].number;break;case"scalar":b[c]=TW(a.scalar,a.longAsString)}}get(a){Vf(this.message,a);let b=T$(this.message,a);switch(a.fieldKind){case"list":let c=this.lists.get(a);return c&&c[TX]===b||this.lists.set(a,c=new Vg(a,b,this.check)),c;case"map":let d=this.maps.get(a);return d&&d[TX]===b||this.maps.set(a,d=new Vh(a,b,this.check)),d;case"message":return Vj(a,b,this.check);case"scalar":return void 0===b?TW(a.scalar,!1):Vp(a,b);case"enum":return null!=b?b:a.enum.values[0].number}}set(a,b){let c;if(Vf(this.message,a),this.check){let c=U3(a,b);if(c)throw c}c="message"==a.fieldKind?Vi(a,b):T2(b)||T1(b)?b[TX]:Vq(a,b),T_(this.message,a,c)}getUnknown(){return this.message.$unknown}setUnknown(a){this.message.$unknown=a}}function Vf(a,b){if(b.parent.typeName!==a.$typeName)throw new UY(b,`cannot use ${b.toString()} with message ${a.$typeName}`,"ForeignFieldError")}class Vg{field(){return this._field}get size(){return this._arr.length}constructor(a,b,c){this._field=a,this._arr=this[TX]=b,this.check=c}get(a){let b=this._arr[a];return void 0===b?void 0:Vl(this._field,b,this.check)}set(a,b){if(a<0||a>=this._arr.length)throw new UY(this._field,`list item #${a+1}: out of range`);if(this.check){let c=U4(this._field,a,b);if(c)throw c}this._arr[a]=Vk(this._field,b)}add(a){if(this.check){let b=U4(this._field,this._arr.length,a);if(b)throw b}this._arr.push(Vk(this._field,a))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(let a of this._arr)yield Vl(this._field,a,this.check)}*entries(){for(let a=0;a<this._arr.length;a++)yield[a,Vl(this._field,this._arr[a],this.check)]}}class Vh{constructor(a,b,c=!0){this.obj=this[TX]=null!=b?b:{},this.check=c,this._field=a}field(){return this._field}set(a,b){var c,d;if(this.check){let c=function(a,b,c){let d=U6(b,a.mapKey);if(!0!==d)return new UY(a,`invalid map key: ${U7({scalar:a.mapKey},b,d)}`);let e=U5(a,c);if(!0!==e)return new UY(a,`map entry ${U8(b)}: ${U7(a,c,e)}`)}(this._field,a,b);if(c)throw c}return this.obj[Vn(a)]=(c=this._field,d=b,"message"==c.mapKind?Vi(c,d):Vq(c,d)),this}delete(a){let b=Vn(a),c=Object.prototype.hasOwnProperty.call(this.obj,b);return c&&delete this.obj[b],c}clear(){for(let a of Object.keys(this.obj))delete this.obj[a]}get(a){let b=this.obj[Vn(a)];return void 0!==b&&(b=Vm(this._field,b,this.check)),b}has(a){return Object.prototype.hasOwnProperty.call(this.obj,Vn(a))}*keys(){for(let a of Object.keys(this.obj))yield Vo(a,this._field.mapKey)}*entries(){for(let a of Object.entries(this.obj))yield[Vo(a[0],this._field.mapKey),Vm(this._field,a[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(let a of Object.values(this.obj))yield Vm(this._field,a,this.check)}forEach(a,b){for(let c of this.entries())a.call(b,c[1],c[0],this)}}function Vi(a,b){return T3(b)?T5(b.message.$typeName)&&!a.oneof&&"message"==a.fieldKind?b.message.value:"google.protobuf.Struct"==b.desc.typeName&&"google.protobuf.Value"!=a.parent.typeName?function a(b){let c={};for(let[d,e]of Object.entries(b.fields))c[d]=function b(c){switch(c.kind.case){case"structValue":return a(c.kind.value);case"listValue":return c.kind.value.values.map(b);case"nullValue":case void 0:return null;default:return c.kind.value}}(e);return c}(b.message):b.message:b}function Vj(a,b,c){return void 0!==b&&(T4(a.message)&&!a.oneof&&"message"==a.fieldKind?b={$typeName:a.message.typeName,value:Vp(a.message.fields[0],b)}:"google.protobuf.Struct"==a.message.typeName&&"google.protobuf.Value"!=a.parent.typeName&&T0(b)&&(b=function a(b){let c={$typeName:"google.protobuf.Struct",fields:{}};if(T0(b))for(let[d,e]of Object.entries(b))c.fields[d]=function b(c){let d={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof c){case"number":d.kind={case:"numberValue",value:c};break;case"string":d.kind={case:"stringValue",value:c};break;case"boolean":d.kind={case:"boolValue",value:c};break;case"object":if(null===c)d.kind={case:"nullValue",value:0};else if(Array.isArray(c)){let a={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(c))for(let d of c)a.values.push(b(d));d.kind={case:"listValue",value:a}}else d.kind={case:"structValue",value:a(c)}}return d}(e);return c}(b))),new Ve(a.message,b,c)}function Vk(a,b){return"message"==a.listKind?Vi(a,b):Vq(a,b)}function Vl(a,b,c){return"message"==a.listKind?Vj(a,b,c):Vp(a,b)}function Vm(a,b,c){return"message"==a.mapKind?Vj(a,b,c):b}function Vn(a){return"string"==typeof a||"number"==typeof a?a:String(a)}function Vo(a,b){switch(b){case aa.STRING:break;case aa.INT32:case aa.FIXED32:case aa.UINT32:case aa.SFIXED32:case aa.SINT32:{let b=Number.parseInt(a);if(Number.isFinite(b))return b;break}case aa.BOOL:switch(a){case"true":return!0;case"false":return!1}break;case aa.UINT64:case aa.FIXED64:try{return TT.uParse(a)}catch(a){}break;default:try{return TT.parse(a)}catch(a){}}return a}function Vp(a,b){switch(a.scalar){case aa.INT64:case aa.SFIXED64:case aa.SINT64:"longAsString"in a&&a.longAsString&&"string"==typeof b&&(b=TT.parse(b));break;case aa.FIXED64:case aa.UINT64:"longAsString"in a&&a.longAsString&&"string"==typeof b&&(b=TT.uParse(b))}return b}function Vq(a,b){switch(a.scalar){case aa.INT64:case aa.SFIXED64:case aa.SINT64:"longAsString"in a&&a.longAsString?b=String(b):("string"==typeof b||"number"==typeof b)&&(b=TT.parse(b));break;case aa.FIXED64:case aa.UINT64:"longAsString"in a&&a.longAsString?b=String(b):("string"==typeof b||"number"==typeof b)&&(b=TT.uParse(b))}return b}let Vr={readUnknownFields:!0};function Vs(a,b,c){let d=Vc(a,void 0,!1);return Vt(d,new U0(b),c?Object.assign(Object.assign({},Vr),c):Vr,!1,b.byteLength),d.message}function Vt(a,b,c,d,e){var f;let g,h,i=d?b.len:b.pos+e,j=null!=(f=a.getUnknown())?f:[];for(;b.pos<i&&([g,h]=b.tag(),!d||h!=av.EndGroup);){let d=a.findNumber(g);if(!d){let a=b.skip(h,g);c.readUnknownFields&&j.push({no:g,wireType:h,data:a});continue}Vu(a,b,d,h,c)}if(d&&(h!=av.EndGroup||g!==e))throw Error("invalid end group tag");j.length>0&&a.setUnknown(j)}function Vu(a,b,c,d,e){var f;switch(c.fieldKind){case"scalar":a.set(c,Vw(b,c.scalar));break;case"enum":let g=Vw(b,aa.INT32);if(c.enum.open)a.set(c,g);else if(c.enum.values.some(a=>a.number===g))a.set(c,g);else if(e.readUnknownFields){let b=[];TR(g,b);let e=null!=(f=a.getUnknown())?f:[];e.push({no:c.number,wireType:d,data:new Uint8Array(b)}),a.setUnknown(e)}break;case"message":a.set(c,Vv(b,e,c,a.get(c)));break;case"list":!function(a,b,c,d){var e;let f=c.field();if("message"===f.listKind)return c.add(Vv(a,d,f));let g=null!=(e=f.scalar)?e:aa.INT32;if(b!=av.LengthDelimited||g==aa.STRING||g==aa.BYTES)return c.add(Vw(a,g));let h=a.uint32()+a.pos;for(;a.pos<h;)c.add(Vw(a,g))}(b,d,a.get(c),e);break;case"map":!function(a,b,c){let d,e,f=b.field(),g=a.uint32(),h=a.pos+g;for(;a.pos<h;){let[b]=a.tag();switch(b){case 1:d=Vw(a,f.mapKey);break;case 2:switch(f.mapKind){case"scalar":e=Vw(a,f.scalar);break;case"enum":e=a.int32();break;case"message":e=Vv(a,c,f)}}}if(void 0===d&&(d=TW(f.mapKey,!1)),void 0===e)switch(f.mapKind){case"scalar":e=TW(f.scalar,!1);break;case"enum":e=f.enum.values[0].number;break;case"message":e=Vc(f.message,void 0,!1)}b.set(d,e)}(b,a.get(c),e)}}function Vv(a,b,c,d){let e=c.delimitedEncoding,f=null!=d?d:Vc(c.message,void 0,!1);return Vt(f,a,b,e,e?c.number:a.uint32()),f}function Vw(a,b){switch(b){case aa.STRING:return a.string();case aa.BOOL:return a.bool();case aa.DOUBLE:return a.double();case aa.FLOAT:return a.float();case aa.INT32:return a.int32();case aa.INT64:return a.int64();case aa.UINT64:return a.uint64();case aa.FIXED64:return a.fixed64();case aa.BYTES:return a.bytes();case aa.FIXED32:return a.fixed32();case aa.SFIXED32:return a.sfixed32();case aa.SFIXED64:return a.sfixed64();case aa.SINT64:return a.sint64();case aa.UINT32:return a.uint32();case aa.SINT32:return a.sint32()}}function Vx(a,b){var c;let d=Vs(UW,Uy(a));return d.messageType.forEach(UF),d.dependency=null!=(c=null==b?void 0:b.map(a=>a.proto.name))?c:[],UG(d,a=>null==b?void 0:b.find(b=>b.proto.name===a)).getFile(d.name)}let Vy=Vx("ChxpbmNvL2ttcy9saXRlL3YxL3R5cGVzLnByb3RvEhBpbmNvLmttcy5saXRlLnYxIrUBCghBQ0xQcm9vZhJMChlpbmNvX2xpdGVfYmFzaWNfYWNsX3Byb29mGAogASgLMicuaW5jby5rbXMubGl0ZS52MS5JbmNvTGl0ZUJhc2ljQUNMUHJvb2ZIABJSChxpbmNvX2xpdGVfYWR2YW5jZWRfYWNsX3Byb29mGAsgASgLMiouaW5jby5rbXMubGl0ZS52MS5JbmNvTGl0ZUFkdmFuY2VkQUNMUHJvb2ZIAEIHCgVwcm9vZiJQCg9IYW5kbGVXaXRoUHJvb2YSDgoGaGFuZGxlGAEgASgJEi0KCWFjbF9wcm9vZhgCIAEoCzIaLmluY28ua21zLmxpdGUudjEuQUNMUHJvb2YiFwoVSW5jb0xpdGVCYXNpY0FDTFByb29mInUKEEFsbG93YW5jZVZvdWNoZXISGgoSdmVyaWZ5aW5nX2NvbnRyYWN0GAEgASgJEhUKDWNhbGxfZnVuY3Rpb24YAiABKAwSFwoPc2hhcmVyX2FyZ19kYXRhGAMgASgMEhUKDXNlc3Npb25fbm9uY2UYBCABKAwijAEKDkFsbG93YW5jZVByb29mEg4KBnNoYXJlchgBIAEoCRIzCgd2b3VjaGVyGAIgASgLMiIuaW5jby5rbXMubGl0ZS52MS5BbGxvd2FuY2VWb3VjaGVyEhkKEXZvdWNoZXJfc2lnbmF0dXJlGAMgASgMEhoKEnJlcXVlc3Rlcl9hcmdfZGF0YRgEIAEoDCJVChhJbmNvTGl0ZUFkdmFuY2VkQUNMUHJvb2YSOQoPYWxsb3dhbmNlX3Byb29mGAEgASgLMiAuaW5jby5rbXMubGl0ZS52MS5BbGxvd2FuY2VQcm9vZiqkAgoXU3VwcG9ydGVkU2NhbGFyQmluYXJ5T3ASCwoHRkhFX0FERBAAEgsKB0ZIRV9TVUIQARILCgdGSEVfTVVMEAISCwoHRkhFX0RJVhADEgsKB0ZIRV9SRU0QBBIPCgtGSEVfQklUX0FORBAFEg4KCkZIRV9CSVRfT1IQBhIPCgtGSEVfQklUX1hPUhAHEgsKB0ZIRV9TSEwQCBILCgdGSEVfU0hSEAkSDAoIRkhFX1JPVEwQChIMCghGSEVfUk9UUhALEgoKBkZIRV9FURAMEgoKBkZIRV9ORRANEgoKBkZIRV9HRRAOEgoKBkZIRV9HVBAPEgoKBkZIRV9MRRAQEgoKBkZIRV9MVBAREgsKB0ZIRV9NSU4QEhILCgdGSEVfTUFYEBNCO1o5Z2l0aHViLmNvbS9pbmNvLWZoZXZtL2luY28tbW9ub3JlcG8vY292YWxpZGF0b3Iva21zL3R5cGVzYgZwcm90bzM"),Vz=UV(Vy,1),VA=UV(Vy,3),VB=UV(Vy,4),VC=UV(Vy,5);(V=aw||(aw={}))[V.FHE_ADD=0]="FHE_ADD",V[V.FHE_SUB=1]="FHE_SUB",V[V.FHE_MUL=2]="FHE_MUL",V[V.FHE_DIV=3]="FHE_DIV",V[V.FHE_REM=4]="FHE_REM",V[V.FHE_BIT_AND=5]="FHE_BIT_AND",V[V.FHE_BIT_OR=6]="FHE_BIT_OR",V[V.FHE_BIT_XOR=7]="FHE_BIT_XOR",V[V.FHE_SHL=8]="FHE_SHL",V[V.FHE_SHR=9]="FHE_SHR",V[V.FHE_ROTL=10]="FHE_ROTL",V[V.FHE_ROTR=11]="FHE_ROTR",V[V.FHE_EQ=12]="FHE_EQ",V[V.FHE_NE=13]="FHE_NE",V[V.FHE_GE=14]="FHE_GE",V[V.FHE_GT=15]="FHE_GT",V[V.FHE_LE=16]="FHE_LE",V[V.FHE_LT=17]="FHE_LT",V[V.FHE_MIN=18]="FHE_MIN",V[V.FHE_MAX=19]="FHE_MAX";let VD=Vx("CiJpbmNvL2ttcy9saXRlL3YxL2ttc19zZXJ2aWNlLnByb3RvEhBpbmNvLmttcy5saXRlLnYxIhAKDklzUmVhZHlSZXF1ZXN0IiAKD0lzUmVhZHlSZXNwb25zZRINCgVyZWFkeRgBIAEoCCKjAQoWQXR0ZXN0ZWREZWNyeXB0UmVxdWVzdBIUCgx1c2VyX2FkZHJlc3MYASABKAkSGQoRcmVlbmNyeXB0X3B1Yl9rZXkYAiABKAwSGAoQZWlwNzEyX3NpZ25hdHVyZRgDIAEoDBI+ChNoYW5kbGVzX3dpdGhfcHJvb2ZzGAQgAygLMiEuaW5jby5rbXMubGl0ZS52MS5IYW5kbGVXaXRoUHJvb2YiKAoVQXR0ZXN0ZWRSZXZlYWxSZXF1ZXN0Eg8KB2hhbmRsZXMYAyADKAki9AEKFkF0dGVzdGVkQ29tcHV0ZVJlcXVlc3QSFAoMdXNlcl9hZGRyZXNzGAEgASgJEhkKEXJlZW5jcnlwdF9wdWJfa2V5GAIgASgMEhgKEGVpcDcxMl9zaWduYXR1cmUYAyABKAwSNQoCb3AYBCABKA4yKS5pbmNvLmttcy5saXRlLnYxLlN1cHBvcnRlZFNjYWxhckJpbmFyeU9wEhIKCmxoc19oYW5kbGUYBSABKAkSFQoNcmhzX3BsYWludGV4dBgGIAEoCRItCglhY2xfcHJvb2YYByABKAsyGi5pbmNvLmttcy5saXRlLnYxLkFDTFByb29mImMKF0F0dGVzdGVkRGVjcnlwdFJlc3BvbnNlEkgKF2RlY3J5cHRpb25fYXR0ZXN0YXRpb25zGAEgAygLMicuaW5jby5rbXMubGl0ZS52MS5EZWNyeXB0aW9uQXR0ZXN0YXRpb24iYgoWQXR0ZXN0ZWRSZXZlYWxSZXNwb25zZRJIChdkZWNyeXB0aW9uX2F0dGVzdGF0aW9ucxgBIAMoCzInLmluY28ua21zLmxpdGUudjEuRGVjcnlwdGlvbkF0dGVzdGF0aW9uImIKF0F0dGVzdGVkQ29tcHV0ZVJlc3BvbnNlEkcKFmRlY3J5cHRpb25fYXR0ZXN0YXRpb24YASABKAsyJy5pbmNvLmttcy5saXRlLnYxLkRlY3J5cHRpb25BdHRlc3RhdGlvbiIaCglQbGFpbnRleHQSDQoFdmFsdWUYASABKAwiRAoMUmVlbmNyeXB0aW9uEhcKD3VzZXJfY2lwaGVydGV4dBgBIAEoDBIbChNlbmNyeXB0ZWRfc2lnbmF0dXJlGAMgASgMIq0BChVEZWNyeXB0aW9uQXR0ZXN0YXRpb24SDgoGaGFuZGxlGAEgASgJEjAKCXBsYWludGV4dBgCIAEoCzIbLmluY28ua21zLmxpdGUudjEuUGxhaW50ZXh0SAASNgoMcmVlbmNyeXB0aW9uGAMgASgLMh4uaW5jby5rbXMubGl0ZS52MS5SZWVuY3J5cHRpb25IABIRCglzaWduYXR1cmUYBCABKAxCBwoFdmFsdWUykQMKCkttc1NlcnZpY2USTgoHSXNSZWFkeRIgLmluY28ua21zLmxpdGUudjEuSXNSZWFkeVJlcXVlc3QaIS5pbmNvLmttcy5saXRlLnYxLklzUmVhZHlSZXNwb25zZRJmCg9BdHRlc3RlZERlY3J5cHQSKC5pbmNvLmttcy5saXRlLnYxLkF0dGVzdGVkRGVjcnlwdFJlcXVlc3QaKS5pbmNvLmttcy5saXRlLnYxLkF0dGVzdGVkRGVjcnlwdFJlc3BvbnNlEmYKD0F0dGVzdGVkQ29tcHV0ZRIoLmluY28ua21zLmxpdGUudjEuQXR0ZXN0ZWRDb21wdXRlUmVxdWVzdBopLmluY28ua21zLmxpdGUudjEuQXR0ZXN0ZWRDb21wdXRlUmVzcG9uc2USYwoOQXR0ZXN0ZWRSZXZlYWwSJy5pbmNvLmttcy5saXRlLnYxLkF0dGVzdGVkUmV2ZWFsUmVxdWVzdBooLmluY28ua21zLmxpdGUudjEuQXR0ZXN0ZWRSZXZlYWxSZXNwb25zZUI7WjlnaXRodWIuY29tL2luY28tZmhldm0vaW5jby1tb25vcmVwby9jb3ZhbGlkYXRvci9rbXMvdHlwZXNiBnByb3RvMw",[Vy]),VE=UV(VD,2),VF=UV(VD,3),VG=UV(VD,4),VH=(v=0,VD.services[0]);var VI=a.i(7365),VJ=a.i(11933);let VK={writeUnknownFields:!0};function VL(a,b,c){return VM(new U_,c?Object.assign(Object.assign({},VK),c):VK,Vc(a,b)).finish()}function VM(a,b,c){var d;for(let d of c.sortedFields){if(!c.isSet(d)){if(3==d.presence)throw Error(`cannot encode ${d} to binary: required field not set`);continue}VN(a,b,c,d)}if(b.writeUnknownFields)for(let{no:b,wireType:e,data:f}of null!=(d=c.getUnknown())?d:[])a.tag(b,e).raw(f);return a}function VN(a,b,c,d){var e;switch(d.fieldKind){case"scalar":case"enum":VO(a,c.desc.typeName,d.name,null!=(e=d.scalar)?e:aa.INT32,d.number,c.get(d));break;case"list":!function(a,b,c,d){var e;if("message"==c.listKind){for(let e of d)VP(a,b,c,e);return}let f=null!=(e=c.scalar)?e:aa.INT32;if(c.packed){if(!d.size)return;for(let b of(a.tag(c.number,av.LengthDelimited).fork(),d))VQ(a,c.parent.typeName,c.name,f,b);a.join();return}for(let b of d)VO(a,c.parent.typeName,c.name,f,c.number,b)}(a,b,d,c.get(d));break;case"message":VP(a,b,d,c.get(d));break;case"map":for(let[e,f]of c.get(d))!function(a,b,c,d,e){var f;switch(a.tag(c.number,av.LengthDelimited).fork(),VO(a,c.parent.typeName,c.name,c.mapKey,1,d),c.mapKind){case"scalar":case"enum":VO(a,c.parent.typeName,c.name,null!=(f=c.scalar)?f:aa.INT32,2,e);break;case"message":VM(a.tag(2,av.LengthDelimited).fork(),b,e).join()}a.join()}(a,b,d,e,f)}}function VO(a,b,c,d,e,f){VQ(a.tag(e,function(a){switch(a){case aa.BYTES:case aa.STRING:return av.LengthDelimited;case aa.DOUBLE:case aa.FIXED64:case aa.SFIXED64:return av.Bit64;case aa.FIXED32:case aa.SFIXED32:case aa.FLOAT:return av.Bit32;default:return av.Varint}}(d)),b,c,d,f)}function VP(a,b,c,d){c.delimitedEncoding?VM(a.tag(c.number,av.StartGroup),b,d).tag(c.number,av.EndGroup):VM(a.tag(c.number,av.LengthDelimited).fork(),b,d).join()}function VQ(a,b,c,d,e){try{switch(d){case aa.STRING:a.string(e);break;case aa.BOOL:a.bool(e);break;case aa.DOUBLE:a.double(e);break;case aa.FLOAT:a.float(e);break;case aa.INT32:a.int32(e);break;case aa.INT64:a.int64(e);break;case aa.UINT64:a.uint64(e);break;case aa.FIXED64:a.fixed64(e);break;case aa.BYTES:a.bytes(e);break;case aa.FIXED32:a.fixed32(e);break;case aa.SFIXED32:a.sfixed32(e);break;case aa.SFIXED64:a.sfixed64(e);break;case aa.SINT64:a.sint64(e);break;case aa.UINT32:a.uint32(e);break;case aa.SINT32:a.sint32(e)}}catch(a){if(a instanceof Error)throw Error(`cannot encode field ${b}.${c} to binary: ${a.message}`);throw a}}let VR=Vx("CidpbmNvL2NvdmFsaWRhdG9yL2NvbXB1dGUvdjEvdHlwZXMucHJvdG8SG2luY28uY292YWxpZGF0b3IuY29tcHV0ZS52MSJqCgxJbnB1dENvbnRleHQSFQoNaG9zdF9jaGFpbl9pZBgBIAEoCRITCgthY2xfYWRkcmVzcxgCIAEoCRIUCgx1c2VyX2FkZHJlc3MYAyABKAkSGAoQY29udHJhY3RfYWRkcmVzcxgEIAEoCSJeCg9JbnB1dENyeXB0b2dyYW0SOgoHY29udGV4dBgBIAEoCzIpLmluY28uY292YWxpZGF0b3IuY29tcHV0ZS52MS5JbnB1dENvbnRleHQSDwoHcGF5bG9hZBgCIAEoDCKXAQoMSW5wdXRQYXlsb2FkEhQKDGNvbnRleHRfaGFzaBgBIAEoDBI1CgZzY2FsYXIYAiABKAsyIy5pbmNvLmNvdmFsaWRhdG9yLmNvbXB1dGUudjEuU2NhbGFySAASMQoEbGlzdBgDIAEoCzIhLmluY28uY292YWxpZGF0b3IuY29tcHV0ZS52MS5MaXN0SABCBwoFdmFsdWUiJQoGU2NhbGFyEgwKBHR5cGUYASABKAUSDQoFdmFsdWUYAiABKAwiKwoETGlzdBITCgtlbGVtZW50VHlwZRgBIAEoBRIOCgZ2YWx1ZXMYAiADKAwiMwoQU3RvcmVkQ3J5cHRvZ3JhbRIOCgZoYW5kbGUYASABKAwSDwoHcGF5bG9hZBgCIAEoDCKHAQoTQ3J5cHRvZ3JhbVdpdGhQcm9vZhJBCgpjcnlwdG9ncmFtGAEgASgLMi0uaW5jby5jb3ZhbGlkYXRvci5jb21wdXRlLnYxLlN0b3JlZENyeXB0b2dyYW0SLQoJYWNsX3Byb29mGAIgASgLMhouaW5jby5rbXMubGl0ZS52MS5BQ0xQcm9vZkI3WjVnaXRodWIuY29tL2luY28tZmhldm0vaW5jby1tb25vcmVwby9jb3ZhbGlkYXRvci90eXBlc2IGcHJvdG8z",[Vy]),VS=UV(VR,2),VT=UV(VR,3),VU=new VJ.ec("secp256k1");function VV(){var a;return{scheme:1,kp:a=VU.genKeyPair(),encodePublicKey:()=>new Uint8Array(a.getPublic().encode("array",!0))}}async function VW(a,b){let c=a.kp.getPrivate().toArrayLike(Buffer,"be",32);return new Uint8Array(await (0,VI.decrypt)(c,Buffer.from(b)))}var Nx=Nx;function VX({chainId:a,primaryType:b,primaryTypeFields:c,message:d,verifyingContract:e,domainName:f,domainVersion:g}){let h={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"}],[b]:c};e&&h.EIP712Domain.push({name:"verifyingContract",type:"address"});let i=Object.keys(d),j=c.map(a=>a.name);if(i.length!==j.length)throw Error("Message keys do not match primaryTypeFields keys");for(let a of i)if(!j.includes(a))throw Error(`Message key ${a} does not match primaryTypeFields key`);return{types:h,primaryType:b,domain:{name:f,version:g,chainId:a,verifyingContract:e},message:d}}Nx.Struct({domain:Nx.Struct({chainId:Nx.BigInt,name:Nx.String,version:Nx.String,verifyingContract:Nx.optional(NL)}),primaryType:Nx.String,types:Nx.Record({key:Nx.String,value:Nx.Array(Nx.Struct({name:Nx.String,type:Nx.String}))})});class VY extends Error{cause;constructor(a,b){super(a),this.cause=b,this.name="AttestedDecryptError"}}let VZ="IncoAttestedDecrypt";async function V$({handles:a,backoffConfig:b,walletClient:c,chainId:d,reencryptPubKey:e,reencryptKeypair:f,kmsQuorumClient:g,executorAddress:h}){try{let j;a.forEach(V3);let k=await V0({executorAddress:h,...c?{walletClient:c}:{},chainId:d,handles:a,...void 0!==e?{reencryptPubKey:e}:{}});if(c){var i;let d=await V1(c,k),h=a.map(a=>T6(Vz,{handle:a,aclProof:{proof:{case:"incoLiteBasicAclProof",value:{}}}})),l=(i={userAddress:c.account.address,handlesWithProofs:h,eip712Signature:(0,NH.hexToBytes)(d),...void 0!==e?{reencryptPubKey:e}:{}},T6(VE,{userAddress:i.userAddress,handlesWithProofs:i.handlesWithProofs,eip712Signature:i.eip712Signature,reencryptPubKey:i.reencryptPubKey?i.reencryptPubKey:new Uint8Array}));j=await g.attestedDecrypt(l,b),void 0!==e&&f&&(j=await V2(j,f))}else{let c=T6(VF,{handles:a});j=await g.attestedReveal(c,b)}return j}catch(a){if(a instanceof VY)throw a;throw new VY("Failed to decrypt handles",a)}}async function V_(a,b,c){let d;if(c&&a&&"UNUSED IN TEST"!==c.transport.url){let b=Tq({address:a,abi:Uv,client:c}),e=Tq({address:await b.read.incoVerifier(),abi:Ux,client:c});d=await e.read.getEIP712Version()}else d=b;return d}async function V0(a){let b=await V_(a.executorAddress,"2",a.walletClient);return VX({chainId:BigInt(a.chainId),primaryType:"AttestedDecryptRequest",primaryTypeFields:[{name:"handles",type:"bytes32[]"},{name:"publicKey",type:"bytes"}],message:{handles:a.handles,publicKey:(0,NE.bytesToHex)(a.reencryptPubKey?a.reencryptPubKey:new Uint8Array)},domainName:VZ,domainVersion:b})}async function V1(a,b){return await a.signTypedData(b)}async function V2(a,b){return Promise.all(a.map(async a=>{if("plaintext"in a&&void 0!==a.plaintext)return a;if("encryptedPlaintext"in a&&void 0!==a.encryptedPlaintext){let c=(0,NH.hexToBytes)(a.encryptedPlaintext.ciphertext.value),d=NM(await VW(b,c)),e=NX(a.handle),f=await Promise.all(a.encryptedSignatures.map(async a=>await VW(b,a)));return{handle:a.handle,plaintext:Ur(1,e,d),covalidatorSignatures:f}}throw new VY("Attestation is neither plaintext nor encrypted")}))}function V3(a){if(!a.startsWith("0x")||66!==a.length)throw new VY("Invalid handle format: must be a 32-byte hex string with 0x prefix")}aw.FHE_EQ,aw.FHE_NE,aw.FHE_GE,aw.FHE_GT,aw.FHE_LE,aw.FHE_LT;class V4 extends Error{cause;constructor(a,b){super(a),this.cause=b,this.name="AttestedComputeError"}}let V5="IncoAttestedCompute";async function V6({executorAddress:a,lhsHandle:b,op:c,rhsPlaintext:d,backoffConfig:e,walletClient:f,kmsQuorumClient:g,chainId:h,reencryptPubKey:i,reencryptKeypair:j}){try{V3(b);let k="boolean"==typeof d?d?1n:0n:BigInt(d),l=await V_(a,"2",f),m=VX({chainId:BigInt(h),primaryType:"AttestedComputeRequest",primaryTypeFields:[{name:"op",type:"uint8"},{name:"lhsHandle",type:"bytes32"},{name:"rhsPlaintext",type:"bytes32"},{name:"publicKey",type:"bytes"}],message:{op:c,lhsHandle:b,rhsPlaintext:NO(k),publicKey:(0,NE.bytesToHex)(i||new Uint8Array)},domainName:V5,domainVersion:l}),n=await f.signTypedData(m),o=T6(VG,{userAddress:f.account.address,reencryptPubKey:i||new Uint8Array,op:c,lhsHandle:b,rhsPlaintext:k.toString(16),eip712Signature:(0,NH.hexToBytes)(n),aclProof:{proof:{case:"incoLiteBasicAclProof",value:{}}}}),p=await g.attestedCompute(o,e);if(i&&j){let[a]=await V2([p],j);return a}return p}catch(a){if(a instanceof V4)throw a;throw new V4("Failed to perform attested compute",a)}}async function V7(a,b,c,d,e){let f=await Wf(a,b);return{sessionNonce:await f.read.getActiveVouchersSessionNonce([b.account.address]),verifyingContract:c,callFunction:d,sharerArgData:e}}async function V8({chainId:a,incoLiteAddress:b,sessionVerifierContractAddress:c,granteeAddress:d,sharerWalletClient:e,expiresAt:f}){let g={decrypter:d,expiresAt:BigInt(Math.floor(f.getTime()/1e3))},h=(0,Pg.encodeAbiParameters)(function(){let a=Ut.find(a=>"name"in a&&"getSession"===a.name);if(!a)throw Error("getSession not found");let b=a.outputs[0];if(!b)throw Error("session not found");return b.components}(),[g.decrypter,g.expiresAt]),i=await Wf(b,e),j=await i.read.eip712Domain(),k=j[1],l=j[2],m=await V7(b,e,c,(0,Ue.toFunctionSelector)(We()),h),n=VX({chainId:a,primaryType:"AllowanceVoucher",primaryTypeFields:Wd(),message:m,verifyingContract:i.address,domainName:k,domainVersion:l}),o=await e.signTypedData(n);return{sharer:e.account.address,voucher:m,voucherSignature:o}}async function V9({chainId:a,incoLiteAddress:b,sessionVerifierContractAddress:c,sharerWalletClient:d,sharerArgData:e}){let f=await Wf(b,d),g=await f.read.eip712Domain(),h=g[1],i=g[2],j=await V7(b,d,c,(0,Ue.toFunctionSelector)(We()),e),k=VX({chainId:a,primaryType:"AllowanceVoucher",primaryTypeFields:Wd(),message:j,verifyingContract:f.address,domainName:h,domainVersion:i}),l=await d.signTypedData(k);return{sharer:d.account.address,voucher:j,voucherSignature:l}}async function Wa(a,b){let c=await Wf(a,b);return await c.write.updateActiveVouchersSessionNonce()}async function Wb({lhsHandle:a,op:b,rhsPlaintext:c,backoffConfig:d,chainId:e,kmsQuorumClient:f,ephemeralKeypair:g,allowanceVoucherWithSig:h,requesterArgData:i,ethClient:j,executorAddress:k,reencryptPubKey:l,reencryptKeypair:m}){let n=Uk(`0x${g.kp.getPrivate("hex")}`),o=BigInt(c);Ur(1,NX(a),o);let p=await V_(k,"2",j),q=VX({chainId:BigInt(e),primaryType:"AttestedComputeRequest",primaryTypeFields:[{name:"op",type:"uint8"},{name:"lhsHandle",type:"bytes32"},{name:"rhsPlaintext",type:"bytes32"},{name:"publicKey",type:"bytes"}],message:{op:b,lhsHandle:a,rhsPlaintext:NO(o),publicKey:(0,NE.bytesToHex)(l||new Uint8Array)},domainName:V5,domainVersion:p}),r=await n.signTypedData(q),s=T6(VG,{userAddress:n.address,reencryptPubKey:l||new Uint8Array,op:b,lhsHandle:a,rhsPlaintext:o.toString(16),eip712Signature:(0,NH.hexToBytes)(r),aclProof:{proof:{case:"incoLiteAdvancedAclProof",value:T6(VC,{allowanceProof:T6(VB,{sharer:h.sharer,voucher:T6(VA,{sessionNonce:(0,NH.hexToBytes)(h.voucher.sessionNonce),verifyingContract:h.voucher.verifyingContract,callFunction:(0,NH.hexToBytes)(h.voucher.callFunction),sharerArgData:(0,NH.hexToBytes)(h.voucher.sharerArgData)}),voucherSignature:(0,NH.hexToBytes)(h.voucherSignature),requesterArgData:i?(0,NH.hexToBytes)(i):new Uint8Array})})}}}),t=await f.attestedCompute(s,d);if(l&&m){let[a]=await V2([t],m);return a}return t}async function Wc({chainId:a,kmsQuorumClient:b,handles:c,ephemeralKeypair:d,allowanceVoucherWithSig:e,requesterArgData:f,backoffConfig:g,reencryptPubKey:h,reencryptKeypair:i,ethClient:j,executorAddress:k}){let l=Uk(`0x${d.kp.getPrivate("hex")}`),m=await V_(k,"2",j),n=VX({chainId:BigInt(a),primaryType:"AttestedDecryptRequest",primaryTypeFields:[{name:"handles",type:"bytes32[]"},{name:"publicKey",type:"bytes"}],message:{handles:c,publicKey:(0,NE.bytesToHex)(h||Uint8Array.from([]))},domainName:VZ,domainVersion:m}),o=await l.signTypedData(n),p=c.map(a=>T6(Vz,{handle:a,aclProof:{proof:{case:"incoLiteAdvancedAclProof",value:T6(VC,{allowanceProof:T6(VB,{sharer:e.sharer,voucher:T6(VA,{sessionNonce:(0,NH.hexToBytes)(e.voucher.sessionNonce),verifyingContract:e.voucher.verifyingContract,callFunction:(0,NH.hexToBytes)(e.voucher.callFunction),sharerArgData:(0,NH.hexToBytes)(e.voucher.sharerArgData)}),voucherSignature:(0,NH.hexToBytes)(e.voucherSignature),requesterArgData:f?(0,NH.hexToBytes)(f):new Uint8Array})})}}})),q=T6(VE,{userAddress:l.address,handlesWithProofs:p,eip712Signature:(0,NH.hexToBytes)(o),reencryptPubKey:h||Uint8Array.from([])}),r=await b.attestedDecrypt(q,g);return void 0!==h&&i&&(r=await V2(r,i)),r}function Wd(){let a=Uu.find(a=>"allowanceVoucherDigest"===a.name);if(!a)throw Error("allowanceVoucherDigest not found");let b=a.inputs.find(a=>"struct AllowanceVoucher"===a.internalType);if(!b)throw Error("allowanceVoucherInput not found");return b.components}function We(){let a=Uw.find(a=>"name"in a&&"canUseSession"===a.name);if(!a)throw Error("canUseSession not found");return a}async function Wf(a,b){let c=Tq({address:a,abi:Uv,client:b});return Tq({address:await c.read.incoVerifier(),abi:Ux,client:b})}let Wg=[{name:"incoLightningPreview_3_0_0__976859633",majorVersion:3,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x4732520194584a04Cac0224e067658619F4086bD",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00ef1fab551c72a93b0637f1",chainId:84532,chainName:"Base Sepolia",version:{major:3,minor:0,patch:0,shortSalt:"976859633"},blockNumber:0x226d79c,deployDate:"2026-01-09T14:18:04.212Z",commit:"v0.7.9-7-g63b3d823-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_2_0_0__889158349",majorVersion:2,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"testnet",executorAddress:"0x168FDc3Ae19A5d5b03614578C58974FF30FCBe92",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc005e0f44aac1a914b715cecd",chainId:84532,chainName:"Base Sepolia",version:{major:2,minor:0,patch:0,shortSalt:"889158349"},blockNumber:0x21706a7,deployDate:"2025-12-16T14:26:58.303Z",commit:"v0.7.5-1-g770d7d08-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_2_0_0__467437523",majorVersion:2,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"demonet",executorAddress:"0xA95EAbCE575f5f1e52605358Ee893F6536166378",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc0071f74686446f14c7b469d3",chainId:84532,chainName:"Base Sepolia",version:{major:2,minor:0,patch:0,shortSalt:"467437523"},blockNumber:0x2223646,deployDate:"2026-01-02T13:43:12.741Z",commit:"v0.7.6-testnet-1-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_2_0_0__976644394",majorVersion:2,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"alphanet",executorAddress:"0xc0d693DeEF0A91CE39208676b6da09B822abd199",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc000822f11f6e30f933e76d2a",chainId:84532,chainName:"Base Sepolia",version:{major:2,minor:0,patch:0,shortSalt:"976644394"},blockNumber:0x20dce7a,deployDate:"2025-12-02T14:46:46.026Z",commit:"v0.6.9-17-g217794f3-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_2_0_0__295237520",majorVersion:2,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0xC64BB070D6F5aa796e79fA19c1008647ffF736ED",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc008d5a963bd519d8493f5190",chainId:9746,chainName:"Plasma Testnet",version:{major:2,minor:0,patch:0,shortSalt:"295237520"},blockNumber:9978173,deployDate:"2025-12-15T09:08:41.845Z",commit:"v0.7.4-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_2_0_0__295237520",majorVersion:2,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0xC64BB070D6F5aa796e79fA19c1008647ffF736ED",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc008d5a963bd519d8493f5190",chainId:84532,chainName:"Base Sepolia",version:{major:2,minor:0,patch:0,shortSalt:"295237520"},blockNumber:0x2138af3,deployDate:"2025-12-11T07:37:48.943Z",commit:"v0.7.2-3-g4d31fa62-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_1_1_0__725458969",majorVersion:1,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"alphanet",executorAddress:"0x28676Cd3b10b03b2FDF105Ba280425b45a674F2A",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc004dfbe338c6966a22bcca19",chainId:84532,chainName:"Base Sepolia",version:{major:1,minor:1,patch:0,shortSalt:"725458969"},blockNumber:0x20dc3d7,deployDate:"2025-12-02T13:16:00.594Z",commit:"v0.6.9-16-g428d1837-dirty",active:!0,includesPreviewFeatures:!0},{name:"incoLightningPreview_1_0_2__725458969",majorVersion:1,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"alphanet",executorAddress:"0x28676Cd3b10b03b2FDF105Ba280425b45a674F2A",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc004dfbe338c6966a22bcca19",chainId:84532,chainName:"Base Sepolia",version:{major:1,minor:0,patch:2,shortSalt:"725458969"},blockNumber:0x1ea2ffd,deployDate:"2025-10-09T13:55:42.997Z",commit:"v0.5.3-10-ga4f2312d",active:!0},{name:"incoLightningPreview_1_0_2__904635675",majorVersion:1,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3473820DcAa71Af8157b93C7f2bf1c676A2A39A6",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc007d63c0fdca6698ac7cc51b",chainId:9746,chainName:"Plasma Testnet",version:{major:1,minor:0,patch:2,shortSalt:"904635675"},blockNumber:3696905,deployDate:"2025-10-03T13:24:44.682Z",commit:"v0.5.3-6-g8db0f27f-dirty",active:!0},{name:"incoLightningPreview_1_0_0__904635675",majorVersion:1,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3473820DcAa71Af8157b93C7f2bf1c676A2A39A6",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc007d63c0fdca6698ac7cc51b",chainId:9746,chainName:"Plasma Testnet",version:{major:1,minor:0,patch:0,shortSalt:"904635675"},blockNumber:3344310,deployDate:"2025-09-29T11:14:02.599Z",commit:"v0.5.1-5-g4135c790-dirty",active:!0},{name:"incoLightning_0_2_0__183408998",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"testnet",executorAddress:"0x63D8135aF4D393B1dB43B649010c8D3EE19FC9fd",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00d75ffa0caf0797c3f12d66",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:2,patch:0,shortSalt:"183408998"},blockNumber:0x1914100,deployDate:"2025-05-27T15:57:24.175Z",commit:"v5-3-gec8b6aae-dirty",active:!0},{name:"incoLightning_0_1_29__183408998",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"testnet",executorAddress:"0x63D8135aF4D393B1dB43B649010c8D3EE19FC9fd",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00d75ffa0caf0797c3f12d66",chainId:10143,chainName:"Monad Testnet",version:{major:0,minor:1,patch:29,shortSalt:"183408998"},blockNumber:0xcd7427,deployDate:"2025-04-22T16:01:14.380Z",commit:"v3-28-g93c05a49-dirty",active:!0},{name:"incoLightning_0_1_29__183408998",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"testnet",executorAddress:"0x63D8135aF4D393B1dB43B649010c8D3EE19FC9fd",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00d75ffa0caf0797c3f12d66",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:1,patch:29,shortSalt:"183408998"},blockNumber:0x17a2f0e,deployDate:"2025-04-22T16:00:02.028Z",commit:"v3-28-g93c05a49-dirty",active:!0},{name:"incoLightning_0_2_0__863421733",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"demonet",executorAddress:"0xeBAFF6D578733E4603b99CBdbb221482F29a78E1",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00834654f6d289ccc7e5ab25",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:2,patch:0,shortSalt:"863421733"},blockNumber:0x188b7d7,deployDate:"2025-05-14T17:10:44.285Z",commit:"v4-11-g4a1f413a-dirty",active:!0},{name:"incoLightning_0_1_29__863421733",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"demonet",executorAddress:"0xeBAFF6D578733E4603b99CBdbb221482F29a78E1",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00834654f6d289ccc7e5ab25",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:1,patch:29,shortSalt:"863421733"},blockNumber:0x1887149,deployDate:"2025-05-14T07:08:39.059Z",commit:"v4",active:!0},{name:"incoLightningPreview_0_2_1__297966649",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"alphanet",executorAddress:"0x4651DfD7729aE5568092E7351fAaD872266d4CBd",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc0023f7798f470fdf5e9da639",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:2,patch:1,shortSalt:"297966649"},blockNumber:0x1a44772,deployDate:"2025-06-25T12:38:32.856Z",commit:"v5-17-ga03e4b32-dirty",active:!0},{name:"incoLightningPreview_0_2_0__297966649",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"alphanet",executorAddress:"0x4651DfD7729aE5568092E7351fAaD872266d4CBd",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc0023f7798f470fdf5e9da639",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:2,patch:0,shortSalt:"297966649"},blockNumber:0x19a61be,deployDate:"2025-06-10T12:17:35.790Z",commit:"v5-13-gd6b19c10-dirty",active:!0},{name:"incoLightningPreview_0_2_1__340846814",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3B22be60Ae699933959CA3cE147C96caa88Ccd3D",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00b001d6742fded0dd599ede",chainId:9746,chainName:"Plasma Testnet",version:{major:0,minor:2,patch:1,shortSalt:"340846814"},blockNumber:1718868,deployDate:"2025-09-10T15:20:25.654Z",commit:"v6-7-gf96f358e-dirty",active:!0},{name:"incoLightning_0_2_1__340846814",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3B22be60Ae699933959CA3cE147C96caa88Ccd3D",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00b001d6742fded0dd599ede",chainId:9746,chainName:"Plasma Testnet",version:{major:0,minor:2,patch:1,shortSalt:"340846814"},blockNumber:1717229,deployDate:"2025-09-10T14:53:07.218Z",commit:"v6-7-gf96f358e-dirty",active:!0},{name:"incoLightningPreview_0_2_1__340846814",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3B22be60Ae699933959CA3cE147C96caa88Ccd3D",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00b001d6742fded0dd599ede",chainId:4801,chainName:"World Chain Sepolia",version:{major:0,minor:2,patch:1,shortSalt:"340846814"},blockNumber:0x108fbb6,deployDate:"2025-08-15T17:35:15.208Z",commit:"v0.2.17-35-g8cca6b4e-dirty",active:!0},{name:"incoLightning_0_2_0__340846814",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3B22be60Ae699933959CA3cE147C96caa88Ccd3D",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00b001d6742fded0dd599ede",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:2,patch:0,shortSalt:"340846814"},blockNumber:0x18e9a6f,deployDate:"2025-05-23T15:26:57.031Z",commit:"v5-2-g8957c16b-dirty",active:!0},{name:"incoLightning_0_1_29__340846814",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3B22be60Ae699933959CA3cE147C96caa88Ccd3D",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00b001d6742fded0dd599ede",chainId:10143,chainName:"Monad Testnet",version:{major:0,minor:1,patch:29,shortSalt:"340846814"},blockNumber:0xcd7285,deployDate:"2025-04-22T15:57:26.862Z",commit:"v3-28-g93c05a49-dirty",active:!0},{name:"incoLightning_0_1_29__340846814",majorVersion:0,deployer:"0x8202D2D747784Cb7D48868E44C42C4bf162a70BC",pepper:"devnet",executorAddress:"0x3B22be60Ae699933959CA3cE147C96caa88Ccd3D",salt:"0x8202d2d747784cb7d48868e44c42c4bf162a70bc00b001d6742fded0dd599ede",chainId:84532,chainName:"Base Sepolia",version:{major:0,minor:1,patch:29,shortSalt:"340846814"},blockNumber:0x17a2e8f,deployDate:"2025-04-22T15:55:47.828Z",commit:"v3-28-g93c05a49-dirty",active:!0}],Wh={demonet:{executorAddress:"0xA95EAbCE575f5f1e52605358Ee893F6536166378",chainId:31337,covalidatorUrls:["http://localhost:50055"],signers:["0xa3968E59A2659F33CB8deFEFa713512C800fbc77"],hostChainRpcUrl:"http://localhost:8545",senderPrivateKey:"0xde4526e9059cddb3eb8511fcefc2daa1dcaf2475ec76ff6ae63bfc7eb3405a1b"},testnet:{executorAddress:"0x168FDc3Ae19A5d5b03614578C58974FF30FCBe92",chainId:31337,covalidatorUrls:["http://localhost:50055"],signers:["0x8586714c02340Dc28935977d8E864f1F8E1c30B2"],hostChainRpcUrl:"http://localhost:8545",senderPrivateKey:"0x3ff395b755c4dc09837d0672dd421915e9b9835a4733edf63d8fd12b3fe4475c"},devnet:{executorAddress:"0x4732520194584a04Cac0224e067658619F4086bD",chainId:31337,covalidatorUrls:["http://localhost:50055"],signers:["0xD8cF6baD71Bb4c8c4488d893436276f0CAfBaBe3"],hostChainRpcUrl:"http://localhost:8545",senderPrivateKey:"0x6f1fb30de0c1f1f9d4ca583a09f6885ca76aa2a0817f30e9f8fc112486d79bcd"},alphanet:{executorAddress:"0xc0d693DeEF0A91CE39208676b6da09B822abd199",chainId:31337,covalidatorUrls:["http://localhost:50055"],signers:["0x8E873085348a3406A07907E5d1465B9824bA07cd"],hostChainRpcUrl:"http://localhost:8545",senderPrivateKey:"0x279c172cf3638a79642daa5f7666c600befde318550d7579cf96280920e318b6"},scratch:{executorAddress:"0x7e344a29071fE868411feBa6bd12E70EFF0E71ed",chainId:31337,covalidatorUrls:["http://localhost:50055"],signers:["0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"],hostChainRpcUrl:"http://127.0.0.1:8567",senderPrivateKey:"0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80"}},Wi=TH({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),Wj=TH({id:10143,name:"Monad Testnet",blockTime:400,nativeCurrency:{name:"Testnet MON Token",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Testnet explorer",url:"https://testnet.monadexplorer.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:251449}},testnet:!0}),Wk=TH({id:9746,name:"Plasma Testnet",nativeCurrency:{name:"Testnet Plasma",symbol:"XPL",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plasma.to"]}},blockExplorers:{default:{name:"RouteScan",url:"https://testnet.plasmascan.to"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!0}),Wl=TH({id:0xaa36a7,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),Wm=TH({...TG,id:4801,name:"World Chain Sepolia",network:"worldchain-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-sepolia.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan Sepolia",url:"https://sepolia.worldscan.org",apiUrl:"https://api-sepolia.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-sepolia.explorer.alchemy.com",apiUrl:"https://worldchain-sepolia.explorer.alchemy.com/api"}},contracts:{...TG.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{0xaa36a7:{address:"0x8Ec1111f67Dad6b6A93B3F42DfBC92D81c98449A"}},l2OutputOracle:{0xaa36a7:{address:"0xc8886f8BAb6Eaeb215aDB5f1c686BF699248300e"}},portal:{0xaa36a7:{address:"0xFf6EBa109271fe6d4237EeeD4bAb1dD9A77dD1A4"}},l1StandardBridge:{0xaa36a7:{address:"0xd7DF54b3989855eb66497301a4aAEc33Dbb3F8DE"}}},testnet:!0,sourceId:0xaa36a7}),Wn={baseSepolia:84532,sepolia:0xaa36a7,monadTestnet:10143,plasmaTestnet:9746,worldchainSepolia:4801,anvil:31337},Wo={sepolia:Wl,baseSepolia:TI,monadTestnet:Wj,plasmaTestnet:Wk,anvil:Wi,worldchainSepolia:Wm};function Wp(a){let{name:b}=function(a){let b="number"==typeof a||"bigint"==typeof a?Object.entries(Wn).find(([,b])=>b===Number(a)):"object"==typeof a?Object.entries(Wn).find(([,b])=>b===Number(a.id)):Object.entries(Wn).find(([b])=>b===a);if(!b)throw Error(`Supported chain ${a} not found`);let[c,d]=b;return{name:c,id:d}}(a),c=Wo[b];if(!c)throw Error(`Unable to get viem chain: ${b}`);return c}async function Wq(a,{maxRetries:b=5,baseDelayInMs:c=1e3,backoffFactor:d=1.5,errHandler:e=()=>"continue"}={}){let f;for(let g=0;g<b;g++)try{return await a()}catch(h){if("continue"!==e(f=h,g)||g===b-1)break;let a=c*Math.pow(d,g)*(.8+.4*Math.random());await new Promise(b=>setTimeout(b,a))}throw f}function Wr(a){let b=ax[a];return"string"!=typeof b?a.toString():b[0].toLowerCase()+b.substring(1).replace(/[A-Z]/g,a=>"_"+a.toLowerCase())}(W=ax||(ax={}))[W.Canceled=1]="Canceled",W[W.Unknown=2]="Unknown",W[W.InvalidArgument=3]="InvalidArgument",W[W.DeadlineExceeded=4]="DeadlineExceeded",W[W.NotFound=5]="NotFound",W[W.AlreadyExists=6]="AlreadyExists",W[W.PermissionDenied=7]="PermissionDenied",W[W.ResourceExhausted=8]="ResourceExhausted",W[W.FailedPrecondition=9]="FailedPrecondition",W[W.Aborted=10]="Aborted",W[W.OutOfRange=11]="OutOfRange",W[W.Unimplemented=12]="Unimplemented",W[W.Internal=13]="Internal",W[W.Unavailable=14]="Unavailable",W[W.DataLoss=15]="DataLoss",W[W.Unauthenticated=16]="Unauthenticated";class Ws extends Error{constructor(a,b=ax.Unknown,c,d,e){super(function(a,b){return a.length?`[${Wr(b)}] ${a}`:`[${Wr(b)}]`}(a,b)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=a,this.code=b,this.metadata=new Headers(null!=c?c:{}),this.details=null!=d?d:[],this.cause=e}static from(a,b=ax.Unknown){return a instanceof Ws?a:a instanceof Error?"AbortError"==a.name||"TimeoutError"==a.name?new Ws(a.message,ax.Canceled):new Ws(a.message,b,void 0,void 0,a):new Ws(String(a),b,void 0,void 0,a)}static[Symbol.hasInstance](a){return a instanceof Error&&(Object.getPrototypeOf(a)===Ws.prototype||"ConnectError"===a.name&&"code"in a&&"number"==typeof a.code&&"metadata"in a&&"details"in a&&Array.isArray(a.details)&&"rawMessage"in a&&"string"==typeof a.rawMessage&&"cause"in a)}findDetails(a){let b="message"===a.kind?{getMessage:b=>b===a.typeName?a:void 0}:a,c=[];for(let a of this.details){if("desc"in a){b.getMessage(a.desc.typeName)&&c.push(T6(a.desc,a.value));continue}let d=b.getMessage(a.type);if(d)try{c.push(Vs(d,a.value))}catch(a){}}return c}}var Wt=function(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}},Wu=function(a){return this instanceof Wu?(this.v=a,this):new Wu(a)},Wv=function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",function(a){return function(b){return Promise.resolve(b).then(a,j)}}),d[Symbol.asyncIterator]=function(){return this},d;function g(a,b){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})},b&&(d[a]=b(d[a])))}function h(a,b){try{var c;(c=e[a](b)).value instanceof Wu?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}},Ww=function(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:Wu(a[d](b)),done:!1}:e?e(b):b}:e}},Wx=function(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}},Wy=function(a){return this instanceof Wy?(this.v=a,this):new Wy(a)},Wz=function(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:Wy(a[d](b)),done:!1}:e?e(b):b}:e}},WA=function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",function(a){return function(b){return Promise.resolve(b).then(a,j)}}),d[Symbol.asyncIterator]=function(){return this},d;function g(a,b){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})},b&&(d[a]=b(d[a])))}function h(a,b){try{var c;(c=e[a](b)).value instanceof Wy?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}};function WB(a,b){let c=(function(){return WA(this,arguments,function*(){var c,d;let e=yield Wy(a);null==(c=null==b?void 0:b.onHeader)||c.call(b,e.header),yield Wy((yield*Wz(Wx(e.message)))),null==(d=null==b?void 0:b.onTrailer)||d.call(b,e.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>c.next()})}}let WC=UV(Vx("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),0);function WD(a){let b=a.lastIndexOf("/"),c=b>=0?a.substring(b+1):a;if(!c.length)throw Error(`invalid type url: ${a}`);return c}let WE=Vx("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),WF=UV(WE,0),WG=UV(WE,1),WH=UV(WE,2);function WI(a,b){let c=a.typeName,d=Object.assign(Object.assign({},a),{kind:"field",parent:a.extendee,localName:c}),e=Object.assign(Object.assign({},a.extendee),{fields:[d],members:[d],oneofs:[]}),f=T6(e,void 0!==b?{[c]:b}:void 0);return[Vc(e,f),d,()=>{let b=f[c];if(void 0===b){let b=a.message;return T4(b)?TW(b.fields[0].scalar,b.fields[0].longAsString):T6(b)}return b}]}function WJ(a,b){if(a.extendee.typeName!=b.$typeName)throw Error(`extension ${a.typeName} can only be applied to message ${a.extendee.typeName}`)}(X=ay||(ay={}))[X.NULL_VALUE=0]="NULL_VALUE";let WK={ignoreUnknownFields:!1};function WL(a,b,c){let d=Vc(a);try{WN(d,b,c?Object.assign(Object.assign({},WK),c):WK)}catch(a){if(a instanceof Error&&UX.includes(a.name)&&"field"in a&&"function"==typeof a.field)throw Error(`cannot decode ${a.field()} from JSON: ${a.message}`,{cause:a});throw a}return d.message}let WM=new WeakMap;function WN(a,b,c){var d;if(function(a,b,c){if(!a.desc.typeName.startsWith("google.protobuf."))return!1;switch(a.desc.typeName){case"google.protobuf.Any":return function(a,b,c){var d,e,f,g,h;if(null===b||Array.isArray(b)||"object"!=typeof b)throw Error(`cannot decode message ${a.$typeName} from JSON: expected object but got ${U8(b)}`);if(0==Object.keys(b).length)return;let i=b["@type"];if("string"!=typeof i||""==i)throw Error(`cannot decode message ${a.$typeName} from JSON: "@type" is empty`);let j=i.includes("/")?i.substring(i.lastIndexOf("/")+1):i;if(!j.length)throw Error(`cannot decode message ${a.$typeName} from JSON: "@type" is invalid`);let k=null==(d=c.registry)?void 0:d.getMessage(j);if(!k)throw Error(`cannot decode message ${a.$typeName} from JSON: ${i} is not in the type registry`);let l=Vc(k);if(j.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(b,"value"))WN(l,b.value,c);else{let a=Object.assign({},b);delete a["@type"],WN(l,a,c)}e=l.desc,f=l.message,(g=a)||(g=T6(WC)),g.value=VL(e,f),g.typeUrl=(h=f.$typeName,`type.googleapis.com/${h}`)}(a.message,b,c),!0;case"google.protobuf.Timestamp":return function(a,b){if("string"!=typeof b)throw Error(`cannot decode message ${a.$typeName} from JSON: ${U8(b)}`);let c=b.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!c)throw Error(`cannot decode message ${a.$typeName} from JSON: invalid RFC 3339 string`);let d=Date.parse(c[1]+"-"+c[2]+"-"+c[3]+"T"+c[4]+":"+c[5]+":"+c[6]+(c[8]?c[8]:"Z"));if(Number.isNaN(d))throw Error(`cannot decode message ${a.$typeName} from JSON: invalid RFC 3339 string`);if(d<Date.parse("0001-01-01T00:00:00Z")||d>Date.parse("9999-12-31T23:59:59Z"))throw Error(`cannot decode message ${a.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);a.seconds=TT.parse(d/1e3),a.nanos=0,c[7]&&(a.nanos=parseInt("1"+c[7]+"0".repeat(9-c[7].length))-1e9)}(a.message,b),!0;case"google.protobuf.Duration":return function(a,b){if("string"!=typeof b)throw Error(`cannot decode message ${a.$typeName} from JSON: ${U8(b)}`);let c=b.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(null===c)throw Error(`cannot decode message ${a.$typeName} from JSON: ${U8(b)}`);let d=Number(c[1]);if(d>315576e6||d<-315576e6)throw Error(`cannot decode message ${a.$typeName} from JSON: ${U8(b)}`);a.seconds=TT.parse(d),"string"!=typeof c[2]||(a.nanos=parseInt(c[2]+"0".repeat(9-c[2].length)),(d<0||Object.is(d,-0))&&(a.nanos=-a.nanos))}(a.message,b),!0;case"google.protobuf.FieldMask":return function(a,b){if("string"!=typeof b)throw Error(`cannot decode message ${a.$typeName} from JSON: ${U8(b)}`);""!==b&&(a.paths=b.split(",").map(b=>{if(b.includes("_"))throw Error(`cannot decode message ${a.$typeName} from JSON: path names must be lowerCamelCase`);return UC(b)}))}(a.message,b),!0;case"google.protobuf.Struct":return WV(a.message,b),!0;case"google.protobuf.Value":return WW(a.message,b),!0;case"google.protobuf.ListValue":return WX(a.message,b),!0;default:if(T4(a.desc)){let c=a.desc.fields[0];return null===b?a.clear(c):a.set(c,WT(c,b)),!0}return!1}}(a,b,c))return;if(null==b||Array.isArray(b)||"object"!=typeof b)throw Error(`cannot decode ${a.desc} from JSON: ${U8(b)}`);let e=new Map;for(let[f,g]of Object.entries(b)){let b=function(a,b){var c;if(!WM.has(a)){let b=new Map;for(let c of a.fields)b.set(c.name,c).set(c.jsonName,c);WM.set(a,b)}return null==(c=WM.get(a))?void 0:c.get(b)}(a.desc,f);if(b){if(b.oneof){if(null===g&&"scalar"==b.fieldKind)continue;let a=e.get(b.oneof);if(void 0!==a)throw new UY(b.oneof,`oneof set multiple times by ${a.name} and ${b.name}`);e.set(b.oneof,b)}WO(a,b,g,c)}else{let b;if(f.startsWith("[")&&f.endsWith("]")&&(b=null==(d=c.registry)?void 0:d.getExtension(f.substring(1,f.length-1)))&&b.extendee.typeName===a.desc.typeName){let[d,e,f]=WI(b);WO(d,e,g,c),function(a,b,c){var d;WJ(b,a);let e=(null!=(d=a.$unknown)?d:[]).filter(a=>a.no!==b.number),[f,g]=WI(b,c),h=new U_;VN(h,{writeUnknownFields:!0},f,g);let i=new U0(h.finish());for(;i.pos<i.len;){let[a,b]=i.tag(),c=i.skip(b,a);e.push({no:a,wireType:b,data:c})}a.$unknown=e}(a.message,b,f())}if(!b&&!c.ignoreUnknownFields)throw Error(`cannot decode ${a.desc} from JSON: key "${f}" is unknown`)}}}function WO(a,b,c,d){switch(b.fieldKind){case"scalar":var e,f,g;e=a,f=b,null===(g=c)?e.clear(f):e.set(f,WT(f,g));break;case"enum":!function(a,b,c,d){if(WQ(b,c))return a.clear(b);let e=WS(b.enum,c,d.ignoreUnknownFields);e!==WR&&a.set(b,e)}(a,b,c,d);break;case"message":!function(a,b,c,d){if(WQ(b,c))return a.clear(b);let e=a.isSet(b)?a.get(b):Vc(b.message);WN(e,c,d),a.set(b,e)}(a,b,c,d);break;case"list":!function(a,b,c){if(null===b)return;let d=a.field();if(!Array.isArray(b))throw new UY(d,"expected Array, got "+U8(b));for(let e of b){let b=WP(d,e,c);b!==WR&&a.add(b)}}(a.get(b),c,d);break;case"map":!function(a,b,c){if(null===b)return;let d=a.field();if("object"!=typeof b||Array.isArray(b))throw new UY(d,"expected object, got "+U8(b));for(let[e,f]of Object.entries(b)){let b=function(a,b){switch(a){case aa.BOOL:switch(b){case"true":return!0;case"false":return!1}return b;case aa.INT32:case aa.FIXED32:case aa.UINT32:case aa.SFIXED32:case aa.SINT32:return WU(b);default:return b}}(d.mapKey,e),g=WP(d,f,c);g!==WR&&a.set(b,g)}}(a.get(b),c,d)}}function WP(a,b,c){if(a.scalar&&null!==b)return WT(a,b);if(a.message&&!WQ(a,b)){let d=Vc(a.message);return WN(d,b,c),d}if(a.enum&&!WQ(a,b))return WS(a.enum,b,c.ignoreUnknownFields);throw new UY(a,`${"list"===a.fieldKind?"list item":"map value"} must not be null`)}function WQ(a,b){var c,d;return null===b&&(null==(c=a.message)?void 0:c.typeName)!="google.protobuf.Value"&&(null==(d=a.enum)?void 0:d.typeName)!="google.protobuf.NullValue"}let WR=Symbol();function WS(a,b,c){if(null===b)return a.values[0].number;switch(typeof b){case"number":if(Number.isInteger(b))return b;break;case"string":let d=a.values.find(a=>a.name===b);if(void 0!==d)return d.number;if(c)return WR}throw Error(`cannot decode ${a} from JSON: ${U8(b)}`)}function WT(a,b){switch(a.scalar){case aa.DOUBLE:case aa.FLOAT:if("NaN"===b)return NaN;if("Infinity"===b)return 1/0;if("-Infinity"===b)return-1/0;if("number"==typeof b){if(Number.isNaN(b))throw new UY(a,"unexpected NaN number");if(!Number.isFinite(b))throw new UY(a,"unexpected infinite number");break}if("string"==typeof b){if(""===b||b.trim().length!==b.length)break;let a=Number(b);if(!Number.isFinite(a))break;return a}break;case aa.INT32:case aa.FIXED32:case aa.SFIXED32:case aa.SINT32:case aa.UINT32:return WU(b);case aa.BYTES:if("string"==typeof b){if(""===b)return new Uint8Array(0);try{return Uy(b)}catch(b){throw new UY(a,b instanceof Error?b.message:String(b))}}}return b}function WU(a){if("string"==typeof a){if(""===a||a.trim().length!==a.length)return a;let b=Number(a);return Number.isNaN(b)?a:b}return a}function WV(a,b){if("object"!=typeof b||null==b||Array.isArray(b))throw Error(`cannot decode message ${a.$typeName} from JSON ${U8(b)}`);for(let[c,d]of Object.entries(b)){let b=T6(WG);WW(b,d),a.fields[c]=b}}function WW(a,b){switch(typeof b){case"number":a.kind={case:"numberValue",value:b};break;case"string":a.kind={case:"stringValue",value:b};break;case"boolean":a.kind={case:"boolValue",value:b};break;case"object":if(null===b)a.kind={case:"nullValue",value:ay.NULL_VALUE};else if(Array.isArray(b)){let c=T6(WH);WX(c,b),a.kind={case:"listValue",value:c}}else{let c=T6(WF);WV(c,b),a.kind={case:"structValue",value:c}}break;default:throw Error(`cannot decode message ${a.$typeName} from JSON ${U8(b)}`)}return a}function WX(a,b){if(!Array.isArray(b))throw Error(`cannot decode message ${a.$typeName} from JSON ${U8(b)}`);for(let c of b){let b=T6(WG);WW(b,c),a.values.push(b)}}function WY(){return{get(a){return a.id in this?this[a.id]:a.defaultValue},set(a,b){return this[a.id]=b,this},delete(a){return delete this[a.id],this}}}let WZ={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function W$(a,b){var c,d;let e=function(a,b){if(a.desc.typeName.startsWith("google.protobuf."))switch(a.desc.typeName){case"google.protobuf.Any":return function(a,b){let c,d;if(""===a.typeUrl)return{};let{registry:e}=b;if(e&&(c=function(a,b){var c,d;if(""===a.typeUrl)return;let e="message"==b.kind?b:b.getMessage(WD(a.typeUrl));if(e&&(c=a,d=e,""!==c.typeUrl&&("string"==typeof d?d:d.typeName)===WD(c.typeUrl)))return Vs(e,a.value)}(a,e))&&(d=e.getMessage(c.$typeName)),!d||!c)throw Error(`cannot encode message ${a.$typeName} to JSON: "${a.typeUrl}" is not in the type registry`);let f=W$(Vc(d,c),b);return(d.typeName.startsWith("google.protobuf.")||null===f||Array.isArray(f)||"object"!=typeof f)&&(f={value:f}),f["@type"]=a.typeUrl,f}(a.message,b);case"google.protobuf.Timestamp":return function(a){let b=1e3*Number(a.seconds);if(b<Date.parse("0001-01-01T00:00:00Z")||b>Date.parse("9999-12-31T23:59:59Z"))throw Error(`cannot encode message ${a.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(a.nanos<0)throw Error(`cannot encode message ${a.$typeName} to JSON: nanos must not be negative`);if(a.nanos>0x3b9ac9ff)throw Error(`cannot encode message ${a.$typeName} to JSON: nanos must not be greater than 99999999`);let c="Z";if(a.nanos>0){let b=(a.nanos+1e9).toString().substring(1);c="000000"===b.substring(3)?"."+b.substring(0,3)+"Z":"000"===b.substring(6)?"."+b.substring(0,6)+"Z":"."+b+"Z"}return new Date(b).toISOString().replace(".000Z",c)}(a.message);case"google.protobuf.Duration":return function(a){let b=Number(a.seconds),c=a.nanos;if(b>315576e6||b<-315576e6)throw Error(`cannot encode message ${a.$typeName} to JSON: value out of range`);if(b>0&&c<0||b<0&&c>0)throw Error(`cannot encode message ${a.$typeName} to JSON: nanos sign must match seconds sign`);let d=a.seconds.toString();if(0!==c){let a=Math.abs(c).toString();"000000"===(a="0".repeat(9-a.length)+a).substring(3)?a=a.substring(0,3):"000"===a.substring(6)&&(a=a.substring(0,6)),d+="."+a,c<0&&0==b&&(d="-"+d)}return d+"s"}(a.message);case"google.protobuf.FieldMask":var c;return(c=a.message).paths.map(a=>{if(UC(UB(a))!==a)throw Error(`cannot encode message ${c.$typeName} to JSON: lowerCamelCase of path name "${a}" is irreversible`);return UB(a)}).join(",");case"google.protobuf.Struct":return W2(a.message);case"google.protobuf.Value":return W3(a.message);case"google.protobuf.ListValue":return W4(a.message);default:if(T4(a.desc)){let b=a.desc.fields[0];return W1(b,a.get(b))}return}}(a,b);if(void 0!==e)return e;let f={};for(let c of a.sortedFields){if(!a.isSet(c)){if(3==c.presence)throw Error(`cannot encode ${c} to JSON: required field not set`);if(!b.alwaysEmitImplicit||2!==c.presence)continue}let e=W_(c,a.get(c),b);void 0!==e&&(f[d=c,b.useProtoFieldName?d.name:d.jsonName]=e)}if(b.registry){let d=new Set;for(let{no:e}of null!=(c=a.getUnknown())?c:[])if(!d.has(e)){d.add(e);let c=b.registry.getExtensionFor(a.desc,e);if(!c)continue;let g=function(a,b){WJ(b,a);let c=function(a,b){if(void 0===a)return[];if("enum"===b.fieldKind||"scalar"===b.fieldKind){for(let c=a.length-1;c>=0;--c)if(a[c].no==b.number)return[a[c]];return[]}return a.filter(a=>a.no===b.number)}(a.$unknown,b),[d,e,f]=WI(b);for(let a of c)Vu(d,new U0(a.data),e,a.wireType,{readUnknownFields:!0});return f()}(a.message,c),[h,i]=WI(c,g),j=W_(i,h.get(i),b);void 0!==j&&(f[c.jsonName]=j)}}return f}function W_(a,b,c){switch(a.fieldKind){case"scalar":return W1(a,b);case"message":return W$(b,c);case"enum":return W0(a.enum,b,c.enumAsInteger);case"list":var d=b,e=c;let f=d.field(),g=[];switch(f.listKind){case"scalar":for(let a of d)g.push(W1(f,a));break;case"enum":for(let a of d)g.push(W0(f.enum,a,e.enumAsInteger));break;case"message":for(let a of d)g.push(W$(a,e))}return e.alwaysEmitImplicit||g.length>0?g:void 0;case"map":var h=b,i=c;let j=h.field(),k={};switch(j.mapKind){case"scalar":for(let[a,b]of h)k[a]=W1(j,b);break;case"message":for(let[a,b]of h)k[a]=W$(b,i);break;case"enum":for(let[a,b]of h)k[a]=W0(j.enum,b,i.enumAsInteger)}return i.alwaysEmitImplicit||h.size>0?k:void 0}}function W0(a,b,c){var d;if("number"!=typeof b)throw Error(`cannot encode ${a} to JSON: expected number, got ${U8(b)}`);if("google.protobuf.NullValue"==a.typeName)return null;if(c)return b;let e=a.value[b];return null!=(d=null==e?void 0:e.name)?d:b}function W1(a,b){var c,d,e,f,g,h;switch(a.scalar){case aa.INT32:case aa.SFIXED32:case aa.SINT32:case aa.FIXED32:case aa.UINT32:if("number"!=typeof b)throw Error(`cannot encode ${a} to JSON: ${null==(c=U3(a,b))?void 0:c.message}`);return b;case aa.FLOAT:case aa.DOUBLE:if("number"!=typeof b)throw Error(`cannot encode ${a} to JSON: ${null==(d=U3(a,b))?void 0:d.message}`);if(Number.isNaN(b))return"NaN";if(b===1/0)return"Infinity";if(b===-1/0)return"-Infinity";return b;case aa.STRING:if("string"!=typeof b)throw Error(`cannot encode ${a} to JSON: ${null==(e=U3(a,b))?void 0:e.message}`);return b;case aa.BOOL:if("boolean"!=typeof b)throw Error(`cannot encode ${a} to JSON: ${null==(f=U3(a,b))?void 0:f.message}`);return b;case aa.UINT64:case aa.FIXED64:case aa.INT64:case aa.SFIXED64:case aa.SINT64:if("bigint"!=typeof b&&"string"!=typeof b)throw Error(`cannot encode ${a} to JSON: ${null==(g=U3(a,b))?void 0:g.message}`);return b.toString();case aa.BYTES:if(b instanceof Uint8Array)return Uz(b);throw Error(`cannot encode ${a} to JSON: ${null==(h=U3(a,b))?void 0:h.message}`)}}function W2(a){let b={};for(let[c,d]of Object.entries(a.fields))b[c]=W3(d);return b}function W3(a){switch(a.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(a.kind.value))throw Error(`${a.$typeName} cannot be NaN or Infinity`);return a.kind.value;case"boolValue":case"stringValue":return a.kind.value;case"structValue":return W2(a.kind.value);case"listValue":return W4(a.kind.value);default:throw Error(`${a.$typeName} must have a value`)}}function W4(a){return a.values.map(W3)}function W5(a){let b=Object.assign({},a);return null!=b.ignoreUnknownFields||(b.ignoreUnknownFields=!0),b}function W6(a,b,c,d){let e=b?W7(a.input,d):W8(a.input,c);return{parse:(b?W7(a.output,d):W8(a.output,c)).parse,serialize:e.serialize}}function W7(a,b){return{parse(c){try{return Vs(a,c,b)}catch(b){let a=b instanceof Error?b.message:String(b);throw new Ws(`parse binary: ${a}`,ax.Internal)}},serialize(c){try{return VL(a,c,b)}catch(b){let a=b instanceof Error?b.message:String(b);throw new Ws(`serialize binary: ${a}`,ax.Internal)}}}}function W8(a,b){var c,d;let e=null!=(c=null==b?void 0:b.textEncoder)?c:new TextEncoder,f=null!=(d=null==b?void 0:b.textDecoder)?d:new TextDecoder,g=W5(b);return{parse(b){try{let c=f.decode(b);return WL(a,function(a,b){try{return JSON.parse(a)}catch(c){let a=c instanceof Error?c.message:String(c);throw Error(`cannot decode message ${b} from JSON: ${a}`,{cause:c})}}(c,a.typeName),g)}catch(a){throw Ws.from(a,ax.InvalidArgument)}},serialize(b){try{var c;let d=JSON.stringify(W$(Vc(a,b),g?Object.assign(Object.assign({},WZ),g):WZ),null,null!=(c=null==g?void 0:g.prettySpaces)?c:0);return e.encode(d)}catch(a){throw Ws.from(a,ax.Internal)}}}}class W9{constructor(a){this.readMaxBytes=a,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((a,b)=>a+b.byteLength,0)}decode(a){this.buf.push(a);let b=[];for(;;){let a=this.pop();if(!a)break;b.push(a)}return b}pop(){if((this.env||(this.env=this.head(),this.env))&&this.cons(this.env.data)){let a=this.env;return this.env=void 0,a}}head(){if(!this.cons(this.header))return;let a=this.headerView.getUint8(0),b=this.headerView.getUint32(1);return!function(a,b,c=!1){if(b>a){let d=`message size is larger than configured readMaxBytes ${a}`;throw c&&(d=`message size ${b} is larger than configured readMaxBytes ${a}`),new Ws(d,ax.ResourceExhausted)}}(this.readMaxBytes,b,!0),{flags:a,data:new Uint8Array(b)}}cons(a){let b=a.byteLength;if(this.byteLength<b)return!1;let c=0;for(;c<b;){let d=this.buf.shift();d.byteLength>b-c?(a.set(d.subarray(0,b-c),c),this.buf.unshift(d.subarray(b-c)),c+=b-c):(a.set(d,c),c+=d.byteLength)}return!0}}function Xa(a,b){return a.toString().replace(/\/?$/,`/${b.parent.typeName}/${b.name}`)}function Xb(a,b){if(!b)return a;for(let c of b.concat().reverse())a=c(a);return a}function Xc(a){if(!a.aborted)return;if(void 0!==a.reason)return a.reason;let b=Error("This operation was aborted");return b.name="AbortError",b}function Xd(a){var b;let c,d,e,{signal:f,cleanup:g}=(b=a.timeoutMs,d=new AbortController,e=()=>{d.abort(new Ws("the operation timed out",ax.DeadlineExceeded))},void 0!==b&&(b<=0?e():c=setTimeout(e,b)),{signal:d.signal,cleanup:()=>clearTimeout(c)}),h=function(...a){let b=new AbortController,c=a.filter(a=>void 0!==a).concat(b.signal);for(let a of c){if(a.aborted){d.apply(a);break}a.addEventListener("abort",d)}function d(){for(let a of(b.signal.aborted||b.abort(Xc(this)),c))a.removeEventListener("abort",d)}return b}(a.signal,f);return[h.signal,function(a){let b=Ws.from(f.aborted?Xc(f):a);return h.abort(b),g(),Promise.reject(b)},function(){g(),h.abort()}]}function Xe(a,b,c){var d;if(b&&new Headers(b).forEach((a,b)=>c.metadata.append(b,a)),"object"!=typeof a||null==a||Array.isArray(a))throw c;let e=c.code;"code"in a&&"string"==typeof a.code&&(e=null!=(d=function(a){if(!g)for(let a of(g={},Object.values(ax)))"string"!=typeof a&&(g[Wr(a)]=a);return g[a]}(a.code))?d:e);let f=a.message;if(null!=f&&"string"!=typeof f)throw c;let h=new Ws(null!=f?f:"",e,b);if("details"in a&&Array.isArray(a.details))for(let b of a.details){if(null===b||"object"!=typeof b||Array.isArray(b)||"string"!=typeof b.type||"string"!=typeof b.value)throw c;try{h.details.push({type:b.type,value:Uy(b.value),debug:b.debug})}catch(a){throw c}}return h}let Xf="Content-Type",Xg="Content-Encoding",Xh="Connect-Protocol-Version",Xi="User-Agent",Xj=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i;function Xk(a,b,c,d,e){let f=new Headers(null!=d?d:{});return void 0!==c&&f.set("Connect-Timeout-Ms",`${c}`),f.set(Xf,"unary"==a?b?"application/proto":"application/json":b?"application/connect+proto":"application/connect+json"),f.set(Xh,"1"),!f.has(Xi)&&e&&f.set(Xi,"connect-es/2.1.1"),f}function Xl(a){let b=new Headers,c=new Headers;return a.forEach((a,d)=>{d.toLowerCase().startsWith("trailer-")?c.append(d.substring(8),a):b.append(d,a)}),[b,c]}let Xm="application/";function Xn(a,b,c,d){let e=d.get(Xf),f=function(a){let b=null==a?void 0:a.match(Xj);if(b)return{stream:!!b[1],binary:!!b[3]}}(e);if(200!==c){let b=new Ws(`HTTP ${c}`,function(a){switch(a){case 400:return ax.Internal;case 401:return ax.Unauthenticated;case 403:return ax.PermissionDenied;case 404:return ax.Unimplemented;case 429:case 502:case 503:case 504:return ax.Unavailable;default:return ax.Unknown}}(c),d);if("unary"==a&&f&&!f.binary)return{isUnaryError:!0,unaryError:b};throw b}let g={binary:b,stream:"unary"!==a};if((null==f?void 0:f.binary)!==g.binary||f.stream!==g.stream)throw new Ws(`unsupported content type ${e}`,void 0===f?ax.Unknown:ax.Internal,d);return{isUnaryError:!1}}var Xo=function(a){return this instanceof Xo?(this.v=a,this):new Xo(a)},Xp=function(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",function(a){return function(b){return Promise.resolve(b).then(a,j)}}),d[Symbol.asyncIterator]=function(){return this},d;function g(a,b){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})},b&&(d[a]=b(d[a])))}function h(a,b){try{var c;(c=e[a](b)).value instanceof Xo?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}};let Xq={redirect:"error"};async function Xr(a,b){if(b<0)throw Error("Threshold cannot be negative");if(0===b)return[];if(0===a.length&&b>0)throw Error("Cannot reach positive threshold with no promises");if(b>a.length)throw Error(`Threshold ${b} exceeds number of promises ${a.length}`);let c=[],d=0;return new Promise((e,f)=>{a.forEach(g=>{g.then(a=>{c.length<b&&(c.push(a),c.length===b&&e(c))}).catch(e=>{console.error(`Error executing promise: ${e}`),d++,a.length-c.length-d<b-c.length&&f(Error(`Cannot reach threshold of ${b} responses. Failed clients exceed limit. Last error: ${e}`))})})})}class Xs{kmss;threshold;constructor(a,b){if(0===a.length)throw Error("At least one attester or KMS client is required");if(b<1||b>a.length)throw Error(`Threshold must be between 1 and ${a.length}`);a.length>0&&"attestedDecrypt"in a[0]?this.kmss=a.map(a=>({client:a,signer:a.signerAddress})):this.kmss=a.map(a=>{var b,c;return{client:(b=a.url,c=a.signer,"string"==typeof b?Object.assign(function(a,b){var c=a=>{var c,d,e,f,g,h,i,j;switch(a.methodKind){case"unary":return c=b,d=a,async(a,b)=>{var e,f;let g=await c.unary(d,null==b?void 0:b.signal,null==b?void 0:b.timeoutMs,null==b?void 0:b.headers,a,null==b?void 0:b.contextValues);return null==(e=null==b?void 0:b.onHeader)||e.call(b,g.header),null==(f=null==b?void 0:b.onTrailer)||f.call(b,g.trailer),g.message};case"server_streaming":return e=b,f=a,(a,b)=>WB(e.stream(f,null==b?void 0:b.signal,null==b?void 0:b.timeoutMs,null==b?void 0:b.headers,function(a){return Wv(this,arguments,function*(){yield Wu((yield*Ww(Wt(a))))})}([a]),null==b?void 0:b.contextValues),b);case"client_streaming":return g=b,h=a,async(a,b)=>{let c,d=await g.stream(h,null==b?void 0:b.signal,null==b?void 0:b.timeoutMs,null==b?void 0:b.headers,a,null==b?void 0:b.contextValues);null==(l=null==b?void 0:b.onHeader)||l.call(b,d.header);let e=0;try{for(var f,i,j,k,l,m,n,o=!0,p=Wx(d.message);!(f=(n=await p.next()).done);o=!0)k=n.value,o=!1,c=k,e++}catch(a){i={error:a}}finally{try{!o&&!f&&(j=p.return)&&await j.call(p)}finally{if(i)throw i.error}}if(!c)throw new Ws("protocol error: missing response message",ax.Unimplemented);if(e>1)throw new Ws("protocol error: received extra messages for client streaming method",ax.Unimplemented);return null==(m=null==b?void 0:b.onTrailer)||m.call(b,d.trailer),c};case"bidi_streaming":return i=b,j=a,(a,b)=>WB(i.stream(j,null==b?void 0:b.signal,null==b?void 0:b.timeoutMs,null==b?void 0:b.headers,a,null==b?void 0:b.contextValues),b);default:return null}};let d={};for(let b of a.methods){let a=c(b);null!=a&&(d[b.localName]=a)}return d}(VH,function(a){var b;try{new Headers}catch(a){throw Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}let c=null!=(b=a.useBinaryFormat)&&b;return{async unary(b,d,e,f,g,h){let{serialize:i,parse:j}=W6(b,c,a.jsonOptions,a.binaryOptions);return e=void 0===e?a.defaultTimeoutMs:e<=0?void 0:e,await function(a){let b=Xb(a.next,a.interceptors),[c,d,e]=Xd(a);return b(Object.assign(Object.assign({},a.req),{message:T6(a.req.method.input,a.req.message),signal:c})).then(a=>(e(),a),d)}({interceptors:a.interceptors,signal:d,timeoutMs:e,req:{stream:!1,service:b.parent,method:b,requestMethod:"POST",url:Xa(a.baseUrl,b),header:Xk(b.methodKind,c,e,f,!1),contextValues:null!=h?h:WY(),message:g},next:async d=>{var e;let f=!0===a.useHttpGet&&b.idempotency===aj.NO_SIDE_EFFECTS,g=null;f?d=function(a,b,c){let d="?connect=v1",e=a.header.get(Xf);(null==e?void 0:e.indexOf(Xm))===0&&(d+="&encoding="+encodeURIComponent(e.slice(Xm.length)));let f=a.header.get(Xg);null!==f&&"identity"!==f&&(d+="&compression="+encodeURIComponent(f),c=!0),c&&(d+="&base64=1"),d+="&message="+(c?Uz(b,"url"):encodeURIComponent(new TextDecoder().decode(b)));let g=a.url+d,h=new Headers(a.header);for(let a of[Xh,Xf,"Content-Length",Xg,"Accept-Encoding"])h.delete(a);return Object.assign(Object.assign({},a),{requestMethod:"GET",url:g,header:h})}(d,i(d.message),c):g=i(d.message);let h=null!=(e=a.fetch)?e:globalThis.fetch,k=await h(d.url,Object.assign(Object.assign({},Xq),{method:d.requestMethod,headers:d.header,signal:d.signal,body:g})),{isUnaryError:l,unaryError:m}=Xn(b.methodKind,c,k.status,k.headers);if(l)throw Xe(await k.json(),function(...a){let b=new Headers;for(let c of a)c.forEach((a,c)=>{b.append(c,a)});return b}(...Xl(k.headers)),m);let[n,o]=Xl(k.headers);return{stream:!1,service:b.parent,method:b,header:n,message:c?j(new Uint8Array(await k.arrayBuffer())):WL(b.output,await k.json(),W5(a.jsonOptions)),trailer:o}}})},async stream(b,d,e,f,g,h){let{serialize:i,parse:j}=W6(b,c,a.jsonOptions,a.binaryOptions);async function k(a){var c;let d,e;if("server_streaming"!=b.methodKind)throw"The fetch API does not support streaming request bodies";let f=await a[Symbol.asyncIterator]().next();if(!0==f.done)throw"missing request message";return(d=new Uint8Array((c=i(f.value)).length+5)).set(c,5),(e=new DataView(d.buffer,d.byteOffset,d.byteLength)).setUint8(0,0),e.setUint32(1,c.length),d}return e=void 0===e?a.defaultTimeoutMs:e<=0?void 0:e,await function(a){let b=Xb(a.next,a.interceptors),[c,d,e]=Xd(a),f=Object.assign(Object.assign({},a.req),{message:function(a,b){function c(b){return!0===b.done?b:{done:b.done,value:T6(a,b.value)}}return{[Symbol.asyncIterator](){let a=b[Symbol.asyncIterator](),d={next:()=>a.next().then(c)};return void 0!==a.throw&&(d.throw=b=>a.throw(b).then(c)),void 0!==a.return&&(d.return=b=>a.return(b).then(c)),d}}}(a.req.method.input,a.req.message),signal:c}),g=!1;return c.addEventListener("abort",function(){var b,c;let d=a.req.message[Symbol.asyncIterator]();g||null==(b=d.throw)||b.call(d,this.reason).catch(()=>{}),null==(c=d.return)||c.call(d).catch(()=>{})}),b(f).then(a=>Object.assign(Object.assign({},a),{message:{[Symbol.asyncIterator](){let b=a.message[Symbol.asyncIterator]();return{next:()=>b.next().then(a=>(!0==a.done&&(g=!0,e()),a),d)}}}}),d)}({interceptors:a.interceptors,timeoutMs:e,signal:d,req:{stream:!0,service:b.parent,method:b,requestMethod:"POST",url:Xa(a.baseUrl,b),header:Xk(b.methodKind,c,e,f,!1),contextValues:null!=h?h:WY(),message:g},next:async d=>{var e;let f=null!=(e=a.fetch)?e:globalThis.fetch,g=await f(d.url,Object.assign(Object.assign({},Xq),{method:d.requestMethod,headers:d.header,signal:d.signal,body:await k(d.message)}));if(Xn(b.methodKind,c,g.status,g.headers),null===g.body)throw"missing response body";let h=new Headers;return Object.assign(Object.assign({},d),{header:g.headers,trailer:h,message:function(a,b,c,d){return Xp(this,arguments,function*(){let e,f,g=(f=new W9(0xffffffff),new ReadableStream({start(){e=a.getReader()},async pull(a){let b=!1;for(;!b;){let c=await e.read();if(c.done)f.byteLength>0&&a.error(new Ws("protocol error: incomplete envelope",ax.InvalidArgument)),a.close();else for(let d of f.decode(c.value))a.enqueue(d),b=!0}}})).getReader(),h=!1;for(;;){let a=yield Xo(g.read());if(a.done)break;let{flags:d,data:e}=a.value;if((1&d)==1)throw new Ws("protocol error: received unsupported compressed output",ax.Internal);if((2&d)==2){h=!0;let a=function(a){let b,c=new Ws("invalid end stream",ax.Unknown);try{b=JSON.parse("string"==typeof a?a:new TextDecoder().decode(a))}catch(a){throw c}if("object"!=typeof b||null==b||Array.isArray(b))throw c;let d=new Headers;if("metadata"in b){if("object"!=typeof b.metadata||null==b.metadata||Array.isArray(b.metadata))throw c;for(let[a,e]of Object.entries(b.metadata)){if(!Array.isArray(e)||e.some(a=>"string"!=typeof a))throw c;for(let b of e)d.append(a,b)}}let e="error"in b&&null!=b.error?Xe(b.error,d,c):void 0;return{metadata:d,error:e}}(e);if(a.error){let b=a.error;throw c.forEach((a,c)=>{b.metadata.append(c,a)}),b}a.metadata.forEach((a,c)=>b.set(c,a));continue}yield yield Xo(j(e))}if("throwIfAborted"in d&&d.throwIfAborted(),!h)throw"missing EndStreamResponse"})}(g.body,h,g.headers,d.signal)})}})}}}({baseUrl:b})),{signerAddress:c}):Object.assign(b,{signerAddress:c})),signer:a.signer}}),this.threshold=b}static fromUrls(a,b,c){if(0===a.length)throw Error("At least one URL is required");if(b.length!==a.length)throw Error(`Signers array length (${b.length}) must match URLs array length (${a.length})`);if(c<1||c>a.length)throw Error(`Threshold must be between 1 and ${a.length} (number of URLs)`);return new Xs(a.map((a,c)=>({url:a,signer:b[c]})),c)}static fromKmsClients(a,b){if(0===a.length)throw Error("At least one KMS client is required");if(b<1||b>a.length)throw Error(`Threshold must be between 1 and ${a.length} (number of KMS clients)`);return new Xs(a,b)}async attestedDecrypt(a,b){let c=await this.executeKmsOperationWithThreshold(async b=>await b.client.attestedDecrypt(a),b),d=c.map(a=>a.response),e=c.map(a=>a.signer),f=this.verifyResponseConsistency(d);return this.buildAggregatedAttestations(f,d,e)}async attestedCompute(a,b){let c=await this.executeKmsOperationWithThreshold(async b=>await b.client.attestedCompute(a),b),d=c.map(a=>a.response),e=c.map(a=>a.signer),f=this.verifyComputeResponseConsistency(d,a);return this.buildAggregatedComputeAttestation(f,d,e)}async attestedReveal(a,b){let c=await this.executeKmsOperationWithThreshold(async b=>await b.client.attestedReveal(a),b),d=c.map(a=>a.response),e=c.map(a=>a.signer),f=this.verifyResponseConsistency(d);return this.buildAggregatedAttestations(f,d,e)}async executeKmsOperationWithThreshold(a,b){let c=this.kmss.map(async(c,d)=>{try{return{response:await Wq(async()=>await a(c),b),signer:c.signer}}catch(a){throw Error(`KMS client ${d} failed: ${a}`)}});return await Xr(c,this.threshold)}collectAndSortSignatures(a,b){let c=a.map((a,c)=>({signature:a,signer:b[c]}));return c.sort((a,b)=>{let c=BigInt(a.signer),d=BigInt(b.signer);return c<d?-1:+(c>d)}),c.map(a=>a.signature)}buildPlaintextAttestation(a,b){if(!a.value||"plaintext"!==a.value.case)throw Error("Expected plaintext attestation");let c=a.value.value.value,d=a.handle,e=NX(d);return{handle:d,plaintext:Ur(1,e,NM(c)),covalidatorSignatures:b}}buildAggregatedAttestations(a,b,c){return Array(a.decryptionAttestations.length).fill(void 0).map((d,e)=>{let f=a.decryptionAttestations[e];if(!f.value)throw Error("No value in attestation");let g=b.map(a=>a.decryptionAttestations[e].signature),h=this.collectAndSortSignatures(g,c);if("plaintext"===f.value.case)return this.buildPlaintextAttestation(f,h);if("reencryption"===f.value.case){let a=b.map(a=>{if("reencryption"===a.decryptionAttestations[e].value.case)return a.decryptionAttestations[e].value.value.encryptedSignature;throw Error(`Expected reencryption attestation but received '${a.decryptionAttestations[e].value.case}'`)}),d=this.collectAndSortSignatures(a,c),g=f.value.value.userCiphertext,i=NX(NK(NL,f.handle));return{handle:f.handle,encryptedPlaintext:{ciphertext:{value:NP(g),scheme:1,type:i}},encryptedSignatures:d,covalidatorSignatures:h}}throw Error(`Unexpected attestation type: ${f.value.case}, expected 'plaintext' or 'reencryption'`)})}buildAggregatedComputeAttestation(a,b,c){let d=a.decryptionAttestation;if(!d)throw Error("No decryption attestation in reference response");if(!d.value)throw Error("No value in reference attestation");let e=[];for(let a of b){let b=a.decryptionAttestation;b&&e.push(b.signature)}let f=this.collectAndSortSignatures(e,c);if("plaintext"===d.value.case)return this.buildPlaintextAttestation(d,f);if("reencryption"===d.value.case){let a=d.value.value.userCiphertext;if(!a)throw Error("No ciphertext in reencryption");let e=NX(NK(NL,d.handle)),g=b.map(a=>{if(a.decryptionAttestation?.value.case==="reencryption")return(a.decryptionAttestation?.value.value).encryptedSignature;throw Error(`Expected reencryption attestation but received '${a.decryptionAttestation?.value.case}'`)}),h=this.collectAndSortSignatures(g,c);return{handle:d.handle,encryptedPlaintext:{ciphertext:{value:NP(a),scheme:1,type:e}},encryptedSignatures:h,covalidatorSignatures:f}}throw Error(`Unexpected attestation type: ${d.value.case}, expected 'plaintext' or 'reencryption'`)}verifyResponseConsistency(a){if(0===a.length)throw Error("No responses collected to verify");let b=a[0];for(let c=1;c<a.length;c++)if(a[c].decryptionAttestations.length!==b.decryptionAttestations.length)throw Error("Inconsistent number of decryption attestations across KMS responses");for(let c=0;c<b.decryptionAttestations.length;c++){let d=b.decryptionAttestations[c];if(!d.value)throw Error("No value in reference attestation");let e=d.value.case;for(let b=1;b<a.length;b++){let d=a[b].decryptionAttestations[c];if(!d.value)throw Error("No value in attestation");if(d.value.case!==e)throw Error(`Inconsistent attestation types: reference has '${e}' but response ${b} has '${d.value.case}'`)}if("plaintext"===e)this.verifyPlaintextConsistency(c,b,a);else if("reencryption"===e)this.verifyCiphertextConsistency(c,b,a);else throw Error(`Unexpected attestation type: ${e}, expected 'plaintext' or 'reencryption'`)}return b}verifyComputeResponseConsistency(a,b){let c,d,e;if(0===a.length)throw Error("No responses collected to verify");let f=a[0],g=f.decryptionAttestation;if(!g)throw Error("No decryption attestation in reference response");if(!g.value)throw Error("No value in reference attestation");let h=g.value.case;if("plaintext"===h)c=g.value.value.value;else if("reencryption"===h){if(!(d=g.value.value.userCiphertext))throw Error("No ciphertext in reference reencryption");e=NX(NK(NL,g.handle))}else throw Error(`Unexpected attestation type: ${h}, expected 'plaintext' or 'reencryption'`);let i=b?.reencryptPubKey&&b.reencryptPubKey.length>0;if("reencryption"===h&&!i)throw Error("Unexpected attestation type: reencryption, expected 'plaintext'");for(let b=1;b<a.length;b++){let f=a[b].decryptionAttestation;if(!f)throw Error("No decryption attestation in response");if(!f.value)throw Error("No value in attestation");if(f.value.case!==h)throw Error(`Inconsistent attestation types: reference has '${h}' but response ${b} has '${f.value.case}'`);if(f.handle!==g.handle)throw Error("Handles differ across KMS responses");if("plaintext"===h){if(!c)throw Error("No reference plaintext bytes to compare");if("plaintext"!==f.value.case)throw Error("Expected plaintext attestation but received non-plaintext");let a=f.value.value.value;this.verifyPlaintextBytesConsistency(c,a)}else if("reencryption"===h){if(!d||!e)throw Error("No reference reencryption data to compare");if("reencryption"!==f.value.case)throw Error("Expected reencryption attestation but received non-reencryption");let a=f.value.value.userCiphertext;if(!a)throw Error("No ciphertext in reencryption");if(NX(NK(NL,f.handle))!==e)throw Error("FHE types differ across KMS responses");if(d.length!==a.length)throw Error("Ciphertexts differ across KMS responses");for(let b=0;b<d.length;b++)if(d[b]!==a[b])throw Error("Ciphertexts differ across KMS responses")}}return f}verifyPlaintextBytesConsistency(a,b){if(a.length!==b.length)throw Error("Plaintexts differ across KMS responses");for(let c=0;c<a.length;c++)if(a[c]!==b[c])throw Error("Plaintexts differ across KMS responses")}verifyPlaintextConsistency(a,b,c){let d=b.decryptionAttestations[a];if(d.value?.case!=="plaintext")throw Error("Expected plaintext attestation");let e=d.value.value.value;for(let b=1;b<c.length;b++){let d=c[b].decryptionAttestations[a];if(d.value?.case!=="plaintext")throw Error("Expected plaintext attestation but received non-plaintext");let f=d.value.value.value;this.verifyPlaintextBytesConsistency(e,f)}}verifyCiphertextConsistency(a,b,c){let d=b.decryptionAttestations[a];if(d.value?.case!=="reencryption")throw Error("Expected reencryption attestation");let e=d.value.value.userCiphertext;if(!e)throw Error("No ciphertext in reference reencryption");let f=NX(NK(NL,d.handle));for(let b=1;b<c.length;b++){let d=c[b].decryptionAttestations[a];if(d.value?.case!=="reencryption")throw Error("Expected reencryption attestation but received non-reencryption");let g=d.value.value.userCiphertext;if(!g)throw Error("No ciphertext in reencryption");if(NX(NK(NL,d.handle))!==f)throw Error("FHE types differ across KMS responses");if(e.length!==g.length)throw Error("Ciphertexts differ across KMS responses");for(let a=0;a<e.length;a++)if(e[a]!==g[a])throw Error("Ciphertexts differ across KMS responses")}}}var Nx=Nx;let Xt=Nx.Struct({DEPLOYER_ADDRESS:NS,STATE_DUMP:Nx.String,EXECUTOR_ADDRESS:NS,NETWORK_PUBKEY:Nx.optional(NL),SENDER_ADDRESS:NS,SENDER_PRIVATE_KEY:NL,EIP712_SIGNER_ADDRESS:Nx.optional(NL),PEPPER:Nx.String,COVALIDATOR_NETWORK_PRIVATE_KEY:Nx.optional(NL),COVALIDATOR_EIP712_PRIVATE_SIGNING_KEY:Nx.optional(NL),COVALIDATOR_INCO_EXECUTOR_ADDR:NS,COVALIDATOR_HOST_CHAIN_ID:Nx.optional(Nx.String),COVALIDATOR_URL:Nx.optional(Nx.String),COVALIDATOR_HOST_CHAIN_RPC_URL:Nx.optional(Nx.String)}),Xu="testnet";function Xv(a){return!!a&&"object"==typeof a&&"kp"in a}class Xw{_deployment;covalidatorUrls;signers;threshold;networkPubkey;executorAddress;chainId;ephemeralKeypair;kmsQuorumClient;encryptor;constructor(a,b,c,d,e){var f;this._deployment=a,this.covalidatorUrls=b,this.signers=c,this.threshold=d,this.networkPubkey=e,this.executorAddress=NT(a.executorAddress),this.chainId=BigInt(a.chainId),this.ephemeralKeypair=VV(),this.encryptor=function({pubKeyA:a,privKeyB:b}){let c=Buffer.from(a.encode("array",!1)),d=b.kp.getPrivate().toArrayLike(Buffer,"be",32);return async({plaintext:a,context:b})=>{var e,f;if(1!==a.scheme)throw Error(`Plaintext with scheme ${function(a){if(1===a)return"ECIES";throw Error(`Unknown encryption scheme: ${a}`)}(a.scheme)} cannot be encrypted with ECIES`);let g=Buffer.from(function({plaintext:a,context:b}){let c,d=T6(VS,{contextHash:(c=NG(["string","uint256","address","address","address"],["evm/",b.hostChainId,b.aclAddress,b.userAddress,b.contractAddress]),new Ny.Keccak(256).update(Buffer.from((0,NH.hexToBytes)(c))).digest()),value:{case:"scalar",value:T6(VT,{type:a.type,value:NN(function(a){switch(a.type){case NU.euint64:case NU.euint160:case NU.euint256:return a.value;case NU.ebool:return a.value?1n:0n}}(a))})}});return VL(VS,d)}({plaintext:a,context:b})),h=await (0,VI.encrypt)(c,g,{ephemPrivateKey:d}),i=function({ciphertext:a,indexHandle:b,handleType:c,handleVersion:d}){NY(b),NY(c),NY(d);let e=new Ny.Keccak(256).update(Buffer.from(a)).digest(),f=new Ny.Keccak(256).update(Buffer.from(e)).update(Buffer.from([b])).digest(),g=Buffer.alloc(32);return f.copy(g,0,0,29),g.writeUInt8(b,29),g.writeUInt8(c,30),g.writeUInt8(d,31),g}({ciphertext:h,handleType:a.type,indexHandle:0,handleVersion:0}),j=function({prehandle:a,context:b}){if(32!==a.length)throw Error(`prehandle should be 32 bytes but is: ${a.length}`);let c=NG(["bytes32","string","uint256","address","address","address"],[(0,NE.toHex)(a),"evm/",b.hostChainId,b.aclAddress,b.userAddress,b.contractAddress]);return Buffer.concat([new Ny.Keccak(256).update(Buffer.from((0,NH.hexToBytes)(c))).digest().subarray(0,29),a.slice(29,32)])}({prehandle:i,context:b});return{prehandle:NK(NR,i),handle:NK(NR,j),context:b,ciphertext:{scheme:1,type:a.type,value:(e=NP(j),f=NP(h),(0,Pg.encodeAbiParameters)(Us,[e,f]))}}}}({pubKeyA:(f=(0,NH.hexToBytes)(NK(NL,this.networkPubkey)),VU.keyFromPublic(f,"array").getPublic()),privKeyB:this.ephemeralKeypair}),this.kmsQuorumClient=Xs.fromUrls(this.covalidatorUrls,this.signers,this.threshold)}static async baseSepoliaTestnet(){return Xw.latest("testnet",TI.id)}static async localNode(a){if(!a){let a=Wh[Xu];return Xw.custom({...a,covalidatorUrls:[...a.covalidatorUrls],signers:a.signers.map(a=>NT(a))})}if("string"==typeof a){let b=Wh[a];return Xw.custom({...b,covalidatorUrls:[...b.covalidatorUrls],signers:b.signers.map(a=>NT(a))})}let b=Wh[Xu];return Xw.custom({chainId:a.COVALIDATOR_HOST_CHAIN_ID?Number(a.COVALIDATOR_HOST_CHAIN_ID):b.chainId,covalidatorUrls:a.COVALIDATOR_URL?a.COVALIDATOR_URL.split(","):[...b.covalidatorUrls],signers:a.EIP712_SIGNER_ADDRESS?a.EIP712_SIGNER_ADDRESS.split(",").map(a=>NT(a)):b.signers.map(a=>NT(a)),hostChainRpcUrl:a.COVALIDATOR_HOST_CHAIN_RPC_URL??b.hostChainRpcUrl??"http://localhost:8545",executorAddress:a.EXECUTOR_ADDRESS,senderPrivateKey:a.SENDER_PRIVATE_KEY})}static async localNodeFromEnv(b){var c;let d,e;if(b&&"object"==typeof b&&"filePath"in b&&"string"==typeof b.filePath){if("u"<typeof process||!process.versions?.node)throw Error("Lightning.localNodeFromEnv with a file path is only available in Node environments.");let{readFile:c}=await a.A(60815);d=await c(b.filePath)}else d=b;let f=(e=(c=d)?function(a){let b={};for(let c of a.split("\n")){let a=c.trim();if(a&&!a.startsWith("#")){let c=a.indexOf("=");if(-1!==c){let d=a.substring(0,c).trim(),e=a.substring(c+1).trim();(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.substring(1,e.length-1)),b[d]=e}}}for(let[a,c]of Object.entries(b))b[a]=c.replace(/\${?(\w+)}?/g,(a,c)=>b[c]??"");return b}(c.toString()):process.env,Nx.decodeUnknownSync(Xt)(e));return await Xw.localNode(f)}static async at(a){let b=this.isIdByName(a)?Wg.find(b=>b.name===a.name&&b.chainId===a.chainId):Wg.find(b=>b.executorAddress===a.executorAddress&&b.chainId===a.chainId);if(!b)throw Error(`No deployment found for ${JSON.stringify(a)}`);let c=Ti({chain:Wp({id:b.chainId}),transport:Ty()}),{threshold:d,signers:e,networkPubkey:f}=await Xw.getChainConfig(b,c);return new Xw(b,Xw.getCovalidatorUrls(b,d),e,d,f)}static async custom(a){let b=Ti({chain:Wp({id:a.chainId}),transport:a.hostChainRpcUrl?Ty(a.hostChainRpcUrl):Ty()}),{threshold:c,signers:d,networkPubkey:e}=await Xw.getVerifierContractDetails(a.executorAddress,b);return new Xw(a,a.covalidatorUrls,d,c,e)}static latestDeployment(a,b){let c=Wg.find(c=>c.pepper===a&&c.chainId===b);if(!c)throw Error(`No deployment found for pepper ${a}`);return c}static async latest(a,b){return Xw.at(Xw.latestDeployment(a,b))}get deployment(){return{...this._deployment}}async encrypt(a,{accountAddress:b,dappAddress:c,handleType:d}){let{ciphertext:e}=await this.encryptor({plaintext:Xw.plaintextFromValue(a,d),context:{hostChainId:this.chainId,aclAddress:this.executorAddress,userAddress:NT(b),contractAddress:NT(c)}});return e.value}grantSessionKeyAllowanceVoucher(a,b,c,d){return V8({chainId:this.chainId,incoLiteAddress:this.executorAddress,sessionVerifierContractAddress:NT(d),granteeAddress:NT(b),sharerWalletClient:a,expiresAt:c})}grantCustomSessionKeyAllowanceVoucher(a,b,c){return V9({chainId:this.chainId,incoLiteAddress:this.executorAddress,sessionVerifierContractAddress:NT(b),sharerWalletClient:a,sharerArgData:c})}updateActiveVouchersSessionNonce(a){return Wa(this.executorAddress,a)}attestedDecrypt(a,b,c,d,e){if(c instanceof Uint8Array){let f,g;return(d&&Xv(d)?(f=d,g=e):g=d,f)?V$({handles:b,backoffConfig:g,chainId:Number(this.chainId),walletClient:a,kmsQuorumClient:this.kmsQuorumClient,executorAddress:this.executorAddress,reencryptPubKey:c,reencryptKeypair:f}):V$({executorAddress:this.executorAddress,handles:b,backoffConfig:g,chainId:Number(this.chainId),walletClient:a,kmsQuorumClient:this.kmsQuorumClient,reencryptPubKey:c})}let f=VV(),g=f.encodePublicKey();return V$({handles:b,backoffConfig:c,chainId:Number(this.chainId),walletClient:a,kmsQuorumClient:this.kmsQuorumClient,executorAddress:this.executorAddress,reencryptPubKey:g,reencryptKeypair:f})}attestedDecryptWithVoucher(a,b,c,d,e,f,g,h){if(e instanceof Uint8Array){let i,j,k;return(f&&Xv(f)?(i=f,j=g,k=h):(j=f,k=g),i)?Wc({backoffConfig:k,chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient,ephemeralKeypair:a,allowanceVoucherWithSig:b,handles:d,requesterArgData:j,reencryptPubKey:e,reencryptKeypair:i,ethClient:c,executorAddress:this.executorAddress}):Wc({backoffConfig:k,chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient,ephemeralKeypair:a,allowanceVoucherWithSig:b,handles:d,requesterArgData:j,reencryptPubKey:e,ethClient:c,executorAddress:this.executorAddress})}let i=VV(),j=i.encodePublicKey();return Wc({backoffConfig:f,chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient,ephemeralKeypair:a,allowanceVoucherWithSig:b,handles:d,requesterArgData:e,ethClient:c,executorAddress:this.executorAddress,reencryptPubKey:j,reencryptKeypair:i})}attestedCompute(a,b,c,d,e,f,g){if(e instanceof Uint8Array){let h,i;return(f&&Xv(f)?(h=f,i=g):i=f,h)?V6({executorAddress:this.executorAddress,walletClient:a,kmsQuorumClient:this.kmsQuorumClient,chainId:Number(this.chainId),lhsHandle:b,op:c,rhsPlaintext:d,reencryptPubKey:e,reencryptKeypair:h,backoffConfig:i}):V6({executorAddress:this.executorAddress,walletClient:a,kmsQuorumClient:this.kmsQuorumClient,chainId:Number(this.chainId),lhsHandle:b,op:c,rhsPlaintext:d,reencryptPubKey:e,backoffConfig:i})}let h=VV(),i=h.encodePublicKey();return V6({executorAddress:this.executorAddress,walletClient:a,kmsQuorumClient:this.kmsQuorumClient,chainId:Number(this.chainId),lhsHandle:b,op:c,rhsPlaintext:d,reencryptPubKey:i,reencryptKeypair:h,backoffConfig:e})}attestedComputeWithVoucher(a,b,c,d,e,f,g,h,i,j){if(g instanceof Uint8Array){let k,l,m;return(h&&Xv(h)?(k=h,l=i,m=j):(l=h,m=i),k)?Wb({chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient,ephemeralKeypair:a,allowanceVoucherWithSig:b,lhsHandle:d,op:e,rhsPlaintext:f,requesterArgData:l,ethClient:c,executorAddress:this.executorAddress,reencryptPubKey:g,reencryptKeypair:k,backoffConfig:m}):Wb({chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient,ephemeralKeypair:a,allowanceVoucherWithSig:b,lhsHandle:d,op:e,rhsPlaintext:f,requesterArgData:l,ethClient:c,executorAddress:this.executorAddress,reencryptPubKey:g,backoffConfig:m})}let k=VV(),l=k.encodePublicKey();return Wb({chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient,ephemeralKeypair:a,allowanceVoucherWithSig:b,lhsHandle:d,op:e,rhsPlaintext:f,requesterArgData:g,ethClient:c,executorAddress:this.executorAddress,reencryptPubKey:l,reencryptKeypair:k,backoffConfig:h})}attestedReveal(a,b){return V$({executorAddress:this.executorAddress,handles:a,backoffConfig:b,chainId:Number(this.chainId),kmsQuorumClient:this.kmsQuorumClient})}static getCovalidatorUrls(a,b){let{executorAddress:c,chainId:d,pepper:e}=a;return Array.from({length:b},(a,b)=>`https://${c.toLowerCase()}.${d}.${e}.inco.org`)}static isIdByName(a){return void 0!==a.name}static plaintextFromValue(a,b){if("boolean"==typeof a)return{scheme:1,type:NU.ebool,value:a};if("bigint"==typeof a||"number"==typeof a)return{scheme:1,type:b??NU.euint256,value:BigInt(a)};throw Error(`Unsupported type ${typeof a}`)}static async getNetworkPubkey(a,b){let c=await Xw.getIncoVerifierContract(a,b);try{return await c.read.networkPubkey()}catch{let b=Tq({abi:[{type:"function",inputs:[],name:"eciesPubkey",outputs:[{name:"",internalType:"bytes",type:"bytes"}],stateMutability:"view"}],address:c.address,client:a});return await b.read.eciesPubkey()}}static async getIncoVerifierContract(a,b){let c=Tq({abi:Uv,address:b,client:a});return Tq({abi:Ux,address:await c.read.incoVerifier(),client:a})}static async getVerifierContractDetails(a,b){let c=await Xw.getIncoVerifierContract(b,a),d=await c.read.getThreshold(),e=await Xw.getNetworkPubkey(b,a),f=await c.read.getSignersCount(),g=[];for(let a=BigInt(0);a<f;a++)g.push(c.read.getSignerAtIndex([a]));let h=await Promise.all(g);return{threshold:Number(d),signers:h.map(NT),networkPubkey:e}}static async getChainConfig(a,b){return this.supportsThresholdRetrieval(a)?await this.getVerifierContractDetails(a.executorAddress,b):this.getDefaultThresholdAndSigners()}static supportsThresholdRetrieval(a){if(!a.version)throw Error("Deployment version is undefined");let{major:b,minor:c}=a.version;return b>1||1===b&&c>=1}static getDefaultThresholdAndSigners(){return{threshold:1,signers:[Sa],networkPubkey:"0x02516bda9e68a1c3dce74dc1b6ed7d91a91d51c1e1933947f06331cef59631e9eb"}}}class Xx{static instance=null;async init(){if(!Xx.instance){console.log("[Inco] Initializing baseSepolia Lightning instance...");try{Xx.instance=await Xw.baseSepoliaTestnet(),console.log("[Inco] Instance created successfully")}catch(a){return console.error("[Inco] Static init failed:",a),null}}return Xx.instance}toEvmAddress(a){try{if(!a||"string"!=typeof a)return(0,Pp.getAddress)("0x0000000000000000000000000000000000000000");let b=(0,N9.keccak256)(NG(["string"],[a]));return(0,Pp.getAddress)(`0x${b.slice(26)}`)}catch(a){return(0,Pp.getAddress)("0x0000000000000000000000000000000000000000")}}async encryptScore(a,b){try{let c=await this.init();if(!c)throw Error("WASM Initialization failed");let d=this.toEvmAddress(a),e=(0,Pp.getAddress)("0x168FDc3Ae19A5d5b03614578C58974FF30FCBe92"),f=Math.max(0,Math.min(255,Math.floor(b))),g=NU?.euint8??0;console.log(`[Inco] Attempting Shielding for ${d}...`);try{let a=await c.encrypt(BigInt(f),{accountAddress:d,dappAddress:e,handleType:g});if(a)return a}catch(a){console.warn("[Inco] Library Error - Entering Resilience Logic:",a.message);try{return await c.encrypt(f,{accountAddress:d,dappAddress:e,handleType:g})}catch(a){throw Error("Library completely unresponsive")}}}catch(a){throw console.error(`[Inco] Shielding process failed: ${a.message}`),a}}async shield(a,b){try{let c=await this.encryptScore(a,b);return console.log(`[Inco Shield] Encrypted Attestation Generated: ${c.slice(0,16)}...`),{success:!0,txHash:(0,N9.keccak256)(NG(["string"],[c])),data:c}}catch(a){return console.error("[Inco Shield] Shielding process failed:",a),{success:!1,error:a.message}}}}let Xy=({wallet:a,score:b})=>{let[c,d]=(0,aA.useState)("idle"),[e,f]=(0,aA.useState)(null),g=async()=>{try{d("encrypting");let c=new Xx;await new Promise(a=>setTimeout(a,1500)),d("shielding");let e=await c.shield(a,b);if(await new Promise(a=>setTimeout(a,1e3)),e.success)f(e.txHash||null),d("complete");else throw Error(e.error||"Unknown shielding error")}catch(a){console.error("Shielding failed:",a),d("idle")}};return(0,az.jsxs)("div",{className:"glass p-8 relative group flex-none min-h-[340px] flex flex-col justify-between",children:[(0,az.jsx)("div",{className:"absolute inset-0 overflow-hidden rounded-[24px] pointer-events-none",children:(0,az.jsx)("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-primary/20 blur-[100px] rounded-full group-hover:bg-primary/30 transition-all"})}),(0,az.jsxs)("div",{className:"relative z-10",children:[(0,az.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,az.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-primary to-secondary p-[2px]",children:(0,az.jsx)("div",{className:"w-full h-full rounded-2xl bg-black flex items-center justify-center",children:(0,az.jsx)(dC.Lock,{className:"w-6 h-6 text-white"})})}),(0,az.jsxs)("div",{children:[(0,az.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:["Shield with Inco",(0,az.jsx)("span",{className:"text-[10px] bg-primary/20 text-primary px-2 py-1 rounded-full uppercase tracking-widest",children:"TEE Enabled"})]}),(0,az.jsx)("p",{className:"text-white/40 text-sm",children:"Confidential Reputation Proofs"})]})]}),(0,az.jsxs)(dB.AnimatePresence,{mode:"wait",children:["idle"===c&&(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex-1 flex flex-col justify-between gap-6",children:[(0,az.jsx)("p",{className:"text-white/60 leading-relaxed",children:"Use Inco Lightning to encrypt your privacy score. Protocols can verify your compliance without ever seeing your actual wallet or balance."}),(0,az.jsxs)("button",{onClick:g,className:"shimmer-btn w-full h-14 bg-gradient-to-r from-primary to-secondary text-white font-black rounded-xl flex items-center justify-center gap-2 hover:scale-[1.02] active:scale-[0.98] transition-all shadow-lg shadow-primary/20 border border-white/10",children:[(0,az.jsx)(aG.Shield,{className:"w-5 h-5"}),"CONFIDENTIALIZE SCORE"]})]},"idle"),("encrypting"===c||"shielding"===c)&&(0,az.jsxs)(aC.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-6 flex flex-col items-center justify-center gap-4 text-center",children:[(0,az.jsxs)("div",{className:"relative",children:[(0,az.jsx)(aC.motion.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-2 border-primary/20 border-t-primary rounded-full"}),(0,az.jsx)(dC.Lock,{className:"w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-primary"})]}),(0,az.jsxs)("div",{children:[(0,az.jsx)("h4",{className:"font-bold text-lg animate-pulse",children:"encrypting"===c?"Encrypting with FHE...":"Submitting to TEE relayer..."}),(0,az.jsx)("p",{className:"text-white/40 text-sm",children:"Kimiko is generating an attested confidential proof"})]})]},"loading"),"complete"===c&&(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-6 flex flex-col items-center justify-center gap-4 text-center",children:[(0,az.jsx)("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center ring-4 ring-green-500/10",children:(0,az.jsx)(aS,{className:"w-8 h-8 text-green-500"})}),(0,az.jsxs)("div",{children:[(0,az.jsxs)("h4",{className:"font-bold text-lg text-green-500 flex items-center justify-center gap-2",children:["Score Shielded",(0,az.jsx)(dD.Sparkles,{className:"w-4 h-4"})]}),(0,az.jsx)("p",{className:"text-white/60 text-sm mb-4",children:"Your reputation is now private yet verifiable"}),e&&(0,az.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-mono bg-white/5 p-2 rounded-lg border border-white/10 text-white/30",children:["TX: ",e.slice(0,10),"...",e.slice(-8),(0,az.jsx)(aJ,{className:"w-3 h-3 cursor-pointer hover:text-white"})]})]})]},"complete")]})]})]})},Xz=(0,aD.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),XA=(0,aD.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),XB=(0,aD.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),XC=(0,aD.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function XD({insights:a}){return a&&0!==a.length?(0,az.jsxs)("section",{className:"flex flex-col gap-6",children:[(0,az.jsxs)("div",{className:"flex items-center gap-3",children:[(0,az.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center text-red-500",children:(0,az.jsx)(Xz,{className:"w-6 h-6"})}),(0,az.jsxs)("div",{children:[(0,az.jsx)("h2",{className:"text-2xl font-bold",children:"Surveillance Report"}),(0,az.jsx)("p",{className:"text-white/40 text-sm",children:"How visible is your on-chain behavior?"})]})]}),(0,az.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-4",children:a.map((a,b)=>(0,az.jsx)(aC.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*b},className:"glass p-6 border-l-4 border-l-red-500/50 hover:bg-white/5 transition-all group",children:(0,az.jsxs)("div",{className:"flex gap-4",children:[(0,az.jsx)("div",{className:"mt-1",children:function(a){switch(a){case"identity":return(0,az.jsx)(XA,{className:"w-5 h-5 text-purple-500"});case"financial":return(0,az.jsx)(XB,{className:"w-5 h-5 text-green-500"});case"social":return(0,az.jsx)(XC,{className:"w-5 h-5 text-blue-500"});default:return(0,az.jsx)(Xz,{className:"w-5 h-5 text-red-500"})}}(a.type)}),(0,az.jsxs)("div",{className:"flex-1",children:[(0,az.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,az.jsx)("h4",{className:"font-bold text-lg group-hover:text-red-400 transition-colors",children:a.label}),(0,az.jsxs)("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-black tracking-widest ${"HIGH"===a.privacyImpact?"bg-red-500/20 text-red-500":"MEDIUM"===a.privacyImpact?"bg-yellow-500/20 text-yellow-500":"bg-blue-500/20 text-blue-500"}`,children:[a.privacyImpact," RISK"]})]}),(0,az.jsx)("p",{className:"text-sm text-white/50 leading-relaxed mb-3",children:a.description}),a.exposedValue&&(0,az.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-black/40 border border-white/5 text-xs",children:[(0,az.jsx)(aM,{className:"w-3 h-3 text-red-500"}),(0,az.jsx)("span",{className:"text-white/40 italic",children:"Visible Data:"}),(0,az.jsx)("span",{className:"text-red-400 font-mono font-bold",children:a.exposedValue})]})]})]})},a.label))}),(0,az.jsx)("div",{className:"glass p-6 bg-primary/5 border-primary/20",children:(0,az.jsxs)("p",{className:"text-xs text-white/40 leading-relaxed italic",children:[(0,az.jsx)("span",{className:"text-primary font-bold mr-1",children:"Note:"}),'Public blockchains are "Perpetual Surveillance Machines". Every link you create (to X, to CEX, to specific NFTs) is indexed by labeling platforms like Arkham and 0xppl. Selective privacy is the only way to break these loops.']})})]}):(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass p-8 flex flex-col items-center justify-center text-center gap-4",children:[(0,az.jsx)(aE,{className:"w-12 h-12 text-secondary opacity-50"}),(0,az.jsxs)("div",{children:[(0,az.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Private Signature"}),(0,az.jsx)("p",{className:"text-white/40 text-sm",children:"No significant behavioral labels or identity correlations detected."})]})]})}var XE=a.i(63638);function XF(){var a,b;let c,d,e,f,g,{wallet:h}=(0,aB.useParams)(),i=(0,aB.useRouter)(),[j,k]=(0,aA.useState)(null),[l,m]=(0,aA.useState)(!0),[n,o]=(0,aA.useState)(null),p=j?.metadata?.transactions?(a=j.wallet,b=j.metadata.transactions,c=new Map,d=new Map,c.set(a,{id:a,label:"Me",type:"central",size:20}),e=new Set(XE.default.categories.exchanges.map(a=>a.address)),f=new Set(XE.default.categories.bridges.map(a=>a.address)),g=new Set(XE.default.categories.defi_protocols.map(a=>a.address)),b.forEach(b=>{b.counterparties.forEach(b=>{if(!c.has(b)){let a="other";e.has(b)?a="exchange":f.has(b)?a="bridge":g.has(b)&&(a="exchange"),c.set(b,{id:b,label:b.slice(0,4)+"..."+b.slice(-4),type:a,size:8})}let h=c.get(b);h.id!==a&&(h.size=Math.min(30,h.size+2));let i=[a,b].sort().join("-");d.has(i)?d.get(i).weight+=1:d.set(i,{source:a,target:b,weight:1})})}),{nodes:Array.from(c.values()),links:Array.from(d.values())}):null;if((0,aA.useEffect)(()=>{let a=async()=>{try{let b=await fetch(`/api/analyze?wallet=${h}`),c=await b.json();c.success?c.data?(k(c.data),m(!1)):("pending"===c.status||"processing"===c.status)&&setTimeout(a,5e3):(o(c.error||"Failed to analyze wallet"),m(!1))}catch(a){o("An unexpected error occurred"),m(!1)}};h&&a()},[h]),l)return(0,az.jsxs)("div",{className:"min-h-screen bg-gradient-mesh flex flex-col items-center justify-center p-6 bg-[#050505]",children:[(0,az.jsx)(aC.motion.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{repeat:1/0,duration:2},className:"mb-8",children:(0,az.jsx)(aG.Shield,{className:"w-20 h-20 text-primary opacity-50"})}),(0,az.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,az.jsxs)("div",{className:"flex items-center gap-3 text-2xl font-bold",children:[(0,az.jsx)(aI.Loader2,{className:"w-6 h-6 animate-spin text-secondary"}),(0,az.jsx)("span",{className:"text-gradient",children:"Analyzing Privacy Leakage..."})]}),(0,az.jsx)("p",{className:"text-white/40 max-w-sm text-center",children:"Fetching transaction history and checking for identity exposure vectors. This may take a few seconds."})]})]});if(n){let a=n.includes("429")||n.includes("Too many requests");return(0,az.jsx)("div",{className:"min-h-screen bg-gradient-mesh flex flex-col items-center justify-center p-6 bg-[#050505] text-center",children:(0,az.jsxs)("div",{className:"glass p-12 max-w-lg",children:[(0,az.jsx)(aF,{className:"w-16 h-16 text-red-500 mx-auto mb-6"}),(0,az.jsx)("h1",{className:"text-3xl font-bold mb-4",children:a?"RPC Traffic Spike":"Analysis Failed"}),(0,az.jsx)("p",{className:"text-white/60 mb-8",children:a?(0,az.jsxs)(az.Fragment,{children:["The Solana RPC is experiencing high traffic. This typically happens with",(0,az.jsx)("span",{className:"text-white font-medium mx-1",children:"very active wallets"}),"(exchanges, protocols) that have massive transaction histories.",(0,az.jsx)("br",{}),(0,az.jsx)("br",{}),(0,az.jsx)("span",{className:"text-primary",children:"Try using your own wallet address instead"})," - personal wallets analyze much faster!"]}):n}),(0,az.jsx)("button",{onClick:()=>i.push("/"),className:"bg-white/10 hover:bg-white/20 px-8 py-3 rounded-xl font-bold transition-all",children:"Return Home"})]})})}return j?(0,az.jsxs)("main",{className:"min-h-screen bg-gradient-mesh bg-[#050505] pb-20",children:[(0,az.jsx)("header",{className:"sticky top-0 z-50 glass border-b border-white/5 bg-black/50 backdrop-blur-xl",children:(0,az.jsxs)("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[(0,az.jsxs)("div",{className:"flex items-center gap-6",children:[(0,az.jsxs)("button",{onClick:()=>i.push("/"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors border-r border-white/10 pr-6 mr-2",children:[(0,az.jsx)(aH,{className:"w-5 h-5"}),(0,az.jsx)("span",{className:"font-semibold",children:"Back"})]}),(0,az.jsxs)("div",{className:"flex items-center gap-3",children:[(0,az.jsx)("img",{src:"/logo.svg",alt:"Kimiko Logo",className:"w-8 h-8 drop-shadow-glow"}),(0,az.jsxs)("div",{className:"flex flex-col",children:[(0,az.jsx)("span",{className:"text-xl font-black tracking-tighter text-white uppercase italic leading-none",children:"Kimiko"}),(0,az.jsx)("span",{className:"text-[8px] text-primary/60 font-mono tracking-[0.3em] font-bold",children:""})]})]})]}),(0,az.jsxs)("div",{className:"flex items-center gap-4",children:[(0,az.jsxs)("div",{className:"hidden md:flex flex-col items-end",children:[(0,az.jsx)("span",{className:"text-xs text-white/40 font-mono",children:"Wallet Address"}),(0,az.jsx)("span",{className:"text-sm font-mono text-secondary truncate max-w-[200px]",children:j.wallet})]}),(0,az.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary p-[2px]",children:(0,az.jsx)("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center",children:(0,az.jsx)(aK,{className:"w-5 h-5"})})})]})]})}),(0,az.jsx)("div",{className:"max-w-7xl mx-auto px-6 mt-12",children:(0,az.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,az.jsxs)("div",{className:"lg:col-span-12 xl:col-span-8 flex flex-col gap-8",children:[(0,az.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,az.jsx)(aL,{score:j.privacyScore}),(0,az.jsxs)(aC.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"glass p-8 flex flex-col justify-between",children:[(0,az.jsxs)("div",{children:[(0,az.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,az.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${"LOW_RISK"===j.complianceTier?"bg-green-500/20 text-green-500":"MEDIUM_RISK"===j.complianceTier?"bg-yellow-500/20 text-yellow-500":"HIGH_RISK"===j.complianceTier?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"}`,children:"LOW_RISK"===j.complianceTier||"NEW_WALLET"===j.complianceTier?(0,az.jsx)(aE,{}):(0,az.jsx)(aF,{})}),(0,az.jsx)("h3",{className:"text-xl font-bold",children:"Compliance Tier"})]}),(0,az.jsx)("div",{className:"mb-4",children:(0,az.jsx)("span",{className:`text-4xl font-black uppercase tracking-tighter ${"LOW_RISK"===j.complianceTier?"text-green-500":"MEDIUM_RISK"===j.complianceTier?"text-yellow-500":"HIGH_RISK"===j.complianceTier?"text-red-500":"text-blue-500"}`,children:j.complianceTier.replace("_"," ")})}),(0,az.jsx)("div",{className:"text-white/40 leading-relaxed min-h-[60px]",children:"NEW_WALLET"===j.complianceTier?(0,az.jsxs)("p",{children:["This wallet has ",(0,az.jsx)("span",{className:"text-white mx-1 font-medium",children:"no transaction history"}),". While no risks are detected, there is insufficient behavior data for a definitive assessment."]}):(0,az.jsxs)("p",{children:["Based on behavior patterns, this wallet is classified as",(0,az.jsx)("span",{className:"text-white mx-1 font-medium ml-1 uppercase",children:j.complianceTier.toLowerCase().replace("_"," ")}),".","LOW_RISK"===j.complianceTier&&" No direct links to high-risk entities or suspicious patterns detected."]})})]}),(0,az.jsxs)("div",{className:"mt-8 pt-6 border-t border-white/5 flex items-center justify-between",children:[(0,az.jsxs)("span",{className:"text-sm text-white/40",children:["Reference ID: ",j.metadata.analyzedAt]}),(0,az.jsxs)("button",{onClick:()=>document.getElementById("surveillance-report")?.scrollIntoView({behavior:"smooth"}),className:"text-secondary text-sm font-bold flex items-center gap-1 hover:underline",children:["View Report ",(0,az.jsx)(aJ,{className:"w-4 h-4"})]})]})]})]}),(0,az.jsxs)("div",{className:"grid grid-cols-1 gap-8",children:[p&&(0,az.jsx)(dA,{data:p}),(0,az.jsx)(aP,{vectors:j.leakageVectors})]})]}),(0,az.jsxs)("div",{className:"lg:col-span-12 xl:col-span-4 flex flex-col gap-8",children:[(0,az.jsx)("div",{id:"surveillance-report",children:(0,az.jsx)(XD,{insights:j.surveillanceInsights})}),(0,az.jsx)(Xy,{wallet:j.wallet,score:j.privacyScore}),(0,az.jsx)(aT,{recommendations:j.recommendations})]})]})})]}):null}a.s(["default",()=>XF],99227)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__da0ef678._.js.map